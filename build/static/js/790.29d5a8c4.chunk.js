"use strict";(self.webpackChunkjustlend_front=self.webpackChunkjustlend_front||[]).push([[790],{4848:(e,t,r)=>{r.d(t,{A:()=>s});r(76998);const s=r.p+"static/media/arrow-left-white.031882fc00d2b125e2e2a51c58c0ffc9.svg"},47767:()=>{},53206:()=>{},82368:(e,t,r)=>{r.d(t,{A:()=>s});r(76998);const s=r.p+"static/media/arrow-left.9a34e0734b69e2b8bae7407eba0af2b3.svg"},85790:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var s=r(98859),n=r(76998),i=(r(87980),r(47767),r(51465),r(70705)),a=r(63460),l=r(13412),o=r(93995),d=r(42780),c=r(19523),h=r(25609),g=r(26559),p=r(81941),m=r(76181),x=r(59866),v=r(86653),y=r(96843),j=r(68111);r(86835),r(53206);const u=r.p+"static/media/energy.3036d10e17e54b925ff8e8bfa4e7c07b.svg";const w=r.p+"static/media/energy.656b6f23328381135700540c468cb112.svg";var N,_=r(4848),A=r(82368),C=r(33270),b=r(60888),k=r(23446);const{Option:f}=h.A;const R=(0,s.WQ)("network")(N=(0,s.WQ)("lend")(N=(0,s.WQ)("system")(N=(0,s.WQ)("energyRental")(N=(0,s.PA)(N=class extends n.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=async()=>{const{isConnected:e}=this.props.network;e?this.getOrderList():this.props.network.on("connect",(async()=>{this.getOrderList()}))},this.pageHeader=()=>{const{theme:e}=this.props.lend;return(0,k.jsxs)("div",{className:"order-list-header",children:[(0,k.jsxs)(j.N_,{className:"back-btn",to:"/energyRental",onClick:()=>{window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickBack"})},children:[(0,k.jsx)("img",{className:"back-icon",src:"white"===e?_.A:A.A,alt:""}),y.Ay.get("strx.rent_list_back")]}),(0,k.jsx)("div",{className:"title",children:y.Ay.get("strx.rent_list_title")})]})},this.toggleIsExpiryTime=()=>{const{isExpiryTime:e}=this.state;this.setState({isExpiryTime:!e}),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickTimechange"})},this.toggleIsEnergy=()=>{const{isEnergy:e}=this.state;this.setState({isEnergy:!e}),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickDelegTRX"})},this.onClickEndButton=(e,t)=>{0!==this.props.network.isRightChain?(this.props.energyRental.setData({endOrderModalVisible:!0,endOrderModalInfo:e}),"receiver"===t&&this.props.energyRental.setData({endOrderType:"receiver"}),this.props.system.clearRejectError(),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickEnd"})):this.props.network.changeChain()},this.onClickRenewButton=(e,t)=>{0!==this.props.network.isRightChain?(this.props.energyRental.setData({addOrderModalVisible:!0,isAddOrderModalApprovingTrans:!1,addOrderModalIsRenew:!0,renewOrderShouldUseSavedInfo:!1,addOrderModalStep:2,renewOrderExistingRemainingSeconds:t}),this.props.energyRental.getExistingRentalOrderInfo(e,t>0?1e5:0,0,t>0),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickRenew"})):this.props.network.changeChain()},this.getInfoColumns=e=>{const{defaultAccount:t}=this.props.network,{isExpiryTime:r,isEnergy:s}=this.state,{theme:n}=this.props.lend,i="white"===n;let a=[{title:"receiver"===e?y.Ay.get("s7.rented_from"):y.Ay.get("energy_rental_records.receiving_address"),dataIndex:"receiver",key:"1",render:(r,s)=>(0,k.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["receiver"===e?s.renter:r,"receiver"===e?null:r===t?(0,k.jsx)("span",{className:"current-receiver",children:y.Ay.get("strx.current_acct")}):null]})},{title:(0,k.jsxs)("span",{onClick:this.toggleIsEnergy,style:{cursor:"pointer"},children:[(0,k.jsx)("span",{className:s?"active":"inactive",children:y.Ay.get("strx.energy")}),(0,k.jsx)("span",{className:"slash",children:"|"}),(0,k.jsx)("span",{className:s?"inactive":"active",children:y.Ay.get("strx.delegated_trx")})]}),dataIndex:"energyAmount",key:"2",render:(e,t)=>(0,k.jsxs)("div",{className:"energyAmount",children:[(0,k.jsx)("img",{className:"energy-icon",src:i?w:u,alt:"Energy Icon"}),(0,C.ZV)(e,0)]})},{title:()=>(0,k.jsxs)("span",{className:"flex-box",children:[(0,k.jsx)("span",{children:r?y.Ay.get("energy_rental.mini_list.rental_time_title_expiration"):y.Ay.get("energy_rental.mini_list.rental_time_title_remaining")})," ",(0,k.jsx)("span",{className:"switch-icon",onClick:this.toggleIsExpiryTime})]}),dataIndex:"canRentSeconds",key:"3",width:"220px",render:(t,r,s)=>this.renderCanRentSeconds(t,s,"receiver"===e?"receiver":"")},{title:y.Ay.get("strx.operation"),dataIndex:"action",key:"4",width:"120px",render:(t,r)=>(0,k.jsxs)("div",{className:"btn-wrap",children:[(0,k.jsx)("button",{className:"j-btn j-rent-refund",onClick:t=>{t.preventDefault(),"receiver"===e?(this.setState({item:r}),this.props.energyRental.setData({endRentalTipShow:!0})):this.onClickEndButton(r)},children:y.Ay.get("strx.refund")}),"receiver"===e?(0,k.jsx)(g.A,{placement:"bottomRight",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown j-tooltip-dropdown-receiver",title:y.Ay.get("s7.tips2"),children:(0,k.jsx)("div",{children:(0,k.jsx)("button",{className:"j-btn j-rent-renew",disabled:!0,children:y.Ay.get("strx.renew")})})}):(0,k.jsx)("button",{className:"j-btn j-rent-renew",onClick:e=>{e.preventDefault(),this.onClickRenewButton(r.receiver,r.canRentSeconds)},children:y.Ay.get("strx.renew")})]})}];return s||(a[1]={...a[1],dataIndex:"delegateTrxAmount",render:(e,t)=>(0,k.jsxs)("div",{className:"delegateTrxAmount",children:[(0,C.ZV)(e,0,{cutZero:!0,round:!0,roundMode:"ROUND_UP"})," TRX"]})}),a},this.setOrderBy=e=>{this.setState({pageNumber:0,orderBy:e},(()=>this.getOrderList()))},this.onClickShowMore=()=>{this.setState((e=>{let{pageNumber:t}=e;return{pageNumber:t+1}}),(()=>this.getOrderList(!0,"renter"))),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickMore"})},this.onClickShowMoreOtherOrders=()=>{this.setState((e=>{let{otherPageNumber:t}=e;return{otherPageNumber:t+1}}),(()=>this.getOrderList(!0,"receiver")))},this.getOrderList=async function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;const{pageNumber:s,otherPageNumber:n,orderBy:i,rentType:a}=t.state;t.props.energyRental.getStrxRentAllOrderList({rentType:a,orderBy:i,page:"receiver"===r?n:s,isLoadMore:e,type:r})},this.renderMarketTop=()=>{const{orderBy:e,current:t}=this.state,{theme:r}=this.props.lend,{total:s}=this.props.energyRental.orderList,{receiverTotal:n}=this.props.energyRental.receiverOrdersList,i="white"===r,a=()=>this.setState({isOrderByOpen:!1});return(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"order-tabs",children:[(0,k.jsxs)("div",{className:"order-title"+("all"===t?" current":""),onClick:()=>this.setState({current:"all"}),children:[y.Ay.get("s7.all"),(0,k.jsx)("span",{className:"order-count",children:n&&s?(0,C.gH)(s).plus(n).toString():s||n?s||n:0})]}),(0,k.jsxs)("div",{className:"order-title"+("renter"===t?" current":""),onClick:()=>this.setState({current:"renter"}),children:[y.Ay.get("s7.my_rental"),(0,k.jsx)("span",{className:"order-count",children:s})]}),(0,k.jsxs)("div",{className:"order-title"+("receiver"===t?" current":""),onClick:()=>this.setState({current:"receiver"}),children:[y.Ay.get("s7.others_for_me"),(0,k.jsx)("span",{className:"order-count",children:n||0})]})]}),(0,k.jsx)("div",{className:"j-order-list",children:(0,k.jsxs)(h.A,{className:"order-select",defaultValue:e,onChange:e=>{this.setOrderBy(e),window.gtag("event","click",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_clickchangeSort"}),a()},dropdownAlign:{offset:[-45,-3]},dropdownStyle:{background:i?"#F9FAFC":"#40414a",minWidth:"126px",padding:"10px 0"},children:[(0,k.jsx)(f,{className:`order-option ${r}`,value:0,children:y.Ay.get("strx.expiration_time")}),(0,k.jsx)(f,{className:`order-option ${r}`,value:1,children:y.Ay.get("strx.rental_time")})]})})]})},this.renderCanRentSeconds=(e,t,r)=>{const s=(new Date).getTime()+1e3*Number(e),{days:n,hours:i,mins:a,seconds:l}=(0,C.zg)(s),{isExpiryTime:o,mobile:d}=this.state;let c=new Date(s),h=c.getFullYear(),p=c.getMonth()+1;p=p<10?"0"+p:p;let m=c.getDate();m=m<10?"0"+m:m;let x=c.getHours();x=x<10?"0"+x:x;let j,u,w=c.getMinutes();if(w=w<10?"0"+w:w,"receiver"===r){const e=this.props.energyRental.receiverOrdersList;var N,_;if(e)j=(0,v.HO)(null===e||void 0===e||null===(N=e.receiverOrders[t])||void 0===N?void 0:N.renter),u=(0,v.HO)(null===e||void 0===e||null===(_=e.receiverOrders[t])||void 0===_?void 0:_.receiver)}else{const e=this.props.energyRental.orderList;var A,b;if(e)j=(0,v.HO)(null===e||void 0===e||null===(A=e.orders[t])||void 0===A?void 0:A.renter),u=(0,v.HO)(null===e||void 0===e||null===(b=e.orders[t])||void 0===b?void 0:b.receiver)}const f=(0,v.HO)(this.props.energyRental.returnRentInfo),{defaultAccount:R}=this.props.network;let T=u===R?(0,C.gH)(f.unrecoveredEnergyAmount).plus(1e4):f.unrecoveredEnergyAmount,O=(0,C.gH)(f.dailyRent).times((0,C.gH)(T).div(f.rentAmount)).times(.5),M=(0,C.gH)(f.rentRemain).plus(f.securityDeposit);O=(0,C.gH)(O).gt(M)?M:O;const S=e=>(0,k.jsxs)("div",{className:"flex-cell",children:[n<=0&&i<=0&&a<5?(0,k.jsx)(g.A,{placement:d?"bottomRight":"bottom",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown j-tooltip-dropdown-receiver red",title:y.Ay.get("s7.tips3"),trigger:["hover","click"],children:(0,k.jsx)("span",{children:e})}):e,(0,k.jsx)(g.A,{placement:d?"bottomRight":"bottom",arrowPointAtCenter:!0,overlayInnerStyle:{padding:0},onMouseEnter:()=>{this.props.energyRental.getReturnRentInfo(j,u),window.gtag("event","energyrent_pro_orderpage_hoverremainTRX",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_hoverremainTRX"})},overlayClassName:"j-tooltip-dropdown j-tooltip-dropdown-receiver",title:(0,k.jsxs)("div",{className:"rent-info-tooltip",children:[(0,k.jsxs)("div",{className:"detail-row",children:[(0,k.jsx)("div",{className:"row-title2",children:y.Ay.get("energy_rental.end_order_modal.remaining_trx")}),(0,k.jsxs)("div",{className:"row-value2",children:[(0,C.ZV)((0,C.gH)(f.rentRemain).plus(f.securityDeposit).minus(O),6)," ","TRX"]})]}),(0,k.jsx)("div",{className:"divider-line"}),(0,k.jsxs)("div",{className:"detail-row",children:[(0,k.jsx)("div",{className:"row-title",children:y.Ay.get("energy_rental.end_order_modal.remaining_rent")}),(0,k.jsxs)("div",{className:"row-value",children:[(0,C.ZV)(f.rentRemain,6)," TRX"]})]}),(0,k.jsxs)("div",{className:"detail-row",children:[(0,k.jsx)("div",{className:"row-title",children:y.Ay.get("energy_rental.end_order_modal.security_deposit")}),(0,k.jsxs)("div",{className:"row-value",children:[(0,C.ZV)(f.securityDeposit,6)," TRX"]})]}),(0,k.jsxs)("div",{className:"detail-row",style:{alignItems:"flex-start"},children:[(0,k.jsxs)("div",{className:"row-title",children:[(0,k.jsx)("div",{style:{textAlign:"start"},children:y.Ay.get("energy_rental.end_order_modal.deducted_unrecovered_energy_hint")}),(0,k.jsx)("div",{style:{textAlign:"start"},children:y.Ay.get("energy_rental.end_order_modal.deducted_unrecovered_energy_detail",{value:(0,C.ZV)(T,0)})})]}),(0,k.jsxs)("div",{className:"row-value",children:["- ",(0,C.ZV)(O,6)," TRX"]})]})]}),children:(0,k.jsx)("span",{className:"j-tooltip-icon ml-4"})})]});return o?n<=0&&i<=0&&a<5?(0,k.jsx)("div",{className:"flex-cell",children:S(e=(0,k.jsx)("span",{className:"expiring expiring-new",children:y.Ay.get("s7.to_be_liquidated")}))}):(0,k.jsx)("div",{className:"flex-cell",children:n<=0&&i<=0&&a>=5&&a<40?(0,k.jsx)(g.A,{title:(0,k.jsxs)("div",{className:"warning-box",children:[(0,k.jsxs)("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.53593 0.95513L11.7597 8.27099C12.4424 9.45335 11.5891 10.9313 10.2238 10.9313H1.77619C0.410912 10.9313 -0.44238 9.45335 0.240255 8.27099L4.46407 0.95513C5.14671 -0.227232 6.8533 -0.227229 7.53593 0.95513ZM6.76797 1.39852C6.42665 0.807335 5.57335 0.807335 5.23203 1.39851L1.00822 8.71437C0.666903 9.30555 1.09355 10.0445 1.77619 10.0445H10.2238C10.9064 10.0445 11.3331 9.30555 10.9918 8.71437L6.76797 1.39852Z",fill:"#FF5266"}),(0,k.jsx)("path",{d:"M6.5 8.02381C6.5 8.2868 6.2868 8.5 6.02381 8.5H5.97619C5.7132 8.5 5.5 8.2868 5.5 8.02381C5.5 7.76082 5.7132 7.54762 5.97619 7.54762H6.02381C6.2868 7.54762 6.5 7.76082 6.5 8.02381ZM6 6.83333C5.72386 6.83333 5.5 6.60948 5.5 6.33333V4C5.5 3.72386 5.72386 3.5 6 3.5C6.27614 3.5 6.5 3.72386 6.5 4V6.33333C6.5 6.60948 6.27614 6.83333 6 6.83333Z",fill:"#FF5266"})]}),(0,k.jsx)("span",{children:y.Ay.get("s9.duration_lt_40m_for_list")})]}),overlayClassName:"j-tooltip-dropdown orderlist-wb red",placement:"bottom",children:S(e=(0,k.jsxs)("span",{className:"flex-cell-text red-alert",children:[h,"-",p,"-",m," ",x,":",w]}))}):n<=0&&i<24&&a>40?(0,k.jsx)(g.A,{title:(0,k.jsxs)("div",{className:"warning-box",children:[(0,k.jsxs)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("circle",{cx:"6",cy:"6.5",r:"5.5",stroke:"#F58721"}),(0,k.jsx)("path",{d:"M6.76368 8.95452C6.76368 9.25577 6.51947 9.49998 6.21823 9.49998H6.00004C5.6988 9.49998 5.45459 9.25577 5.45459 8.95452C5.45459 8.65328 5.6988 8.40907 6.00004 8.40907H6.21823C6.51947 8.40907 6.76368 8.65328 6.76368 8.95452ZM6.10914 7.59089C5.74764 7.59089 5.45459 7.29784 5.45459 6.93634V4.42725C5.45459 4.06575 5.74764 3.77271 6.10914 3.77271C6.47063 3.77271 6.76368 4.06576 6.76368 4.42725V6.93634C6.76368 7.29784 6.47063 7.59089 6.10914 7.59089Z",fill:"#F58721"})]}),(0,k.jsx)("span",{children:y.Ay.get("s9.duration_lt_24h_for_list")})]}),overlayClassName:"j-tooltip-dropdown orderlist-wb yellow",placement:"bottom",children:S(e=(0,k.jsxs)("span",{className:"flex-cell-text yellow-warning",children:[h,"-",p,"-",m," ",x,":",w]}))}):S(e=(0,k.jsxs)("span",{className:"flex-cell-text",children:[h,"-",p,"-",m," ",x,":",w]}))}):(0,k.jsx)("div",{className:"flex-cell",children:S(e=(0,k.jsxs)(k.Fragment,{children:[n<=0&&i<=0&&a>=5&&a<40?(0,k.jsx)(g.A,{title:(0,k.jsxs)("div",{className:"warning-box",children:[(0,k.jsxs)("svg",{width:"12",height:"11",viewBox:"0 0 12 11",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.53593 0.95513L11.7597 8.27099C12.4424 9.45335 11.5891 10.9313 10.2238 10.9313H1.77619C0.410912 10.9313 -0.44238 9.45335 0.240255 8.27099L4.46407 0.95513C5.14671 -0.227232 6.8533 -0.227229 7.53593 0.95513ZM6.76797 1.39852C6.42665 0.807335 5.57335 0.807335 5.23203 1.39851L1.00822 8.71437C0.666903 9.30555 1.09355 10.0445 1.77619 10.0445H10.2238C10.9064 10.0445 11.3331 9.30555 10.9918 8.71437L6.76797 1.39852Z",fill:"#FF5266"}),(0,k.jsx)("path",{d:"M6.5 8.02381C6.5 8.2868 6.2868 8.5 6.02381 8.5H5.97619C5.7132 8.5 5.5 8.2868 5.5 8.02381C5.5 7.76082 5.7132 7.54762 5.97619 7.54762H6.02381C6.2868 7.54762 6.5 7.76082 6.5 8.02381ZM6 6.83333C5.72386 6.83333 5.5 6.60948 5.5 6.33333V4C5.5 3.72386 5.72386 3.5 6 3.5C6.27614 3.5 6.5 3.72386 6.5 4V6.33333C6.5 6.60948 6.27614 6.83333 6 6.83333Z",fill:"#FF5266"})]}),(0,k.jsx)("span",{children:y.Ay.get("s9.duration_lt_40m_for_list")})]}),overlayClassName:"j-tooltip-dropdown orderlist-wb red",placement:"bottom",children:this.renderTime(n,i,a,"red-alert")}):n<=0&&i<24&&(a>=40||a<40&&i>=1)?(0,k.jsx)(g.A,{title:(0,k.jsxs)("div",{className:"warning-box",children:[(0,k.jsxs)("svg",{width:"12",height:"13",viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,k.jsx)("circle",{cx:"6",cy:"6.5",r:"5.5",stroke:"#F58721"}),(0,k.jsx)("path",{d:"M6.76368 8.95452C6.76368 9.25577 6.51947 9.49998 6.21823 9.49998H6.00004C5.6988 9.49998 5.45459 9.25577 5.45459 8.95452C5.45459 8.65328 5.6988 8.40907 6.00004 8.40907H6.21823C6.51947 8.40907 6.76368 8.65328 6.76368 8.95452ZM6.10914 7.59089C5.74764 7.59089 5.45459 7.29784 5.45459 6.93634V4.42725C5.45459 4.06575 5.74764 3.77271 6.10914 3.77271C6.47063 3.77271 6.76368 4.06576 6.76368 4.42725V6.93634C6.76368 7.29784 6.47063 7.59089 6.10914 7.59089Z",fill:"#F58721"})]}),(0,k.jsx)("span",{children:y.Ay.get("s9.duration_lt_24h_for_list")})]}),overlayClassName:"j-tooltip-dropdown orderlist-wb yellow",placement:"bottom",children:this.renderTime(n,i,a,"yellow-warning")}):this.renderTime(n,i,a),n<=0&&i<=0&&a<5&&(0,k.jsx)("span",{className:"expiring expiring-new",children:y.Ay.get("s7.to_be_liquidated")})]}))})},this.renderTime=(e,t,r,s)=>(0,k.jsxs)("span",{className:"flex-cell-text "+s,children:[e>0?(0,k.jsxs)("span",{children:[e,y.Ay.get("energy_rental.date_format.day")," "]}):null,t>0?(0,k.jsxs)("span",{children:[t,y.Ay.get("energy_rental.date_format.hour")," "]}):null,e>0||t>0||r>=5?(0,k.jsxs)("span",{children:[r,y.Ay.get("energy_rental.date_format.min")," "]}):null]}),this.othersCardsMobileRender=()=>{const{isExpiryTime:e,isEnergy:t,mobile:r,current:s}=this.state,{theme:n}=this.props.lend,i="white"===n,{defaultAccount:a}=this.props.network,{orders:l,total:o}=this.props.energyRental.orderList,{receiverOrders:d,receiverTotal:c}=this.props.energyRental.receiverOrdersList;this.props.energyRental.orderListIsLoading;return(0,k.jsxs)(k.Fragment,{children:[d.map(((s,n)=>{let{canRentSeconds:l,delegateTrxAmount:o,energyAmount:d,receiver:c,renter:h,startTimestamp:p}=s;return(0,k.jsxs)("div",{className:"mobile-card",children:[(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:y.Ay.get("strx.receiving_address")}),(0,k.jsxs)("div",{className:"value receiver",children:[c===a?(0,k.jsx)("span",{className:"current-receiver",children:y.Ay.get("strx.current_acct")}):null,(0,k.jsx)(g.A,{title:c,placement:r?"topLeft":"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown2",children:(0,C.it)(c,8,8)})]})]}),(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:(0,k.jsxs)("span",{onClick:this.toggleIsEnergy,style:{cursor:"pointer"},children:[(0,k.jsx)("span",{className:t?"active":"inactive",children:y.Ay.get("strx.energy")}),(0,k.jsx)("span",{className:"slash",children:"|"}),(0,k.jsx)("span",{className:t?"inactive":"active",children:y.Ay.get("strx.delegated_trx")})]})}),(0,k.jsx)("div",{className:"value",children:t?(0,k.jsxs)("span",{children:[(0,k.jsx)("img",{className:"energy-icon",src:i?w:u,alt:"Energy Icon"}),(0,C.ZV)(d,0)]}):`${(0,C.ZV)(o,0,{cutZero:!0,round:!0,roundMode:"ROUND_UP"})} TRX`})]}),(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:(0,k.jsxs)("span",{className:"flex-box",children:[e?y.Ay.get("strx.expiry_time"):y.Ay.get("strx.remaining_period"),(0,k.jsx)("span",{className:"switch-icon",onClick:this.toggleIsExpiryTime})]})}),(0,k.jsx)("div",{className:"value",children:this.renderCanRentSeconds(l,n)})]}),(0,k.jsxs)("div",{className:"btn-wrap",children:[(0,k.jsx)("button",{className:"j-btn j-rent-refund",onClick:e=>{e.preventDefault(),this.setState({item:{canRentSeconds:l,delegateTrxAmount:o,energyAmount:d,receiver:c,renter:h,startTimestamp:p}}),this.props.energyRental.setData({endRentalTipShow:!0})},children:y.Ay.get("strx.refund")}),(0,k.jsx)(g.A,{placement:"bottomLeft",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown j-tooltip-dropdown-receiver",title:y.Ay.get("s7.tips2"),children:(0,k.jsx)("div",{className:"btn-eles",children:(0,k.jsx)("button",{className:"j-btn j-rent-renew",disabled:!0,children:y.Ay.get("strx.renew")})})})]})]},n)})),d.length<c?(0,k.jsx)("div",{className:"load-more-btn",onClick:this.onClickShowMoreOtherOrders,children:y.Ay.get("load_more")}):null]})},this.state={isOrderByOpen:!1,rentType:1,orderBy:0,isExpiryTime:!1,isEnergy:!0,mobile:(0,x.A)(window.navigator).any,pageNumber:0,otherPageNumber:0,current:"all",item:{}}}render(){const{isExpiryTime:e,isEnergy:t,mobile:r,current:s}=this.state,{theme:n}=this.props.lend,i="white"===n,{defaultAccount:a}=this.props.network,{orders:l,total:o}=this.props.energyRental.orderList,{receiverOrders:d,receiverTotal:c}=this.props.energyRental.receiverOrdersList,h=this.props.energyRental.orderListIsLoading;return(0,k.jsxs)(k.Fragment,{children:[h?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"order-list-header",children:(0,k.jsxs)("div",{className:"order-list-skeleton",children:[(0,k.jsx)(p.A,{className:"title-skeleton",active:!0,title:0,paragraph:{rows:1,width:"30%"}}),(0,k.jsx)(p.A,{className:"title-skeleton",active:!0,title:0,paragraph:{rows:1,width:"30%"}})]})}),(0,k.jsxs)("div",{className:"j-market-list-skeleton",children:[(0,k.jsxs)("div",{className:"market-title-skeleton-row",children:[(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"title-skeleton"}),(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"search-input-skeleton"})]}),(0,k.jsx)("div",{className:"skeleton-space"}),(0,k.jsx)(p.A,{title:!1,paragraph:{rows:10,width:"100%"},active:!0,className:"list-skeleton"})]})]}):(0,k.jsxs)(k.Fragment,{children:[this.pageHeader(),(0,k.jsxs)("div",{className:"bs-list j-market-list j-orders-list",children:[(0,k.jsx)("div",{className:"market-top",children:this.renderMarketTop()}),"receiver"!==s&&o>0&&(0,k.jsxs)(k.Fragment,{children:["all"===s&&(0,k.jsx)("div",{className:"order-cato-title",children:y.Ay.get("s7.my_rental")}),(0,k.jsx)("div",{className:"ant-table-wrapper "+(l.length<o?"":"hide-footer"),children:(0,k.jsx)(m.A,{loading:h,columns:this.getInfoColumns(),dataSource:l,pagination:!1,locale:{emptyText:C.Hf},footer:()=>l.length<o?(0,k.jsx)("a",{className:"load-more-btn",onClick:this.onClickShowMore,children:y.Ay.get("load_more")}):null})})]}),"renter"!==s&&c>0&&(0,k.jsxs)(k.Fragment,{children:["all"===s&&(0,k.jsx)("div",{className:"order-cato-title",children:y.Ay.get("s7.others_for_me")}),(0,k.jsx)("div",{className:"ant-table-wrapper "+((null===d||void 0===d?void 0:d.length)<c?"":"hide-footer"),children:(0,k.jsx)(m.A,{loading:h,columns:this.getInfoColumns("receiver"),dataSource:d,pagination:!1,locale:{emptyText:C.Hf},footer:()=>(null===d||void 0===d?void 0:d.length)<c?(0,k.jsx)("a",{className:"load-more-btn",onClick:this.onClickShowMoreOtherOrders,children:y.Ay.get("load_more")}):null})})]}),("all"===s&&!o&&!c||"renter"===s&&0===o||"receiver"===s&&(0===c||!c))&&(0,k.jsx)(k.Fragment,{children:(0,C.Hf)()})]})]}),(0,k.jsx)("div",{className:"j-market-list-mobile",children:h?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)("div",{className:"skeleton-flex-row",children:[(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"title-skeleton"}),(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"search-input-skeleton"})]}),(0,k.jsx)("div",{className:"mobile-cards",children:Array.from({length:10}).map(((e,t)=>(0,k.jsx)("div",{className:"mobile-card",children:Array.from({length:4}).map(((e,t)=>(0,k.jsxs)("div",{className:"skeleton-flex-row narrow-gap",children:[(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"title-skeleton"}),(0,k.jsx)(p.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"search-input-skeleton"})]},t)))},t)))})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"market-top-mobile",children:this.renderMarketTop()}),0===o?(0,k.jsxs)("div",{className:"mobile-card",children:[(0,k.jsx)("span",{className:"no-data-icon"}),(0,k.jsx)("div",{className:"no-data-text",children:y.Ay.get("v2.na_data")})]}):(0,k.jsxs)("div",{className:"mobile-cards",children:["receiver"!==s&&o>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"order-cato-title",children:y.Ay.get("s7.my_rental")}),l.map(((s,n)=>{let{canRentSeconds:l,delegateTrxAmount:o,energyAmount:d,receiver:c,renter:h,startTimestamp:p}=s;return(0,k.jsxs)("div",{className:"mobile-card",children:[(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:y.Ay.get("strx.receiving_address")}),(0,k.jsxs)("div",{className:"value receiver",children:[c===a?(0,k.jsx)("span",{className:"current-receiver",children:y.Ay.get("strx.current_acct")}):null,(0,k.jsx)(g.A,{title:c,placement:r?"topLeft":"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown2",children:(0,C.it)(c,8,8)})]})]}),(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:(0,k.jsxs)("span",{onClick:this.toggleIsEnergy,style:{cursor:"pointer"},children:[(0,k.jsx)("span",{className:t?"active":"inactive",children:y.Ay.get("strx.energy")}),(0,k.jsx)("span",{className:"slash",children:"|"}),(0,k.jsx)("span",{className:t?"inactive":"active",children:y.Ay.get("strx.delegated_trx")})]})}),(0,k.jsx)("div",{className:"value",children:t?(0,k.jsxs)("span",{children:[(0,k.jsx)("img",{className:"energy-icon",src:i?w:u,alt:"Energy Icon"}),(0,C.ZV)(d,0)]}):`${(0,C.ZV)(o,0,{cutZero:!0,round:!0,roundMode:"ROUND_UP"})} TRX`})]}),(0,k.jsxs)("div",{className:"field",children:[(0,k.jsx)("div",{className:"title",children:(0,k.jsxs)("span",{className:"flex-box",children:[e?y.Ay.get("strx.expiry_time"):y.Ay.get("strx.remaining_period"),(0,k.jsx)("span",{className:"switch-icon",onClick:this.toggleIsExpiryTime})]})}),(0,k.jsx)("div",{className:"value",children:this.renderCanRentSeconds(l,n)})]}),(0,k.jsxs)("div",{className:"btn-wrap",children:[(0,k.jsx)("button",{className:"j-btn j-rent-refund",onClick:e=>{e.preventDefault(),this.onClickEndButton({canRentSeconds:l,delegateTrxAmount:o,energyAmount:d,receiver:c,renter:h,startTimestamp:p})},children:y.Ay.get("strx.refund")}),(0,k.jsx)("button",{className:"j-btn j-rent-renew",onClick:e=>{e.preventDefault(),this.onClickRenewButton(c,l)},children:y.Ay.get("strx.renew")})]})]},n)})),l.length<o?(0,k.jsx)("div",{className:"load-more-btn",onClick:this.onClickShowMore,children:y.Ay.get("load_more")}):null]}),"renter"!==s&&c>0&&(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)("div",{className:"order-cato-title",children:y.Ay.get("s7.others_for_me")}),this.othersCardsMobileRender()]})]})]})}),(0,k.jsx)(b.A,{endRentalInfo:this.state.item,endRetalFn:()=>this.onClickEndButton(this.state.item,"receiver")})]})}})||N)||N)||N)||N)||N;var T,O=r(40437),M=r(37455);const S=(0,s.WQ)("network")(T=(0,s.WQ)("lend")(T=(0,s.WQ)("energyRental")(T=(0,s.PA)(T=class extends n.Component{constructor(e){super(e),this.componentDidMount=async()=>{const{isConnected:e}=this.props.network;await this.props.lend.getLatestBlockInfo(),this.props.energyRental.setVariablesInterval(),window.gtag("event","energyrent_pro_orderpage_PV",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_PV"}),window.gtag("event","energyrent_pro_orderpage_UV",{event_category:"energyrent",event_label:"energyrent_pro_orderpage_UV"})},this.getUserData=async()=>{await this.props.energyRental.getUserTrxBalance(),await this.props.energyRental.getUserData(),this.props.network.on("connect",(async()=>{await this.props.energyRental.getUserTrxBalance(),await this.props.energyRental.getUserData()})),this.props.network.on("chainChanged",(async()=>{await this.props.energyRental.getUserTrxBalance(),await this.props.energyRental.getUserData(),await this.props.energyRental.getMarketData(),await this.props.energyRental.getCommonRentInfos()}))},this.getMarketData=async()=>{try{this.props.energyRental.getMarketData(),this.props.energyRental.getCommonRentInfos()}catch(e){console.log("error: getMarketData")}}}componentWillUnmount(){this.props.energyRental.clearVariablesInterval()}render(){const{theme:e}=this.props.lend;return(0,k.jsxs)("div",{className:"j-wrapper "+e,children:[(0,k.jsx)(o.A,{instantActions:this.getMarketData,mountedActions:this.getUserData}),(0,k.jsx)(c.A,{pageName:"energyRent"}),(0,k.jsx)("div",{className:"j-stake-container j-energy-rent modal-appender"+(this.props.energyRental.addOrderModalVisible?" high-level-container":""),children:(0,k.jsx)(R,{})}),(0,k.jsx)("div",{className:"modal-appender j-deal-note-modal-appender"+(this.props.energyRental.dealNoteShow?" high-level-container":"")}),(0,k.jsx)(d.A,{theme:e}),(0,k.jsx)(l.A,{}),this.props.energyRental.endOrderModalVisible&&(0,k.jsx)(i.A,{}),!this.props.energyRental.addOrderModalVisible&&(0,k.jsx)(O.A,{}),this.props.energyRental.addOrderModalVisible&&(0,k.jsx)(a.A,{}),(0,k.jsx)(M.A,{})]})}})||T)||T)||T)||T;var E;const I=(0,s.WQ)("network")(E=(0,s.PA)(E=class extends n.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.props.network.setData({routeName:"EnergyRentOrderList"})}}render(){return(0,k.jsx)(S,{})}})||E)||E},87980:()=>{}}]);