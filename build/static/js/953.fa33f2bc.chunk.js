"use strict";(self.webpackChunkjustlend_front=self.webpackChunkjustlend_front||[]).push([[953],{65627:(e,t,s)=>{s.d(t,{A:()=>a});s(76998);const a=s.p+"static/media/donut-default.46f3753b5c55611d30de093c9112a49c.svg"},72953:(e,t,s)=>{s.r(t),s.d(t,{default:()=>ws});var a=s(76998),o=s(96843),i=s(59866),l=s(98859),n=s(81941),r=s(75659),d=s(93995),c=s(19523),p=s(13412);const m=s.p+"static/media/outer-circle-m-default.7077e830c2fc14085fba3b8cfaaa7005.svg";var h,g=s(33270),u=s(48634),v=s(26559),w=s(31222),j=(s(28567),s(94709)),x=(s(83933),s(80646),s(55079)),y=s(23446);const{miningSymbol:A}=r.Ay;let b=(0,l.WQ)("network")(h=(0,l.WQ)("lend")(h=(0,l.WQ)("system")(h=(0,l.PA)(h=class extends a.Component{constructor(){super(),this.getTotalMint=e=>{const{inFreezeNum:t,transferringSoonNum:s,allMiningInfo:a,globalSettlementStatus:o,totalReward:i}=this.props.lend;if(Object.keys(a).length>0&&o)return"--";let l=e||(0,g.gH)(t).plus(s).plus(i);if(l.gt(0)&&Object.keys(a).length>0){let e=(0,g.ZV)(l,8,{cutZero:!0,miniText:"0.00000001",round:!0,needDolar:!0}),t=(0,g.gH)(l)._toFixed(8,1);return(0,g.bX)(t,e,!0)}return!l.gt(0)&&Object.keys(a).length>0?(0,y.jsx)("span",{className:"countup-int",children:"$0"}):(0,y.jsx)("span",{className:"countup-int",children:"$--"})},this.getTotalRewards=(e,t)=>{let s=8,a=1e-8;t&&(s=2,a=.01);let o=(0,g.ZV)(e,s,{cutZero:!0,miniText:a,round:!0,needDolar:!0,reverseMiniTextDolarSymbolOrder:!0}),i=(0,g.gH)(e)._toFixed(s,1);return t&&(i=(0,g.gH)(e).decimalPlaces(s,g.gH.ROUND_UP)),(0,g.bX)(i,o,t)},this.getRewardNewUSDD=()=>{var e;const{totalRewardUSDDNEW:t,USDDMiningStatus:s,inFreezeNum:a,transferringSoonNum:o}=this.props.lend;let i=(0,g.gH)(o);2==s&&(i=(0,g.gH)(a).plus(o));let l=(0,g.gH)(t);return i.isNaN()||(l=(0,g.gH)(t).plus(i)),null!==(e=l)&&void 0!==e&&e.gt(0)?(0,g.ZV)(l,6,{miniText:.01}):"< 0.01"},this.timerInterval=null,this.state={mobile:(0,i.A)(window.navigator).any,lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,collapse:!0}}render(){var e,t,s,a,i,l;const{lang:n,collapse:d,mobile:c}=this.state,{miningRewardVisible:p}=this.props.network,{theme:m,inFreezeNum:h,transferringSoonNum:w,allMiningInfo:b,globalSettlementStatus:k,totalReward:N,marketDataSource:f,multiRewardData:S,USDDMiningStatus:_,openMint:C}=this.props.lend,D=Object.fromEntries(f.map((e=>[e.jtokenAddress,e]))),H=null===(e=Object.values(b))||void 0===e?void 0:e.filter((e=>{var t,s;return(null===(t=(0,g.gH)(null===e||void 0===e?void 0:e.tokenGainLastAll))||void 0===t?void 0:t.gt(0))||(null===(s=(0,g.gH)(null===e||void 0===e?void 0:e.tokenGainNewAll))||void 0===s?void 0:s.gt(0))}));let T=Object.values(b),L=T.length>0?T.filter((e=>(0,g.gH)(e.tokenGainNewAll).gt(0))):[],P=(0,g.gH)(w);return 2==_&&(P=(0,g.gH)(h).plus(w)),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(u.A,{title:o.Ay.get("v2.rewards.mining_rewards"),maskClosable:!1,visible:p,closable:!0,onCancel:()=>{this.props.system.clearRejectError(),this.props.network.setData({miningRewardVisible:!1}),window.gtag("event","PC_mining_rewards_close",{event_category:"PC_V1.5",event_label:"mining_rewards_close"})},footer:null,className:`j-modal j-mining-reward-modal ${m}`,width:450,centered:!0,getContainer:()=>document.querySelector(".j-wrapper"),children:(0,y.jsxs)("div",{className:"j-mining-reward",children:[(0,y.jsxs)("div",{className:"j-mr-content",children:[(0,y.jsxs)("div",{className:"j-top",children:[(0,y.jsxs)("div",{className:"j-title flex aic",children:[(0,y.jsx)(j.L,{title:o.Ay.getHTML("v2.rewards.tip37"),placement:"topLeft",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",getPopupContainer:()=>document.querySelector(".j-mining-reward-modal"),children:(0,y.jsx)("span",{children:o.Ay.get("v2.rewards.to_be_laimed")})}),c?null:(0,y.jsx)(v.A,{title:o.Ay.getHTML("v2.rewards.tip37"),placement:"topLeft",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",getPopupContainer:()=>document.querySelector(".j-mining-reward-modal"),children:(0,y.jsx)("span",{className:"j-tooltip-icon ml-4"})})]}),C?(0,y.jsx)("div",{className:"j-value",children:(0,g.Du)(this.props.lend,!0)}):(0,y.jsxs)("div",{className:"j-value",children:[(0,g.Du)(this.props.lend),(0,y.jsxs)("span",{className:"j-reward-unit",children:[" ",A]})]}),C&&(0,y.jsxs)("div",{className:"j-value-detail",children:["~ ",this.getRewardNewUSDD()," USDD + ",null!==(t=(0,g.gH)(this.props.lend.totalRewardUSDDOLD))&&void 0!==t&&t.gt(0)?(0,g.ZV)(this.props.lend.totalRewardUSDDOLD,6,{miniText:.01}):"< 0.01"," USDDOLD"]})]}),(0,y.jsxs)("div",{className:"j-ele flex aic jcsb",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"j-title",children:o.Ay.get("v2.rewards.reward_balance")}),(0,y.jsx)("div",{className:"j-value format-reward",children:(0,g.gH)(N).gt(0)?C?(0,y.jsx)(y.Fragment,{children:this.getTotalRewards(N,!0)}):(0,y.jsxs)(y.Fragment,{children:[this.getTotalRewards(N),(0,y.jsxs)("span",{className:"j-reward-unit",children:[" ",A]})]}):2==_?(0,y.jsx)("div",{className:"j-accuring",children:o.Ay.get("v2.processing")}):C?(0,y.jsx)(y.Fragment,{children:"$0"}):(0,y.jsxs)(y.Fragment,{children:["0",(0,y.jsxs)("span",{className:"j-reward-unit",children:[" ",A]})]})})]}),(0,y.jsxs)("button",{disabled:!(0,g.gH)(N).gt(0),className:"j-btn j-reward flex aic jcc",onClick:()=>{this.props.lend.filterReward(Object.keys(S)),this.props.network.setData({rewardVisible:!0}),this.props.network.setData({miningRewardVisible:!1}),window.gtag("event","PC_mining_rewards_claim",{event_category:"PC_V1.5",event_label:"mining_rewards_claim"})},children:[(0,y.jsx)("span",{className:"j-reward-btn-icon mr-5"}),o.Ay.get("v2.rewards.claim")]})]}),(0,y.jsx)("div",{className:"j-ele mt-10"+(d?"":" top-radius"),children:(0,y.jsxs)("div",{className:"flex aic jcsb",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"j-title",children:o.Ay.get("v2.rewards.accruing")}),(0,y.jsxs)("div",{className:"j-value format-reward",children:[2==_?this.getTotalMint((0,g.gH)(h).plus(w)):this.getTotalMint((0,g.gH)(w)),!C&&(0,y.jsxs)("span",{className:"j-reward-unit",children:[" ",A]})]})]}),k&&C?(0,y.jsx)("div",{className:"closure-time mt-0 tar",children:o.Ay.getHTML("v2.settlement_time",{date:null===(s=H[0])||void 0===s?void 0:s.tokenCurrEndTime})}):(0,g.gH)(h).plus(w).gt(0)?(0,y.jsxs)("div",{className:"j-collapse"+(d?"":" active"),onClick:()=>{this.setState({collapse:!this.state.collapse}),d?window.gtag("event","PC_mining_rewards_uncollapse",{event_category:"PC_V1.5",event_label:"mining_rewards_uncollapse"}):window.gtag("event","PC_mining_rewards_collapse",{event_category:"PC_V1.5",event_label:"mining_rewards_collapse"})},children:[d?o.Ay.get("v2.rewards.expand"):o.Ay.get("v2.rewards.collapse")," ",(0,y.jsx)("span",{className:"j-collapse-icon"})]}):""]})}),!d&&(0,y.jsxs)("div",{className:"j-ele j-reward-ele"+(d?"":" bottom-radius")+(C?"":" close"),children:[(0,y.jsxs)("div",{className:"pr",children:[(0,y.jsx)("div",{className:"j-ele-list scroll-bar",children:P.gt(0)&&(0,y.jsxs)("div",{className:"rewards-box",children:[(0,y.jsxs)("div",{className:"rewards-title",children:[(0,y.jsx)("img",{className:"rewards-img",src:(0,x.E7)("USDD"),alt:null===(a=D[r.Ay.usdd.token])||void 0===a?void 0:a.collateralSymbol,onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)("USDD")}}),(0,y.jsx)("span",{children:o.Ay.get("deposit_mining",{symbol:"USDD"})})]}),(0,y.jsxs)("div",{className:"reward-value",children:[(0,y.jsx)("span",{children:(0,g.ZV)(P,3,{miniText:"0.001"})})," "+A]})]})}),Object.keys(L).length>3&&(0,y.jsx)("div",{className:"linear"})]}),C&&(null===(i=(0,g.gH)(w))||void 0===i?void 0:i.gt(0))&&(0,y.jsx)("div",{className:"closure-time w100",children:o.Ay.getHTML("v2.settlement_time",{date:null===(l=H[0])||void 0===l?void 0:l.tokenCurrEndTime})})]})]}),(0,y.jsxs)("div",{className:"j-mr-bottom flex",children:[(0,y.jsx)("div",{className:"j-warning-icon"}),o.Ay.getHTML("waiting_reward_footer")]})]})})})}})||h)||h)||h)||h;const k=b;var N,f=s(95381),S=s(65506);const{miningSymbol:_}=r.Ay;const C=(0,l.WQ)("network")(N=(0,l.WQ)("lend")(N=(0,l.WQ)("system")(N=(0,l.PA)(N=class extends a.Component{constructor(){super(),this.renderRewardList=()=>{const{defaultValue:e,multiRewardData:t,openMint:s}=this.props.lend,{approving:a,lang:i,checkStatus:l}=this.state;let n=Object.keys(t).reverse();return(0,y.jsx)(f.A.Group,{disabled:a,defaultValue:e,onChange:this.onChange,value:e,children:n.map((n=>{var d,c,p;return(0,y.jsxs)("div",{className:"j-reward-item"+(e.length>=r.Ay.rewardNum&&!e.includes(n)||a?" j-reward-item-disabled":""),children:[(0,y.jsxs)(f.A,{className:"j-checkbox",value:n,disabled:e.length>=r.Ay.rewardNum&&!e.includes(n)||(null===(d=t[n])||void 0===d?void 0:d.tokenAddress)===r.Ay.usdd.token&&2===l||(null===(c=t[n])||void 0===c?void 0:c.tokenAddress)!==r.Ay.usdd.token&&1===l,children:[o.Ay.get("v2.rewards.mining_rewards"),"en-US"===i?" ":" - ",o.Ay.getHTML("v2.rewards.num",{value:(0,g.Uq)(n)})]})," ",(0,y.jsxs)("div",{className:"tar",children:[(0,y.jsxs)("span",{className:"j-value",children:[(0,g.ZV)((0,g.gH)(parseInt(t[n].amount)).div(r.Ay.tokenDefaultPrecision),6,{miniText:.001})," "]}),(0,y.jsxs)("span",{className:"j-reward-unit",children:[" ",s&&(null===(p=t[n])||void 0===p?void 0:p.tokenAddress)===r.Ay.usdd.token?"USDD":"USDDOLD"]})]})]},n)}))})},this.onChange=e=>{let t=null===e||void 0===e?void 0:e.length;if(t>r.Ay.rewardNum)return;const s=this.props.lend.filterReward(e),{multiRewardData:a}=this.props.lend;t?s?this.setState({checkStatus:1}):this.setState({checkStatus:2}):this.setState({checkStatus:0});let o=Object.keys(a).length;t===r.Ay.rewardNum||t===o?this.setState({checkAll:!0}):t<r.Ay.rewardNum&&this.setState({checkAll:!1})},this.onCheckAllChange=e=>{let t=e.target.checked;if(t){const{multiRewardData:e}=this.props.lend;this.props.lend.filterReward(Object.keys(e))?this.setState({checkStatus:1}):this.setState({checkStatus:2}),window.gtag("event","PC_select_all_reward",{event_category:"PC_V1.5",event_label:"select_all_reward"})}else this.setState({checkStatus:0}),this.props.lend.setData({defaultValue:[],choosedTotalReward:0}),window.gtag("event","PC_unselect_all_reward",{event_category:"PC_V1.5",event_label:"unselect_all_reward"});this.setState({checkAll:t})},this.getReward=async()=>{var e;if(this.props.system.clearRejectError(),0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();window.gtag("event","PC_claim_confirm",{event_category:"PC_V1.5",event_label:"claim_confirm"});const{multiRewardData:t,defaultValue:s,choosedTotalReward:a}=this.props.lend,o={title:"lend.withdraw",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:(0,g.ZV)(a,6,{miniText:.001}),token:_},transType:"reward"};this.setState({approving:!0});let i=[];s.map((e=>{i.push([t[e].merkleIndex,t[e].index,t[e].amount,t[e].proof])}));let l=s[0];const n=(null===(e=t[l])||void 0===e?void 0:e.tokenAddress)===r.Ay.usdd.token?r.Ay.merkleDistributorNEWUSDD:r.Ay.merkleDistributor;const d=await this.props.system.getFeeLimitCommon(n,"multiClaim((uint256,uint256,uint256,bytes32[])[])",[]);await this.props.system.getMultiReward([i],o,d,n)&&(window.gtag("event","PC_claim_success",{event_category:"PC_V1.5",event_label:"claim_success"}),this.props.network.setData({rewardVisible:!1}),setTimeout((()=>{this.props.lend.getMultiReward()}),5e3)),this.setState({approving:!1})},this.timerInterval=null,this.state={mobile:(0,i.A)(window.navigator).any,lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,approving:!1,indeterminate:!0,checkAll:!0,checkStatus:1}}render(){const{mobile:e,lang:t,checkAll:s,data:a,approving:i}=this.state,{theme:l,multiRewardData:n,defaultValue:r,choosedTotalReward:d,totalReward:c,collapse:p,openMint:m}=this.props.lend,{rewardVisible:h}=this.props.network,{transModalInfo:w}=this.props.system,{declined:j,transType:x}=w;return(0,y.jsx)(u.A,{title:o.Ay.get("v2.rewards.claim_mining"),maskClosable:!1,visible:h,closable:!0,onCancel:()=>{this.props.system.clearRejectError(),this.props.network.setData({rewardVisible:!1}),this.props.lend.collapseInit(),this.props.lend.filterReward(),window.gtag("event","PC_reward_modal_close",{event_category:"PC_V1.5",event_label:"reward_modal_close"})},footer:null,className:"j-modal j-reward-modal header-border",width:450,centered:!e,getContainer:()=>document.querySelector(".j-wrapper"),children:(0,y.jsxs)("div",{className:"j-rewards",children:[(0,y.jsx)("div",{className:"rewards-icon"}),(0,y.jsx)("div",{className:"rewards-title",children:o.Ay.get("v2.rewards.claiming")}),(0,y.jsxs)("div",{className:"rewards-value",children:[(0,g.gH)(d).eq(0)?m?"$0":"0":(0,g.ZV)(d,m?2:6,{miniText:m?.01:.001,cutZero:!0,round:m,needDolar:m,roundMode:m?"ROUND_UP":""})," ",m?"":_]}),(0,y.jsxs)("div",{className:"rewards-lists",children:[(0,y.jsxs)("div",{className:"rewards-list-top",children:[(0,y.jsxs)("div",{className:"flex aic",children:[(0,y.jsxs)(f.A,{className:"j-checkbox",disabled:i,onChange:this.onCheckAllChange,checked:s,children:[o.Ay.get("v2.rewards.reward_breakdown")," (",r.length,"/",Object.keys(n).length,")"]}),Object.keys(n).length>3&&(0,y.jsx)(v.A,{title:o.Ay.get("v2.rewards.most_can_claim"),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",getPopupContainer:()=>document.querySelector(".j-reward-modal"),children:(0,y.jsx)("span",{className:"j-tooltip-icon"})})]}),(0,y.jsxs)("div",{className:"j-collapse"+(p?"":" active"),onClick:()=>{this.props.lend.setData({collapse:!p}),p?window.gtag("event","PC_rewards_uncollapse",{event_category:"PC_V1.5",event_label:"rewards_uncollapse"}):window.gtag("event","PC_rewards_collapse",{event_category:"PC_V1.5",event_label:"rewards_collapse"})},children:[p?o.Ay.get("v2.rewards.expand"):o.Ay.get("v2.rewards.collapse")," ",(0,y.jsx)("span",{className:"j-collapse-icon"})]})]}),!p&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"rewards-list-title",children:[(0,y.jsx)("span",{children:o.Ay.get("v2.rewards.mining_round")}),(0,y.jsx)("span",{children:o.Ay.get("v2.rewards.reward_balance")})]}),(0,y.jsxs)("div",{className:"pr",children:[(0,y.jsx)("div",{className:"rewards-list-content scroll-bar",children:this.renderRewardList()}),Object.keys(n).length>3&&(0,y.jsx)("div",{className:"linear"})]})]})]}),(0,y.jsx)("div",{className:"borrow-tip borrow-important-tip",children:(0,g.gH)(c).minus(d).gt(0)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"j-warning-icon"}),o.Ay.getHTML("v2.rewards.have_reclaimed",{value:(0,g.ZV)((0,g.gH)(c).minus(d),m?2:8,{miniText:m?.01:.001,cutZero:!0,round:m,needDolar:m,roundMode:m?"ROUND_UP":""}),token:m?"":_})]})}),i?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing mt-0",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)(S.A,{className:"j-large-btn j-supply mt-0",disabled:(null===r||void 0===r?void 0:r.length)<=0,onClick:this.getReward,children:o.Ay.get("v2.rewards.claim_confirm")}),j&&"reward"===x&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})})}})||N)||N)||N)||N;const D=s.p+"static/media/nodata-icon.e44b24c8c549bc86baa0785dcf563a91.svg";const H=s.p+"static/media/nodata-icon.252a9048faf0c7a42db819b51ad345cd.svg";var T,L=s(79467),P=s(73185);const{miningSymbol:V}=r.Ay;let I=(0,l.WQ)("network")(T=(0,l.WQ)("lend")(T=(0,l.WQ)("system")(T=(0,l.PA)(T=class extends a.Component{constructor(e){super(),this.state={}}render(){var e,t,s,a;const{inFreeze:i,transferringSoon:l,allMiningInfo:n,theme:r,globalSettlementStatus:d,globalSettlementStatusForLastRound:c,marketDataSource:p,assetList:m,openMint:h}=this.props.lend,v=Object.fromEntries(p.map((e=>[e.jtokenAddress,e]))),{rewardModalShow:w}=this.props.network;let j=(0,g.gH)(i).plus(l);const x=null===(e=Object.values(n))||void 0===e?void 0:e.filter((e=>{var t,s;return(null===(t=(0,g.gH)(null===e||void 0===e?void 0:e.tokenGainLastAll))||void 0===t?void 0:t.gt(0))||(null===(s=(0,g.gH)(null===e||void 0===e?void 0:e.tokenGainNewAll))||void 0===s?void 0:s.gt(0))})),A="white"===r;let b=Object.values(n),k=b.length>0?b.filter((e=>(0,g.gH)(e.tokenGainNewAll).gt(0))):[];b.length>0&&b.filter((e=>(0,g.gH)(e.tokenGainLastAll).gt(0)));return(0,y.jsxs)(u.A,{title:o.Ay.get("waiting_reward_title"),footer:null,onCancel:()=>this.props.network.setData({rewardModalShow:!1}),className:`account-invest-modal reward ${(null===(t=Object.keys(n))||void 0===t?void 0:t.length)>0?"":"empty-body"}${"white"===r?" white":""}`,visible:w,width:400,centered:!0,closeIcon:(0,y.jsx)("img",{alt:"",src:A?P.A:L.A}),children:[Object.keys(n).length>0&&(0,y.jsx)("div",{className:"reward-modal-container",children:(null===k||void 0===k?void 0:k.length)>0&&(0,y.jsxs)("section",{className:"reward-modal-main",children:[(0,y.jsxs)("div",{className:"current-income",children:[(0,y.jsx)("span",{className:"current-income-key",children:o.Ay.get("v2.this_round")}),(0,y.jsxs)("div",{className:"flex jcsb aic",children:[(0,y.jsx)("span",{className:"current-income-val",children:d?"--":(0,g.ZV)(j,6,{miniText:"0.01",needDolar:!0})}),(0,y.jsx)("span",{className:"j-accruing",children:o.Ay.get("v2.accruing")})]})]}),!d&&Object.values(n).map(((e,t)=>{var s,a;const{tokenGainNewAll:i,tokenAddress:l}=e;if((0,g.gH)(i).gt(0))return(0,y.jsxs)("div",{className:"rewards-box"+(0===t?" mt-0":""),children:[(0,y.jsxs)("div",{className:"rewards-title",children:[(0,y.jsx)("img",{src:null===(s=v[l])||void 0===s?void 0:s.logoUrl,alt:""}),(0,y.jsx)("span",{children:o.Ay.get("deposit_mining",{symbol:null===(a=v[l])||void 0===a?void 0:a.collateralSymbol})})]}),(0,y.jsxs)("div",{className:"reward-value",children:[(0,y.jsx)("span",{children:(0,g.ZV)(i,3,{miniText:"0.001"})})," ",V]})]},t)})),h&&(0,y.jsx)("div",{className:"closure-time",children:(0,y.jsxs)("span",{children:[o.Ay.getHTML("v2.settlement_time",{date:null===(s=x[0])||void 0===s?void 0:s.tokenCurrEndTime})," "]})})]})}),(null===(a=Object.keys(n))||void 0===a?void 0:a.length)>0?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:"ab-shadow"}),(0,y.jsx)("div",{className:"tips",children:(0,y.jsx)("p",{children:o.Ay.getHTML("waiting_reward_footer")})})]}):(0,y.jsxs)("div",{className:"empty",children:[(0,y.jsx)("img",{src:A?H:D,alt:""}),(0,y.jsx)("p",{children:o.Ay.getHTML("current_no_rewards")})]})]})}})||T)||T)||T)||T;const M=I;const R=s.p+"static/media/reward-btn.0d8f3da244326d49a109be953533752c.svg";const B=s.p+"static/media/reward-btn.84631d1ccae51cc84ef4ca2f50f6d32e.svg";var F;const{miningSymbol:U}=r.Ay;let W=(0,l.WQ)("network")(F=(0,l.WQ)("lend")(F=(0,l.PA)(F=class extends a.Component{constructor(e){super(e),this.getTotalMortgage=()=>{const{userDepositDataSource:e}=this.props.lend;let t=(0,g.gH)(0);return e&&e.length>0&&e.map(((e,s)=>{e.account_entered&&(t=t.plus((0,g.gH)(e.deposited_usd)))})),(0,g.ZV)(t,3,{miniText:.001,needDolar:!0})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any,collapsed:!1}}render(){const{userDepositDataSource:e,userLendDataSource:t,theme:s,isShowRecommendToken:a,isShowUSDDUpdateAd:i,inFreezeNum:l,transferringSoonNum:d,totalReward:c,USDDMiningStatus:p,currPhase:m,openMint:h}=this.props.lend,{mobile:u}=this.state,w=(0,g.gH)(m).minus(1).toString(),j=(0,g.Uq)(w),x="white"===s,A=window.localStorage.getItem("recommandToken");let b={};A&&JSON.parse(A);let k=(0,g.gH)(c).lte(0)&&(!t||0===t.length)&&(!e||0===e.length);(0,g.gH)(l).plus(d).isNaN()||(0,g.gH)(l).plus(d).plus(c);return k&&u?null:(0,y.jsx)("div",{className:"more "+(k&&!this.props.isLoading?"only-recommend":"")+(r.Ay.comingSoonBannerVisible?a&&i?" hide-only-recommend":"":a?" hide-only-recommend":""),children:k&&!this.props.isLoading?(0,y.jsx)("div",{className:"recommend-tip",children:o.Ay.get("v2.tip36")}):this.props.isLoading?(0,y.jsx)("div",{className:"more-bg",children:(0,y.jsx)(n.A,{title:!1,paragraph:{rows:2,width:"100%"},active:!0,className:"ant-skeleton-more"})}):(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"flex jcsb aic",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"data-info-key",children:[o.Ay.get("home.mining_rewards"),h?u?(0,y.jsx)("img",{className:"waiting-reward-icon",src:x?B:R,onClick:()=>{this.props.network.setData({miningRewardVisible:!0}),window.gtag("event","H5_rewards_to_be_distributed",{event_category:"H5",event_label:"rewards_to_be_distributed"})},alt:""}):(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",placement:"bottom",arrowPointAtCenter:!0,title:o.Ay.get("v2.mining_rewards_detail_tip"),trigger:"['hover','click']",children:(0,y.jsx)("img",{className:"waiting-reward-icon",src:x?B:R,onClick:()=>{this.props.network.setData({miningRewardVisible:!0}),window.gtag("event","PC_rewards_to_be_distributed",{event_category:"PC_V1.5",event_label:"rewards_to_be_distributed"})},alt:""})}):(0,y.jsx)(y.Fragment,{})]}),h?(0,y.jsx)("div",{className:"value",children:(0,g.Du)(this.props.lend,!0)}):(0,y.jsxs)("div",{className:"value",children:[(0,g.Du)(this.props.lend)," ",(0,y.jsx)("span",{className:"j-reward-unit fs-14",children:U})]})]}),(0,y.jsx)("div",{children:(0,g.gH)(c).gt(0)?(0,y.jsxs)("button",{className:"j-btn j-reward flex aic jcc",onClick:()=>{this.props.network.setData({rewardVisible:!0}),window.gtag("event","PC_rewards_claim",{event_category:"PC_V1.5",event_label:"rewards_claim"})},children:[(0,y.jsx)("span",{className:"j-reward-btn-icon"}),o.Ay.get("v2.rewards.claim")]}):2==p?(0,y.jsx)(v.A,{className:"",overlayClassName:"j-tooltip-dropdown",placement:"bottom",arrowPointAtCenter:!0,title:o.Ay.getHTML("v2.rewards.processing",{value:j}),trigger:"['hover','click']",children:(0,y.jsx)("div",{children:(0,y.jsxs)("button",{className:"j-btn j-reward flex aic jcc disabled",children:[(0,y.jsx)("span",{className:"j-reward-btn-icon"}),o.Ay.get("v2.rewards.claim")]})})}):(0,y.jsxs)("button",{className:"j-btn j-reward flex aic jcc disabled",children:[(0,y.jsx)("span",{className:"j-reward-btn-icon"}),o.Ay.get("v2.rewarding")]})})]})})})}})||F)||F)||F;const E=W,Q="data:image/png;base64,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";const Z=s.p+"static/media/fire.b2b490c6d09bde10f166d168546cdb9e.svg";const O=s.p+"static/media/tooltip-icon.d840f2218fe7ecd2ff3a0ee3aeb0eb51.svg";const J=s.p+"static/media/tooltip-icon.5011f023a0bffc618de785e933611aa9.svg";s.p;var Y;const{miningSymbol:q}=r.Ay;let G=(0,l.WQ)("network")(Y=(0,l.WQ)("lend")(Y=(0,l.PA)(Y=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,collapsed:!1}}render(){let e=(0,g.gH)(this.props.lend.netAPY).times(100);const{userDepositDataSource:t,userLendDataSource:s,netWorth:a,theme:i,totalBorrowUsdForUSDD:l}=this.props.lend;let n=(0,g.gH)(0),d=(0,g.gH)(0);t&&t.length>0&&t.map(((e,t)=>{n=e.jtokenAddress===r.Ay.usddJtoken||e.jtokenAddress===r.Ay.usddoldJtoken?n.plus(e.deposited):n.plus(e.deposited_usd)})),(0,g.gH)(l).isNaN()||(d=l);const{isConnected:c}=this.props.network,p="white"===i;return(0,y.jsxs)("section",{className:"net-value",children:[(0,y.jsxs)("div",{className:"column tooltip-text-wrap",children:[(0,y.jsxs)("div",{className:"p",children:[(0,y.jsx)(j.L,{overlayClassName:"j-tooltip-dropdown",title:(0,g.YL)(o.Ay.get("v2.net_apy_tip1"),[{title:o.Ay.get("v2.net_apy_tip4")},{title:o.Ay.get("v2.net_apy_tip5"),iconContent:[{content:o.Ay.get("v2.net_apy_tip6")},{content:o.Ay.get("v2.net_apy_tip7"),icon:Z},{content:o.Ay.get("v2.net_apy_tip8"),icon:Q}]}]),placement:"topRight",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"fz12 gray",children:o.Ay.get("v2.net_apy")})}),(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:(0,g.YL)(o.Ay.get("v2.net_apy_tip1"),[{title:o.Ay.get("v2.net_apy_tip4")},{title:o.Ay.get("v2.net_apy_tip5"),iconContent:[{content:o.Ay.get("v2.net_apy_tip6")},{content:o.Ay.get("v2.net_apy_tip7"),icon:Z},{content:o.Ay.get("v2.net_apy_tip8"),icon:Q}]}]),placement:"bottom",arrowPointAtCenter:!0,children:(0,y.jsx)("img",{src:p?J:O,alt:"",className:"j-tooltip-icon"})})]}),(0,y.jsxs)("div",{className:"p white fz18 weight",children:[((null===t||void 0===t?void 0:t.length)>0||(null===s||void 0===s?void 0:s.length)>0)&&c?(0,g.ZV)(e,2,{cutZero:!1,per:!0,showNegative:!0}):"--","%"]})]}),(0,y.jsxs)("div",{className:"mt17 column tooltip-text-wrap",children:[(0,y.jsxs)("div",{className:"p",children:[(0,y.jsx)(j.L,{overlayClassName:"j-tooltip-dropdown",title:o.Ay.get("v2.net_worth_tip"),placement:"topRight",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"fz12 gray",children:o.Ay.get("v2.net_worth")})}),(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:o.Ay.get("v2.net_worth_tip"),placement:"bottom",arrowPointAtCenter:!0,children:(0,y.jsx)("img",{src:p?J:O,alt:"",className:"j-tooltip-icon"})})]}),(0,y.jsx)("div",{className:"p",children:(0,y.jsx)("span",{className:"white fz18 weight tar mr-0",children:((null===t||void 0===t?void 0:t.length)>0||(null===s||void 0===s?void 0:s.length)>0)&&c?`$${(0,g.ZV)((0,g.gH)(n).minus(d),2,{cutZero:!1})}`:"--"})})]})]})}})||Y)||Y)||Y;const K=G;function z(e,t,s){var a=(e<<16|t<<8|s).toString(16);return"#"+new Array(Math.abs(a.length-7)).join("0")+a}function X(e){for(var t=[],s=1;s<7;s+=2)t.push(parseInt("0x"+e.slice(s,s+2)));return t}function $(e,t,s){for(var a=X(e),o=X(t),i=(o[0]-a[0])/s,l=(o[1]-a[1])/s,n=(o[2]-a[2])/s,r=[],d=0;d<s;d++)r.push(z(parseInt(i*d+a[0]),parseInt(l*d+a[1]),parseInt(n*d+a[2])));return r}s.p;var ee=s(37895);const te=s.p+"static/media/outer-circle.5d2c60d69c3a13f1f499df66a5c6da2c.svg";const se=s.p+"static/media/outer-circle-default.41385bbf15ec0909a9f20e168e2496ff.svg";const ae=s.p+"static/media/outer-circle-m.ab4637a280ca71ecbb414919a4df6efe.svg";const oe=s.p+"static/media/outer-circle-m-default.73856f7d4f5722c874aec305322da5cd.svg";const ie=s.p+"static/media/outer-circle.bfadae932752fd53aa964e9a0a51f1f8.svg";const le=s.p+"static/media/outer-circle-default.d42920fe62fc1c94075ba62937a7c712.svg";const ne=s.p+"static/media/outer-circle-m.98942587b5e533a330eec8cbac79e045.svg",re=e=>{var t;const[s,o]=(0,a.useState)((0,i.A)(window.navigator).any);(0,a.useEffect)((()=>{const e=l.current.getEchartsInstance();e.clear(),e.setOption(t)}),[t,e.num,e.isWhite]),t={angleAxis:e.angleAxis,barMaxWidth:10,radiusAxis:{show:!1,type:"category"},polar:{center:["50%","50%"],radius:s?"138":" 144"},series:[{type:"bar",data:[{value:e.num,itemStyle:{color:{image:document.getElementById("outerCircle"),repeat:"repeat"}}}],barGap:"-100%",coordinateSystem:"polar",itemStyle:{borderRadius:[111,111,111,111]},z:3},{type:"bar",data:[{value:100,itemStyle:{color:{image:document.getElementById("outerCircleDefault")}}}],itemStyle:{borderRadius:[111,111,111,111]},barGap:"-100%",coordinateSystem:"polar",z:2},{type:"bar",data:[{value:100,itemStyle:{color:"transparent"}}],itemStyle:{borderRadius:[111,111,111,111]},barGap:"-100%",coordinateSystem:"polar",z:1}]};const l=(0,a.useRef)();const n=s?148:154,r=s?148:154;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(ee.A,{className:"account-dashboard",ref:l,option:t,style:{width:n,height:r},onChartReady:function(e){},notMerge:!0}),s?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{alt:"",src:e.isWhite?ne:ae,id:"outerCircle"}),(0,y.jsx)("img",{alt:"",src:e.isWhite?m:oe,id:"outerCircleDefault"})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{alt:"",src:e.isWhite?ie:te,id:"outerCircle"}),(0,y.jsx)("img",{alt:"",src:e.isWhite?le:se,id:"outerCircleDefault"})]})]})};var de;let ce=(0,l.WQ)("network")(de=(0,l.WQ)("lend")(de=(0,l.PA)(de=class extends a.Component{constructor(e){super(e),this.getRiskValue=()=>{const{risk:e}=this.props.lend;let t=e;(0,g.gH)(this.props.lend.borrowLimit).eq(0)&&(t=0);let s=Number(t)-.25;return s>.25?s=.25:s<-.25&&(s=-.25),s},this.showLoginModal=e=>{this.props.network.connectWalletV2()},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,riskVisible:window.localStorage.getItem("riskVisible")||"true"}}componentDidMount(){}render(){let e="";const{isConnected:t}=this.props.network;let{riskVisible:s}=this.state;const{risk:a,userDepositDataSource:i,userLendDataSource:l,balanceInfo:n,trxPrice:d,theme:c}=this.props.lend,p="white"===c,m=window.localStorage.getItem("recommandToken");let h={};m&&(h=JSON.parse(m));const u=Object.values(n),w={};(null===u||void 0===u?void 0:u.length)>0?(u.map((e=>{var t,s;let a=(0,g.gH)(null===e||void 0===e||null===(t=e.balanceForTrx)||void 0===t?void 0:t.div(r.Ay.tokenDefaultPrecision).div(r.Ay.defaultPrecision).times(d).div(r.Ay.tokenDefaultPrecision));var o,i,l,n;(null===e||void 0===e?void 0:e.tokenAddress)===r.Ay.usdd.token&&(a=null===e||void 0===e||null===(o=e.balance)||void 0===o?void 0:o.div(r.Ay.tokenDefaultPrecision));null!==(s=a)&&void 0!==s&&s.gt(10)&&(w[e.tokenAddress]={balanceUsd:a},(0===(null===(i=Object.keys(h))||void 0===i?void 0:i.length)||null!==(l=a)&&void 0!==l&&l.gt(null===(n=h)||void 0===n?void 0:n.balanceUsd))&&(h={tokenSymbol:e.tokenSymbol,balanceUsd:a},window.localStorage.setItem("recommandToken",JSON.stringify(h))))})),0===Object.keys(w).length&&(h={},window.localStorage.removeItem("recommandToken"))):(h={},window.localStorage.removeItem("recommandToken"));let j=(0,g.gH)(a).isNaN()?(0,g.gH)(0):(0,g.gH)(a).times(100),x=o.Ay.get("index.acc_lowrisk"),A="green";if((0,g.gH)(j).eq(0))A="green",x=o.Ay.get("index.acc_lowrisk");else if(j.lt(35))A="green",x=o.Ay.get("index.acc_lowrisk");else if(j.lt(60))A="green",x=o.Ay.get("index.acc_mediumrisk");else if(j.lt(80))A="blue",x=o.Ay.get("index.acc_highrisk");else if(j.gte(80))if(A="red",x=o.Ay.get("index.acc_veryhighrisk"),e=o.Ay.get("v2.high_risk_no_token"),(0,g.gH)(s).gt(0)){const e=Date.now();(0,g.gH)(e).gt(s)&&window.localStorage.setItem("riskVisible",e)}else window.localStorage.setItem("riskVisible","true");let b="white"===c?"#18C19F":"#8FF7E2",k="#FF5266";const N=[{offset:0,color:b},{offset:.35,color:b},{offset:.55,color:"white"===c?"#6B9BFF":"#A0C4FF"},{offset:.68,color:"#A99FFF"},{offset:.8,color:k},{offset:1,color:k}],f=()=>{if(this.setState({riskVisible:"false"}),window.localStorage.setItem("riskVisible","false"),((0,g.gH)(a).isNaN()?(0,g.gH)(0):(0,g.gH)(a).times(100)).gte(80)){const e=Date.now()+2592e6;window.localStorage.setItem("riskVisible",e)}};return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("section",{className:"rist-value",children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"account-gauge",children:[(0,y.jsxs)("div",{children:[(0,y.jsxs)(v.A,{overlayClassName:t?"j-tooltip-dropdown":"j-tooltip-dropdown-disconnect",title:o.Ay.getHTML("v2.risk_tip"),placement:"bottom",arrowPointAtCenter:!0,align:{offset:[0,-40]},children:[(0,y.jsx)(re,{num:(()=>{const{risk:e}=this.props.lend;let t=e,s=(0,g.gH)(t).times(100);return s.lt(0)?0:s.toNumber()})(),colorStops:N,angleAxis:{show:!1,max:150,type:"value",startAngle:210,splitLine:{show:!1}},isWhite:p}),(0,y.jsx)("div",{className:"account-dashboard-pointer",style:{transform:`rotate(${(()=>{const{risk:e}=this.props.lend;let t=e;return(0,g.gH)(t).lt(0)&&(t=0),(0,g.gH)(t).gt(1)&&(t=1),240*t-30})()}deg)`,background:`${(()=>{let e="white"===c?"#6EDEC7":"#8FF6E2",t="#FF5592";const s=[{offset:0,color:e},{offset:.35,color:e},{offset:.55,color:"white"===c?"#59C3FF":"#9ADBFF"},{offset:.68,color:"white"===c?"#7D6FFF":"#A99FFF"},{offset:.8,color:t},{offset:1,color:t}],{risk:a}=this.props.lend;let o=a;if((0,g.gH)(o).gte(s[4].offset))return s[5].color;if((0,g.gH)(o).lte(s[1].offset))return s[0].color;if((0,g.gH)(o).lt(s[2].offset)&&(0,g.gH)(o).gte(s[1].offset)){return $(s[1].color,s[2].color,100*(s[2].offset-s[1].offset))[(0,g.gH)(o).minus(s[1].offset).times(100).toFixed(0,1)]}if((0,g.gH)(o).lt(s[3].offset)&&(0,g.gH)(o).gte(s[2].offset)){return $(s[2].color,s[3].color,100*(s[3].offset-s[2].offset))[(0,g.gH)(o).minus(s[2].offset).times(100).toFixed(0,1)]}if((0,g.gH)(o).lt(s[4].offset)&&(0,g.gH)(o).gte(s[3].offset)){return $(s[3].color,s[4].color,100*(s[4].offset-s[3].offset))[(0,g.gH)(o).minus(s[3].offset).times(100).toFixed(0,1)]}})()}`}}),!!t&&(0,y.jsx)("div",{className:"canvas-text",children:(0,y.jsxs)("div",{className:A,children:[(0,y.jsx)("p",{className:"black",children:(0,g.gH)(a).isNaN()?"--":(0,g.yn)(j,{needPerSymbol:!1})}),(0,y.jsx)("p",{className:"fz20",children:x})]})})]}),t?(0,y.jsx)(y.Fragment,{}):"disabled"===this.props.lend.serviceInnerStatus?(0,y.jsx)(v.A,{title:o.Ay.get("season.can_not_connect"),overlayClassName:"j-tooltip-dropdown season "+(p?"white":""),arrowPointAtCenter:!0,placement:"bottom",children:(0,y.jsx)("div",{className:"canvas-text season",onClick:()=>{this.props.lend.setData({noServiceModalAllVisible:!0})},children:(0,y.jsx)("p",{className:"not-connect",children:o.Ay.get("index.acc_notconnected")})})}):(0,y.jsx)("div",{className:"canvas-text",onClick:e=>{this.showLoginModal(e)},children:(0,y.jsx)("p",{className:"not-connect",children:o.Ay.get("index.acc_notconnected")})})]}),(0,y.jsx)(K,{})]})}),e&&s&&"true"===s?((null===i||void 0===i?void 0:i.length)>0||(null===l||void 0===l?void 0:l.length)>0)&&(0,y.jsxs)("div",{className:"risk-warning-tip",children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:e,placement:"top",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"text ellipsis",children:e})}),(0,y.jsx)("span",{className:"close",onClick:()=>f()})]}):t?((null===i||void 0===i?void 0:i.length)>0||(null===l||void 0===l?void 0:l.length)>0)&&(0,y.jsx)("div",{className:"risk-warning-tip-line"}):""]})})}})||de)||de)||de;const pe=ce;var me=s(11559),he=s(76181);var ge;const ue=(0,l.WQ)("network")(ge=(0,l.WQ)("lend")(ge=(0,l.WQ)("pool")(ge=(0,l.PA)(ge=class extends a.Component{constructor(e){super(e),this.columnTokenSymbol=()=>{const{mobile:e}=this.state;return{title:o.Ay.get("index.my_asset"),dataIndex:"collateralSymbol",key:"1",render:(e,t)=>(0,y.jsxs)("div",{className:"collateralSymbol flexSTA",children:[(0,y.jsx)("div",{className:"colorBlock"}),(0,y.jsx)("div",{className:"tokenDetail",children:(0,y.jsx)("div",{className:"white12",children:`${e}`})})]})}},this.columnSuppliedUsd=()=>{const{usddJtoken:e,usddoldJtoken:t}=r.Ay,{mobile:s}=this.state;return{title:(0,y.jsx)(y.Fragment,{children:o.Ay.get("v2.tab_deposit")}),dataIndex:"deposited_usd",key:"3",width:s?120:150,render:(s,a)=>(0,y.jsx)("div",{className:"white12 ellipsis w-100",children:(0,g.ZV)((0,g.gH)(a.jtokenAddress===e||a.jtokenAddress===t?a.deposited:s),2,{miniText:.01,needDolar:!0})})}},this.columnSuppliedRate=()=>{const{usddJtoken:e,usddoldJtoken:t}=r.Ay;return{title:(0,y.jsx)("div",{className:"nowrap",children:o.Ay.get("v2.percentage")}),dataIndex:"deposited_usd",key:"4",render:(s,a)=>{const{totalSupplyUsd:o}=this.props.lend,i=a.jtokenAddress===e||a.jtokenAddress===t?a.deposited:null===a||void 0===a?void 0:a.deposited_usd;(0,g.gH)(i).div(o).times(100);return(0,y.jsx)("div",{children:(0,y.jsxs)("p",{className:"proportion",children:[(0,g.gH)(a.percent).gt(100)?100:(0,g.gH)(a.percent).eq(0)?"<0.01":(0,g.ZV)(a.percent,2,{per:!0,miniText:"0.01"}),"%"]})})}}},this.columnCollateral=()=>({title:(0,y.jsx)("div",{className:"nowrap",children:o.Ay.get("index.my_usedto")}),dataIndex:"account_entered",key:"account_entered",render:(e,t)=>2===e?(0,y.jsx)("span",{className:"colleteral",children:o.Ay.get("index.not_support")}):1===e?(0,y.jsx)("span",{className:"colleteral",children:o.Ay.get("v2.yes")}):(0,y.jsx)("span",{className:"colleteral",children:o.Ay.get("v2.no")})}),this.getSupplyColumns=()=>{const{mobile:e}=this.state;return e?[this.columnTokenSymbol(),this.columnSuppliedUsd(),this.columnSuppliedRate()]:[this.columnTokenSymbol(),this.columnSuppliedUsd(),this.columnSuppliedRate(),this.columnCollateral()]},this.onSwitchChange=(e,t)=>{if(!this.props.lend.collateralValid(t.collateralSymbol))return;const{jtokenAddress:s}=t;this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:s},"mortgageModalInfo")},this.getY=()=>{let e=41;const{hideHomeBanner:t}=this.props.pool;t&&(e=0);return 294+((0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0)?0:68)-e},this.showNotMortgage=e=>{e.target.checked?this.setState({showNotMortgage:!0}):this.setState({showNotMortgage:!1})},this.tableEmptyRender=()=>(0,y.jsx)("div",{className:"market-summary-list",children:(0,y.jsxs)("div",{className:"market-empty",children:[(0,y.jsx)("div",{className:"icon"}),(0,y.jsx)("div",{className:"text color-light",children:o.Ay.get("v2.na_data")})]})}),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,detailColors:["#735FF6","#4C54FF","#9195FB","#2B31C1","#363971","#2F1E96","#4D0D90","#6D00C3","#9031DC","#9D5ECF"],mobile:(0,i.A)(window.navigator).any,showNotMortgage:!1}}render(){var e;let{userDepositAndJustMortgateDataSource:t,totalSupplyUsd:s}=this.props.lend;const{usddJtoken:a,usddoldJtoken:i}=r.Ay;let{lang:l,mobile:n,showNotMortgage:d}=this.state;if(!t||0===t.length)return(0,y.jsxs)("div",{className:"table-nodata",children:[(0,y.jsx)("img",{src:"data:image/png;base64,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",alt:""}),(0,y.jsx)("p",{children:o.Ay.get("no_data")})]});let c=n?250:400,p=n?108:215,m=[];t.map((e=>{(0,g.gH)(e.account_depositJtoken).gt(0)||m.push(e.collateralSymbol)})),t=t.filter((e=>(0,g.gH)(e.account_depositJtoken).gt(0))),n&&d&&(t=t.filter((e=>(0,g.gH)(e.account_entered).eq(0))));let h=(0,g.gH)(0);return t=(null===(e=t)||void 0===e?void 0:e.length)>0?t.map(((e,o)=>{var l;let n=0;var r;1===(null===(l=t)||void 0===l?void 0:l.length)?n=100:o<(null===(r=t)||void 0===r?void 0:r.length)-1?(n=(0,g.Cz)((0,g.gH)(e.jtokenAddress===a||e.jtokenAddress===i?e.deposited:null===e||void 0===e?void 0:e.deposited_usd).div(s).times(100),2),h=(0,g.gH)(h).plus(n)):n=(0,g.Cz)((0,g.gH)(100).minus(h),2);return{...e,percent:n}})):[],(0,y.jsxs)(y.Fragment,{children:[n&&(0,y.jsx)("div",{className:"show-not-mortgage",children:(0,y.jsx)(f.A,{className:"j-checkbox",onChange:this.showNotMortgage,children:o.Ay.get("v2.rewards.hide_collateral")})}),(0,y.jsx)(me.Ay,{renderEmpty:this.tableEmptyRender,children:(0,y.jsx)(he.A,{className:"modal-info-table-v2 mobile-supply",rowClassName:e=>!(0,g.gH)(e.account_depositJtoken).gt(0)&&"gray-row",columns:this.getSupplyColumns(),dataSource:t,pagination:!1,scroll:{x:c,y:p}})}),m.length>0&&"en-US"!==l&&(0,y.jsx)("div",{className:"table-tips",children:o.Ay.get("v2.rewards.tip38",{symbol:m.join("\u3001")})}),m.length>0&&"en-US"===l&&(0,y.jsx)("div",{className:"table-tips",children:o.Ay.get("v2.rewards.tip38",{symbol:m.join(", ")+", "})})]})}})||ge)||ge)||ge)||ge;var ve,we=s(65627);let je=(0,l.WQ)("network")(ve=(0,l.WQ)("lend")(ve=(0,l.WQ)("system")(ve=(0,l.PA)(ve=class extends a.Component{constructor(e){super(),this.getOption=()=>{var e,t;const{usddJtoken:s,usddoldJtoken:a}=r.Ay;let{totalSupplyUsd:o,userDepositAndJustMortgateDataSource:i,theme:l}=this.props.lend;const n=["#735ff6","#4c54ff","#9195fb","#2b31c1","#363971","#2f1e96","#4d0d90","#6d00c3","#9031dc","#9d5ecf","#ab7ece","#cba6e9","#d7b8f1","#e047bf","#bf37a1","#ba6ea9"];let d=[],c=!0,p=(0,g.gH)(0);return i=(null===(e=i)||void 0===e?void 0:e.length)>0&&i.filter((e=>(0,g.gH)(e.account_depositJtoken).gt(0))),(null===(t=i)||void 0===t?void 0:t.length)>0&&i.map(((e,t)=>{if((e.jtokenAddress===s||e.jtokenAddress===a?e.deposited.gt(0):e.deposited_usd.gt(0))&&(c=!1),(0,g.gH)(e.account_depositJtoken).gt(0)){var r;let c=0;var m;if(1===(null===(r=i)||void 0===r?void 0:r.length))c=100;else t<(null===(m=i)||void 0===m?void 0:m.length)-1?(c=(0,g.Cz)((0,g.gH)(e.jtokenAddress===s||e.jtokenAddress===a?e.deposited:null===e||void 0===e?void 0:e.deposited_usd).div(o).times(100),2),p=(0,g.gH)(p).plus(c)):c=(0,g.Cz)((0,g.gH)(100).minus(p),2);let h={value:c,name:null===e||void 0===e?void 0:e.collateralSymbol,itemStyle:{color:n[t],borderWidth:2,borderColor:"white"===l?"#fff":"#282931"},emphasis:{itemStyle:{color:n[t]}}};d.push(h)}})),{tooltip:{trigger:"item",confine:!0,formatter:function(e){return(0,g.gH)(e.value).eq(0)?e.name+" : < 0.01%":e.name+" : "+e.value+"%"}},title:{text:"",x:"center"},series:[{name:"",type:"pie",radius:["50%","98%"],hoverAnimation:!1,minAngle:4,label:{show:!1,position:"center"},data:c?[{value:"100",name:"justMorgage",itemStyle:{color:"rgba(255, 255, 255, 0.1)",borderWidth:2,borderColor:"#282931"},emphasis:{itemStyle:{color:"rgba(255, 255, 255, 0.1)"}}}]:d}]}},this.getTotalDeposit=()=>{const{usddJtoken:e,usddoldJtoken:t}=r.Ay,{userDepositDataSource:s}=this.props.lend;let a=(0,g.gH)(0);if(s&&s.length>0){s.map(((s,o)=>{a=s.jtokenAddress===e||s.jtokenAddress===t?a.plus(s.deposited):a.plus(s.deposited_usd)}));let o=(0,g.ZV)(a,8,{cutZero:!0,miniText:"0.01",miniTextValue:0,round:!0}),i=(0,g.gH)(a)._toFixed(8,1);return(0,g.gH)(a).eq(0)?(0,y.jsx)("span",{className:"countup-int",children:"$0"}):(0,g.gH)(a).lt(.01)&&(0,g.gH)(a).gte(0)?(0,y.jsx)("span",{className:"countup-int",children:"< $0.01"}):(0,g.gH)(a).lte(.1)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("span",{className:"countup-int",children:["$",o.split(".")[0]]}),(0,y.jsx)("span",{className:"countup-decimal",children:"--"!==a&&(o.split(".")[1]&&o.split(".")[1].length>0?".":"")+o.split(".")[1]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"countup-int",children:"--"===a||(0,g.gH)(a).eq(0)?"--"===a&&"--":(0,g.ZV)((0,g.gH)((0,g.gH)(i).toString().split(".")[0]),0,{needDolar:!0})}),"--"!==a&&i.split(".")[1]&&i.split(".")[1].length>0&&!(0,g.gH)(i.split(".")[1]).eq(0)&&(0,y.jsxs)("span",{className:"countup-decimal",children:[".",(0,g.gH)(i).toString().split(".")[1]]})]})}return s?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("span",{className:"countup-int",children:"$0"})}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("span",{className:"countup-int",children:"--"})})},this.state={mobile:(0,i.A)(window.navigator).any}}render(){const{userSupplyModalShow:e}=this.props.network,{mobile:t}=this.state;let{userDepositAndJustMortgateDataSource:s,userDepositDataSource:a,depositAndMortgageLength:i,justMortgageData:l,totalSupplyUsd:n,mortgageRate:r,theme:d}=this.props.lend;const c="white"===d,p=t?80:104,m=t?80:104;return(0,y.jsx)(u.A,{title:o.Ay.get("v2.supply_details"),footer:null,onCancel:()=>this.props.network.setData({userSupplyModalShow:!1}),className:"account-invest-modal"+(c?" white":""),visible:e,centered:!0,width:t?"calc(100vw - 40px)":"457px",closeIcon:(0,y.jsx)("img",{alt:"",src:c?P.A:L.A}),destroyOnClose:!0,children:s&&0!==s.length?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"user-invest-modal-info",children:[(null===a||void 0===a?void 0:a.length)>0?(0,y.jsx)(ee.A,{className:"donut-chart",option:this.getOption(),style:{width:p,height:m,minWidth:p}}):(0,y.jsx)("img",{src:we.A,alt:"",className:"donut-chart"}),(0,y.jsxs)("div",{className:"info-content",children:[o.Ay.getHTML("v2.supply_amount",{amount:null!==a&&void 0!==a&&a.length?null===a||void 0===a?void 0:a.length:"--"}),o.Ay.getHTML("v2.collateral_amount",{amount:i})]})]}),(0,y.jsx)(ue,{}),(null===a||void 0===a?void 0:a.length)>0&&(0,y.jsxs)("div",{className:"user-invest-modal-overview flexBA",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("p",{className:"overview-key",children:o.Ay.get("v2.total_supply")}),(0,y.jsx)("p",{className:"overview-val",children:this.getTotalDeposit()})]}),(0,y.jsxs)("div",{className:"right",children:[(0,y.jsx)("p",{className:"overview-key",children:o.Ay.get("v2.collateral_ratio")}),(0,y.jsxs)("p",{className:"overview-val",children:[r,"%"]})]})]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"user-invest-modal-info no-data",children:[(0,y.jsx)("img",{src:we.A,alt:""}),(0,y.jsx)("p",{children:o.Ay.get("no_data")})]}),(0,y.jsx)(ue,{})]})})}})||ve)||ve)||ve)||ve;const xe=je;var ye;let Ae=(0,l.WQ)("network")(ye=(0,l.WQ)("lend")(ye=(0,l.WQ)("pool")(ye=(0,l.PA)(ye=class extends a.Component{constructor(e){super(e),this.columnTokenSymbol=()=>{const{mobile:e}=this.state;return{title:o.Ay.get("index.my_asset"),dataIndex:"collateralSymbol",key:"collateralSymbol",width:e?95:120,render:(e,t)=>(0,y.jsxs)("div",{className:"collateralSymbol flexSTA",children:[(0,y.jsx)("div",{className:"colorBlock"}),(0,y.jsx)("div",{className:"tokenDetail",children:(0,y.jsx)("div",{className:"white12",children:`${e}`})})]})}},this.columnBorrowingUsd=()=>{const{usddJtoken:e,usddoldJtoken:t}=r.Ay,{mobile:s}=this.state;return{title:o.Ay.get("v2.tab_borrow"),dataIndex:"borrowBalanceNewUsd",key:"2",width:s?120:150,render:(s,a)=>(0,y.jsx)("div",{className:"white12 ellipsis w-100",children:(0,g.ZV)((0,g.gH)(a.jtokenAddress===e||a.jtokenAddress===t?a.borrowBalanceNew.div(a.precision):s),2,{miniText:.01,needDolar:!0})})}},this.columnBorrowingRate=()=>{const{totalBorrowableUsd:e}=this.props.lend;return{title:o.Ay.get("v2.percentage"),dataIndex:"borrowBalanceNewUsd",key:"4",render:(t,s)=>(0,y.jsx)("div",{children:(0,y.jsxs)("p",{className:"proportion borrow",children:[(0,g.gH)(t).div(e).times(100).gt(100)?100:(0,g.ZV)((0,g.gH)(t).div(e).times(100),2,{per:!0,miniText:"0.01"}),"%"]})})}},this.getBorrowingColumns=()=>[this.columnTokenSymbol(),this.columnBorrowingUsd(),this.columnBorrowingRate()],this.getY=()=>{let e=41;const{hideHomeBanner:t}=this.props.pool;return t&&(e=0),294-e},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any}}render(){const{userBorrowingAndRestBorrowableDataSource:e,theme:t}=this.props.lend,{mobile:s}=this.state;if(!e||0===e.length)return(0,y.jsxs)("div",{className:"table-nodata",children:[(0,y.jsx)("img",{src:"white"===t?H:D,alt:""}),(0,y.jsx)("p",{children:o.Ay.get("no_data")})]});let a=s?250:400,i=s?166:185;return(0,y.jsx)(he.A,{className:"borrow modal-info-table-v2",rowClassName:(e,t)=>{},columns:this.getBorrowingColumns(),rowKey:"collateralSymbol",dataSource:e,pagination:!1,locale:{emptyText:(0,g.Ze)("lend")},scroll:{x:a,y:i}})}})||ye)||ye)||ye)||ye;const be=Ae;const ke=s.p+"static/media/default-donut-white.6fe84d5f6697228db76772540ddbd0b9.svg";var Ne;let fe=(0,l.WQ)("network")(Ne=(0,l.WQ)("lend")(Ne=(0,l.WQ)("system")(Ne=(0,l.PA)(Ne=class extends a.Component{constructor(e){super(),this.getOption=()=>{const{totalBorrowableUsd:e,userBorrowingAndRestBorrowableDataSource:t,theme:s}=this.props.lend,a=["#1D443C","#107A65","#18C19F","#81F5DE","#C4FFF4","#E3FFD6","#ACE98F","#6CA552","#B6B263","#8F8A18","#a4d629","#4dc215","#338b09"],o="white"===s;let i=[];return(null===t||void 0===t?void 0:t.length)>0&&t.map(((l,n)=>{let r={value:(0,g.Cz)((0,g.gH)(null===l||void 0===l?void 0:l.borrowBalanceNewUsd).div(e).times(100),2),name:null===l||void 0===l?void 0:l.collateralSymbol,itemStyle:{color:n===t.length-1?o?"rgba(34, 35, 43, 0.1)":"rgba(255, 255, 255, 0.1)":a[n],borderWidth:2,borderColor:"white"===s?"#fff":"#282931"},emphasis:{itemStyle:{color:n===t.length-1?o?"rgba(34, 35, 43, 0.1)":"rgba(255, 255, 255, 0.1)":a[n]}}};i.push(r)})),{tooltip:{trigger:"item",confine:!0,formatter:function(e){return(0,g.gH)(e.value).eq(0)?e.name+" : < 0.01%":e.name+" : "+e.value+"%"}},title:{text:"",x:"center"},series:[{name:"",type:"pie",radius:["50%","98%"],hoverAnimation:!1,minAngle:4,label:{show:!1,position:"center"},data:i}]}},this.state={mobile:(0,i.A)(window.navigator).any}}render(){const{mobile:e}=this.state,{userBorrowingAndRestBorrowableDataSource:t,userLendDataSource:s,totalBorrowableUsd:a,totalBorrowingRate:i,theme:l}=this.props.lend,{userBorrowModalShow:n}=this.props.network,r="white"===l,d=e?80:104,c=e?80:104;return(0,y.jsx)(u.A,{title:o.Ay.get("v2.borrow_details"),footer:null,onCancel:()=>this.props.network.setData({userBorrowModalShow:!1}),className:"account-invest-modal"+(r?" white":""),visible:n,centered:!0,width:e?"calc(100vw - 40px)":"457px",closeIcon:(0,y.jsx)("img",{alt:"",src:r?P.A:L.A}),children:t&&0!==t.length?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"user-invest-modal-info",children:[(0,y.jsx)(ee.A,{className:"donut-chart",option:this.getOption(),style:{width:d,height:c,minWidth:d}}),(0,y.jsx)("div",{className:"info-content borrow",children:(0,y.jsx)("p",{children:o.Ay.getHTML("v2.borrow_amount",{amount:s.length})})})]}),(0,y.jsx)(be,{}),(0,y.jsx)("div",{className:"user-invest-modal-overview",children:(0,y.jsxs)("div",{className:"flex jcsb aic",children:[(0,y.jsx)("p",{className:"overview-key",children:o.Ay.get("v2.borrow_limit")}),(0,y.jsx)("p",{className:"overview-val",children:`$${(0,g.ZV)(a,2,{miniText:"0.01"})}`})]})})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"user-invest-modal-info no-data",children:[(0,y.jsx)("img",{src:r?ke:we.A,alt:""}),(0,y.jsx)("p",{children:o.Ay.get("no_data")})]}),(0,y.jsx)(be,{})]})})}})||Ne)||Ne)||Ne)||Ne;const Se=fe;var _e;const Ce=(0,l.WQ)("network")(_e=(0,l.WQ)("lend")(_e=(0,l.PA)(_e=class extends a.Component{constructor(e){super(e),this.getTotalDeposit=()=>{const{usddJtoken:e,usddoldJtoken:t}=r.Ay,{userDepositDataSource:s}=this.props.lend;let a=(0,g.gH)(0);if(s&&s.length>0){s.map(((s,o)=>{a=s.jtokenAddress===e||s.jtokenAddress===t?a.plus(s.deposited):a.plus(s.deposited_usd)}));let o=(0,g.gH)(a)._toFixed(2,1);return(0,g.gH)(a).eq(0)?(0,y.jsx)("span",{className:"countup-int",children:"$0"}):(0,g.gH)(a).lt(.01)&&(0,g.gH)(a).gte(0)?(0,y.jsx)("span",{className:"countup-int",children:"< $0.01"}):(0,g.gH)(a).lte(.1)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("span",{className:"countup-int",children:["$",o.split(".")[0]]}),(0,y.jsx)("span",{className:"countup-decimal",children:"--"!==a&&o.split(".")[1]&&o.split(".")[1].length>0&&0!=o.split(".")[1]&&"."+o.split(".")[1]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"countup-int",children:"--"===a||(0,g.gH)(a).eq(0)?"--"===a&&"--":(0,y.jsx)(w.Ay,{className:"value-number",start:0,duration:1,redraw:!0,separator:",",decimal:".",prefix:"$",end:(0,g.gH)((0,g.gH)(o).toString().split(".")[0]).toNumber()})}),"--"!==a&&o.split(".")[1]&&o.split(".")[1].length>0&&0!=o.split(".")[1]&&(0,y.jsxs)("span",{className:"countup-decimal",children:[".",/^0/.test(o.split(".")[1])?(0,g.gH)(o).toString().split(".")[1]:(0,y.jsx)(w.Ay,{className:"value-number",start:0,duration:1,redraw:!0,end:(0,g.gH)((0,g.gH)(o).toString().split(".")[1]).toNumber()})]})]})}return s?(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("span",{className:"countup-int",children:"$0"})}):(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("span",{className:"countup-int",children:"--"})})},this.getTotalLend=()=>{const{totalBorrowUsdForUSDD:e}=this.props.lend;let t=(0,g.gH)(e)._toFixed(2,1);return(0,g.gH)(e).eq(0)?(0,y.jsx)("span",{className:"countup-int",children:"$0"}):(0,g.gH)(e).lt(.01)&&(0,g.gH)(e).gte(0)?(0,y.jsx)("span",{className:"countup-int",children:"< $0.01"}):(0,g.gH)(e).lte(.1)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("span",{className:"countup-int",children:["$",t.split(".")[0]]}),(0,y.jsx)("span",{className:"countup-decimal",children:"--"!==e&&(t.split(".")[1]&&t.split(".")[1].length>0?".":"")+t.split(".")[1]})]}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"countup-int",children:"--"!==e?(0,y.jsx)(w.Ay,{className:"value-number",start:0,duration:1,redraw:!0,separator:",",decimal:".",prefix:"$",end:(0,g.gH)((0,g.gH)(t).toString().split(".")[0]).toNumber()}):"--"}),"--"!==e&&t.split(".")[1]&&t.split(".")[1].length>0&&0!=t.split(".")[1]&&(0,y.jsxs)("span",{className:"countup-decimal",children:[".",/^0/.test(t.split(".")[1])?t.split(".")[1]:(0,y.jsx)(w.Ay,{className:"value-number",start:0,duration:1,redraw:!0,end:(0,g.gH)((0,g.gH)(t).toString().split(".")[1]).toNumber()})]})]})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,collapsed:!1}}render(){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"flexBA",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"data-info-key",children:o.Ay.get("v2.total_supplied")}),(0,y.jsx)("div",{className:"data-info-value",children:this.getTotalDeposit()})]}),(0,y.jsx)("button",{className:"j-btn j-reward",onClick:()=>{this.props.network.setData({userSupplyModalShow:!0}),window.gtag("event","PC_supply_detail_button",{event_category:"PC_V1.5",event_label:"supply_detail_button"})},children:o.Ay.get("v2.check_detail")})]}),(0,y.jsxs)("div",{className:"flexBA mt20",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"data-info-key",children:o.Ay.get("v2.total_borrowing")}),(0,y.jsx)("div",{className:"data-info-value",children:this.getTotalLend()})]}),(0,y.jsx)("button",{className:"j-btn j-reward",onClick:()=>{this.props.network.setData({userBorrowModalShow:!0}),window.gtag("event","PC_borrow_detail_button",{event_category:"PC_V1.5",event_label:"borrow_detail_button"})},children:o.Ay.get("v2.check_detail")})]}),(0,y.jsx)(xe,{}),(0,y.jsx)(Se,{})]})}})||_e)||_e)||_e;var De;const He=(0,l.WQ)("network")(De=(0,l.WQ)("lend")(De=(0,l.PA)(De=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,angle:-.25,hoverStatus:!1}}render(){const{isConnected:e,rewardVisible:t,miningRewardVisible:s}=this.props.network,{userDepositDataSource:a,userLendDataSource:i,marketDataSource:l}=this.props.lend;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"account-v2-container",children:[this.props.isLoading?(0,y.jsxs)("div",{className:"skeleton-loader",style:{borderRadius:"10px"},children:[(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"155px"},active:!0,className:"ant-skeleton-thin"}),(0,y.jsxs)("div",{className:"skeleton-chart",children:[(0,y.jsx)("div",{className:"circle-bg",children:(0,y.jsx)(n.A,{title:0,paragraph:{rows:2,width:"100%"},active:!0})}),(0,y.jsx)(n.A,{title:0,paragraph:{rows:4,width:"100%"},active:!0})]}),(0,y.jsx)("div",{className:"skeleton-line"}),(0,y.jsxs)("div",{className:"skeleton-chart",style:{borderRadius:"10px"},children:[(0,y.jsx)(n.A,{title:!1,paragraph:{rows:4,width:"100%"},active:!0}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:2},active:!0,className:"ant-skeleton-thick"})]})]}):(0,y.jsxs)("div",{className:"account-main-info"+(e&&((null===a||void 0===a?void 0:a.length)>0||(null===i||void 0===i?void 0:i.length)>0)?" connected":""),children:[(0,y.jsx)("div",{className:"flexB title",children:(0,y.jsx)("span",{className:"content",children:o.Ay.get("v2.account_overview")})}),(0,y.jsx)(pe,{}),e&&((null===a||void 0===a?void 0:a.length)>0||(null===i||void 0===i?void 0:i.length)>0)&&(0,y.jsx)("section",{className:"countDatas",children:(0,y.jsx)(Ce,{})})]}),e&&(0,y.jsx)(E,{isLoading:this.props.isLoading})]}),(0,y.jsx)(M,{}),s&&(0,y.jsx)(k,{}),t&&(0,y.jsx)(C,{})]})}})||De)||De)||De;var Te;const Le=(0,l.WQ)("network")(Te=(0,l.WQ)("lend")(Te=(0,l.PA)(Te=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){var e;const t=(null===(e=(0,g.Sp)())||void 0===e?void 0:e.lang)||window.localStorage.getItem("lang")||o.Ay.options.currentLocale||"en-US";return(0,y.jsxs)("div",{className:"j-ele j-user-list_not-connect"+("en-US"!==t?"":" en"),children:[(0,y.jsx)("div",{className:"nc-header flex aic",children:(0,y.jsx)("span",{className:"j-logo"+(r.Ay.winterThemeVisible?"":" snow-hide")})}),(0,y.jsxs)("div",{className:"nc-progress",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress1"})}),(0,y.jsx)("div",{className:"progress-text progress1",children:o.Ay.get("v2.tip40")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip41")})]}),(0,y.jsx)("div",{className:"nc-line"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress2"})}),(0,y.jsx)("div",{className:"progress-text",children:o.Ay.get("v2.tip42")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip43")})]}),(0,y.jsx)("div",{className:"nc-line"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress3"})}),(0,y.jsx)("div",{className:"progress-text",children:o.Ay.get("v2.tip44")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip45")})]})]})]})}})||Te)||Te)||Te;const Pe=s.p+"static/media/default-icon.81c92eb23cb90c3b0f43fd34717deb68.svg";const Ve=s.p+"static/media/default-icon.1c709747233cabaeca6da57be1180b07.svg";var Ie;(0,l.WQ)("network")(Ie=(0,l.WQ)("lend")(Ie=(0,l.WQ)("system")(Ie=(0,l.PA)(Ie=class extends a.Component{constructor(e){super(e),this.filterUserEmptySunOld=(e,t)=>{if(e){let s=[...e];return e.map(((e,a)=>{var o;t&&"sunold"===(null===e||void 0===e||null===(o=e.collateralSymbol)||void 0===o?void 0:o.toLowerCase())&&s.splice(a,1)})),s}},this.clickRow=e=>{const{isConnected:t}=this.props.network;if(!t)return this.props.network.connectWallet();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?this.showDAW(e,"1"):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.showDAW=(e,t,s)=>{this.props.system.setData({transModalInfo:{declined:!1}}),this.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e,cb:s}})},this.closeRecommend=()=>{window.gtag("event","PC_close_recommend",{event_category:"PC_V1.5",event_label:"close_recommend"});const e=this.props.network.defaultAccount;window.localStorage.setItem("isShowRecommendToken_"+e,"1"),this.props.lend.setData({isShowRecommendToken:"1"})},this.recommendToken=()=>{const{lang:e}=this.state;let{marketDataSource:t,balanceInfo:s,isUserSunOldEmpty:a,assetList:i,isShowRecommendToken:l,theme:n}=this.props.lend;t=this.filterUserEmptySunOld(t,a);let r="",d="--",c=0,p=null;return t.map((e=>{const{jtokenAddress:t,precision:a,collateralSymbol:o}=e;if(s[t]&&s[t].balance){let l=(0,g.gH)(s[t].balance).div(a);if("usdd"===(null===o||void 0===o?void 0:o.toLowerCase())){c=l,r=o;const{totalApy:t}=(0,g.R_)(e,i);d=t,p=e}}})),!l&&(0,y.jsxs)("div",{className:"j-ele j-recommend "+r.toLowerCase()+("en-US"===e?" en":""),children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-token",children:[(0,y.jsx)("img",{src:r?x.eW[r.toLowerCase()]:"white"===n?Ve:Pe,className:"token-img",alt:""}),(0,y.jsx)("span",{className:"token-text",children:r}),(0,y.jsxs)("div",{className:"recommend-ele",children:[(0,y.jsx)("span",{className:"recommend-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.recommended")})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-info",children:[(0,y.jsx)("div",{children:o.Ay.get("depositapy")}),(0,y.jsxs)("div",{children:[(0,g.ZV)(d,2,{cutZero:!1,miniText:.01,per:!0}),"%"]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-info",children:[(0,y.jsx)("div",{children:o.Ay.get("deposit.wallet_balance")}),(0,y.jsx)("div",{children:(0,g.Pi)(p,s)})]})}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{children:r&&(0,y.jsx)("div",{className:"recommend-btn",onClick:()=>this.clickRow(p),children:o.Ay.get("deposit.deposit")})})}),(0,y.jsx)("span",{className:"clear-icon",onClick:this.closeRecommend})]})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,tokenSymbol:"TRX"}}render(){return(0,y.jsx)(y.Fragment,{children:this.recommendToken()})}})||Ie)||Ie)||Ie);var Me,Re=s(57409),Be=s(48727),Fe=s(51885);let Ue=(0,l.WQ)("network")(Me=(0,l.WQ)("lend")(Me=(0,l.WQ)("pool")(Me=(0,l.WQ)("system")(Me=(0,l.PA)(Me=class extends a.Component{constructor(e){super(e),this.getColumns=()=>{const{lang:e="en-US"}=this.state,{theme:t,openMint:s}=this.props.lend,{usddJtoken:a,usddoldJtoken:i}=r.Ay;return[{title:(0,y.jsx)("span",{className:"white"===t?"c-4c54ff":"c-9195fb",children:o.Ay.get("v2.deposit_token")}),dataIndex:"collateralSymbol",key:"1",width:"16%",render:(t,s)=>(0,y.jsxs)("div",{className:"j-list-logo",children:[(0,y.jsx)("img",{src:(0,g.d5)(s.collateralSymbol),onError:e=>{e.target.onerror=null,e.target.src=Re.default},alt:""}),(0,y.jsx)("div",{className:"j-token",children:`${t}`}),2===s.account_entered?(0,y.jsx)("span",{className:"colleteral",children:o.Ay.get("index.not_support")}):(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:1===s.account_entered?o.Ay.get("s6.collateral_open_hover"):o.Ay.get("s6.collateral_close_hover"),placement:"top",arrowPointAtCenter:!0,trigger:["hover"],children:(0,y.jsx)("div",{children:(0,y.jsx)(Be.A,{on:1===s.account_entered,lang:e,onClick:()=>{this.onSwitchChange(1===s.account_entered,s)}})})})]})},{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:s?(0,g.YL)(o.Ay.get("risk_tip.header_apy"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("risk_tip.header_deposit")},{title:o.Ay.get("v2.tip3")}]):(0,g.YL)(o.Ay.get("risk_tip.header_apy_no_mint"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("risk_tip.header_deposit")}]),placement:"top",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),o.Ay.get("v2.deposit_apy")]}),dataIndex:"depositApy",key:"4",sortDirections:["descend","ascend"],sorter:(e,t)=>{const{assetList:s}=this.props.lend;let a=(0,g.R_)(t,s);return(0,g.R_)(e,s).totalApy-a.totalApy},showSorterTooltip:!1,width:"30%",render:(e,t)=>{const{assetList:s}=this.props.lend,{totalApy:a}=(0,g.R_)(t,s);return(0,y.jsx)("div",{children:(0,y.jsxs)("p",{className:"fw500 single",children:[(0,g.ZV)((0,g.gH)(a),2,{per:!0,miniText:"0.01"}),"%"]})})}},{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:o.Ay.getHTML("v2.holder_tip"),placement:"top",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),o.Ay.get("v2.holder")]}),dataIndex:"deposited_usd",key:"3",sortDirections:["descend","ascend"],sorter:(e,t)=>e.deposited_usd-t.deposited_usd,showSorterTooltip:!1,width:"30%",render:(e,t)=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"main-desc",children:(0,g.ZV)((0,g.gH)(t.jtokenAddress===a||t.jtokenAddress===i?t.deposited:e),2,{miniText:.01,needDolar:!0})}),(0,y.jsxs)("div",{className:"sub-desc",children:[(0,g.ZV)((0,g.gH)(t.deposited),3,{miniText:.001}),"  ",t.collateralSymbol]})]})},{title:" ",dataIndex:"per",key:"4",width:"25%",render:e=>(0,y.jsx)("div",{className:"j-btn j-withdraw",children:o.Ay.get("s6.withdraw_btn")})}]},this.clickRow=e=>{if(window.gtag("event","PC_tab_supply_withdraw",{event_category:"PC",event_label:"tab_supply_withdraw"}),!this.props.network.isConnected)return this.props.network.connectWalletV2();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?this.showDAW(e,"2"):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.showDAW=(e,t,s)=>{this.props.system.clearRejectError(),this.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e,cb:s}})},this.onSwitchChange=(e,t)=>{if(!this.props.network.isConnected)return this.props.network.connectWalletV2();if(0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();if(!this.props.lend.collateralValid(t.collateralSymbol))return;const{jtokenAddress:s}=t;this.props.system.setData({transModalInfo:{declined:!1}}),this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:s},"mortgageModalInfo")},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){const{userDepositDataSource:e,mortgageModalInfo:t}=this.props.lend;let s=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"bs-list j-supply-list",children:[(0,y.jsx)(he.A,{onRow:(e,t)=>({onClick:t=>{this.clickRow(e)}}),columns:this.getColumns(),dataSource:s,pagination:!1,locale:{emptyText:(0,g.Hf)()}}),t.visible&&(0,y.jsx)(Fe.A,{dataSource:s})]})})}})||Me)||Me)||Me)||Me)||Me;const We=Ue;var Ee;const Qe=(0,l.WQ)("network")(Ee=(0,l.WQ)("lend")(Ee=(0,l.WQ)("system")(Ee=(0,l.PA)(Ee=class extends a.Component{constructor(e){super(e),this.getColumns=()=>{const{lang:e}=this.state,{usddJtoken:t,usddoldJtoken:s}=r.Ay;return[{title:(0,y.jsx)("span",{className:"c-18c19f",children:o.Ay.get("v2.borrow_token")}),dataIndex:"collateralSymbol",key:"collateralSymbol",width:"16%",render:(e,t)=>(0,y.jsxs)("div",{className:"j-list-logo"+("WBTT"===e?" wbtt":"ETH"===e?" eth":""),children:[(0,y.jsx)("img",{src:t.logoUrl?t.logoUrl:(0,x.E7)(t.collateralSymbol),onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)(t.collateralSymbol)},alt:""}),(0,y.jsx)("div",{className:"j-token",children:`${e}`})]})},{title:o.Ay.get("v2.borrow_apy"),dataIndex:"lendApy",sortDirections:["descend","ascend"],sorter:(e,t)=>e.lendApy-t.lendApy,showSorterTooltip:!1,key:"4",width:"30%",render:(e,t)=>(0,y.jsx)("div",{children:(0,y.jsxs)("p",{className:"fw500 single",children:[(0,g.ZV)((0,g.gH)(e),2,{per:!0,miniText:"0.01"}),"%"]})})},{title:this.repayRender(),dataIndex:"borrowBalanceNew",sortDirections:["descend","ascend"],sorter:(e,t)=>e.borrowBalanceNewUsd-t.borrowBalanceNewUsd,showSorterTooltip:!1,key:"3",width:"30%",render:(e,a)=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"main-desc",children:(0,g.ZV)((0,g.gH)(a.jtokenAddress===t||a.jtokenAddress===s?(0,g.gH)(e).div(a.precision):a.borrowBalanceNewUsd),2,{miniText:.01,needDolar:!0})}),(0,y.jsxs)("div",{className:"sub-desc",children:[(0,g.ZV)((0,g.gH)(e).div(a.precision),3,{miniText:.001})," ",a.collateralSymbol]})]})},{title:" ",dataIndex:"per",key:"4",width:"25%",render:e=>(0,y.jsx)("div",{className:"j-btn j-repay",children:o.Ay.get("v2.repay")})}]},this.repayRender=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",arrowPointAtCenter:!0,title:o.Ay.get("v2.tip5"),placement:"top",trigger:"['hover','click']",children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),o.Ay.get("v2.debt")]}),this.clickRow=e=>{if(window.gtag("event","PC_tab_borrow_repay",{event_category:"PC_V1.5",event_label:"tab_borrow_repay"}),!this.props.network.isConnected)return this.props.network.connectWalletV2();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?(this.props.system.clearRejectError(),this.props.lend.showBorrowModal(e,"2")):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.onSwitchChange=(e,t)=>{if(!this.props.lend.collateralValid(t.collateralSymbol))return;const{jtokenAddress:s}=t;this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:s},"mortgageModalInfo")},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){const{userLendDataSource:e}=this.props.lend;return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)("div",{className:"bs-list j-borrow-list",children:(0,y.jsx)(he.A,{onRow:e=>({onClick:()=>{this.clickRow(e)}}),columns:this.getColumns(),dataSource:e,pagination:!1,locale:{emptyText:(0,g.Hf)()}})})})}})||Ee)||Ee)||Ee)||Ee;var Ze=s(61828),Oe=s(67441),Je=s(97105);const Ye=s.p+"static/media/tooltip.c3d28d62121eaa1479f25c50f3c7b321.svg";var qe;const{TabPane:Ge}=Ze.A;const Ke=(0,l.WQ)("network")(qe=(0,l.WQ)("system")(qe=(0,l.WQ)("pool")(qe=(0,l.PA)(qe=class extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.initModal=()=>{this.setState({approving:!1,focuStatus:!1,smallSize:!1,stakeValue:"",withdrawValue:""})},this.cancelModal=()=>{this.props.onCancel&&this.props.onCancel(),this.initModal()},this.getReward=async()=>{try{let{cardData:e}=this.props;const{gift:t,giftKey:s,decimal:a,trxClaimed:o=(0,g.gH)(0),tokenClaimed:i=(0,g.gH)(0)}=e;if(!o.gt(0)&&!i.gt(0))return;let l={};l=2===s.length?{title:"stake.all_claim",obj:{value1:(0,g.ZV)(i,r.Ay.defaultDecimal),value2:(0,g.ZV)(o,r.Ay.defaultDecimal),token1:s[0].toUpperCase(),token2:s[1].toUpperCase()}}:{title:"stake.token_claim",obj:{value1:(0,g.ZV)("trx"===s[0]?o:i,r.Ay.defaultDecimal),token1:s[0].toUpperCase()}},this.setState({isSuccess:!1,txID:""});const n=e.pool;let d="getReward()",c=[];const p={feeLimit:await this.props.system.getFeeLimitCommon(n,d,c)};await this.props.system.yamReward(e,l,p)&&setTimeout((()=>{this.props.pool.getPoolData(),this.props.pool.getTronbullish()}),5e3)}catch(e){console.log(e)}},this.maxNumber=e=>(0,g.gH)(e.toFixed(r.Ay.defaultDecimalForInput,1)).toString(),this.setMaxWithdraw=async()=>{let{cardData:e}=this.props;if(!(0,g.gH)(e.staked).gt(0))return;const t=this.maxNumber(e.staked);this.setState({withdrawValue:t},(()=>{this.unlockChange(t)}))},this.setMaxStake=async()=>{let{cardData:e}=this.props;Date.now(),e.end;if(!(0,g.gH)(e.tokenBalance).gt(0)||!e.tokenAllowance._toBg().gt(0)||!e.tokenBalance._toBg().gt(0))return;const t=this.maxNumber(e.tokenBalance);this.setState({stakeValue:t},(()=>{this.stakeChange(t)}))},this.stakeChange=e=>{const{cardData:t}=this.props,s=t.tokenBalance,{valid:a,str:i}=(0,g.PY)(e,r.Ay.defaultDecimalForInput);a&&(this.setState({stakeValue:i}),(0,g.gH)(i).gt(0)?(0,g.gH)(i).gt(s)?this.setState({lockBtn:o.Ay.get("tab.not_enough"),lockBtnStatus:!1}):this.setState({lockBtn:o.Ay.get("tab.lock"),lockBtnStatus:!0}):this.setState({lockBtn:o.Ay.get("tab.lock"),lockBtnStatus:!1}),i.length>10?this.setState({smallSize:!0}):this.setState({smallSize:!1}))},this.unlockChange=e=>{const{cardData:t}=this.props,{valid:s,str:a}=(0,g.PY)(e,r.Ay.defaultDecimalForInput);s&&(this.setState({withdrawValue:a}),(0,g.gH)(a).gt(0)?(0,g.gH)(a).gt(t.staked)?this.setState({collectBtn:o.Ay.get("tab.not_enough"),collectBtnStatus:!1}):this.setState({collectBtn:o.Ay.get("tab.unlock_btn"),collectBtnStatus:!0}):this.setState({collectBtn:o.Ay.get("tab.unlock_btn"),collectBtnStatus:!1}),a.length>10?this.setState({smallSize:!0}):this.setState({smallSize:!1}))},this.gotojustlend=()=>{},this.toDeposit=async()=>{const{lockBtnStatus:e,stakeValue:t}=this.state;let{cardData:s}=this.props;if(!e)return;const a={title:"lend.mint",obj:{value:t,token:`${s.lp}-TRX LP`}},o=s.pool,i=new g.gH(t).times(s.precision).toString();let l="stake(uint256)",n=[{type:"uint256",value:i}],r={};"TRX"===s.symbol?(l="stake()",n=[],r={callValue:i}):"sunoldVote"===s.vote&&(l="stake(uint256,address)",n=[{type:"uint256",value:i},{type:"address",value:s.voteAddr}]);const d=await this.props.system.getFeeLimitCommon(o,l,n,r);await this.props.system.yamDeposit(s,i,a,d)&&(this.stakeChange(""),setTimeout((()=>{this.props.pool.getTokenBalanceOf(s),this.props.pool.getPoolData(),this.props.pool.getTronbullish()}),1e4))},this.toApprove=async()=>{const{cardData:e}=this.props,{approving:t}=this.state;if(t)return;const s={title:"lend.approve",obj:{token:`${e.lp}-TRX LP`}};try{const t=e.token;let a="approve(address,uint256)",o=[{type:"address",value:e.pool},{type:"uint256",value:Je.V9}];const i={feeLimit:await this.props.system.getFeeLimitCommon(t,a,o)};await this.props.system.yamApprove(e,s,i)?(this.setState({approving:!0}),setTimeout((async()=>{await this.props.pool.getTokenBalanceOf(e),this.setState({approving:!1})}),5e3)):this.setState({approving:!1})}catch(a){console.log(a)}},this.toWithDraw=async()=>{const{withdrawValue:e,collectBtnStatus:t}=this.state;if(!t)return;let{cardData:s}=this.props;const a={title:"stake.unstake",obj:{value:e,token:`${s.lp}-TRX LP`}};this.setState({isSuccess:!1,txID:""});const o=s.pool;const i=new g.gH(e).times(s.precision).toString();let l=[{type:"uint256",value:i}];const n={feeLimit:await this.props.system.getFeeLimitCommon(o,"withdrawAndGetReward(uint256)",l)};await this.props.system.yamWithdraw(s,i,a,n)&&(this.unlockChange(""),setTimeout((()=>{this.props.pool.getTokenBalanceOf(s),this.props.pool.getPoolData()}),5e3))},this.focusOnchange=e=>{this.setState({focuStatus:e})},this.renderDeposit=()=>{const{cardData:e,defaultKey:t}=this.props,{nowTime:s}=this.props.network,{tronBull:a,tronbullish:i,tokenPrices:l}=this.props.pool,{focuStatus:n,smallSize:d,stakeValue:c,lang:p,lockBtn:m,lockBtnStatus:h,collectBtn:u,collectBtnStatus:w,withdrawValue:j}=this.state;return(0,y.jsx)("div",{className:"lend-deposit",children:(0,y.jsxs)(Ze.A,{defaultActiveKey:t,centered:!0,tabBarStyle:{fontSize:"18px",fontFamily:"PingFangSC-Medium"},children:[(0,y.jsx)(Ge,{tab:o.Ay.get("tab.lock"),disabled:this.props.end,children:(0,y.jsx)("div",{className:"lend-deposit-pane",children:(0,y.jsxs)("div",{className:"lend-deposit-amount",children:[(0,y.jsxs)("div",{className:"between a-center",children:[(0,y.jsx)("span",{className:"name c-333",children:o.Ay.get("tab.lock_num")}),(0,y.jsx)("span",{className:"max",onClick:this.setMaxStake,children:"MAX"})]}),(0,y.jsx)(Oe.A,{suffix:`${e.lp}-TRX LP`,value:c,onChange:e=>this.stakeChange(e.target.value),placeholder:n?null:"0",onBlur:()=>this.focusOnchange(!1),onFocus:()=>this.focusOnchange(!0),className:"depositInput "+(d?"small":"")}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:o.Ay.get("tab.locked")}),(0,y.jsxs)("span",{className:"name",children:[(0,y.jsx)("span",{className:"value",children:(0,g.ZV)(e.staked,r.Ay.defaultDecimal)})," ",e.lp,"-TRX LP"]})]}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:o.Ay.get("lend.balance")}),(0,y.jsxs)("span",{className:"name",children:[(0,y.jsx)("span",{className:"value",children:(0,g.ZV)(e.tokenBalance,r.Ay.defaultDecimal)})," ",`${e.lp}-TRX LP`]})]}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:"APY"}),(0,y.jsx)("span",{className:"name apy",children:(0,g.vO)(e,a)})]}),(0,y.jsx)("div",{className:"lend-modal-bottom",children:(0,y.jsx)("button",{disabled:!h,onClick:()=>this.toDeposit(),children:m})})]})})},"1"),(0,y.jsx)(Ge,{tab:o.Ay.get("tab.collect"),children:(0,y.jsx)("div",{className:"lend-withdraw-pane",children:(0,y.jsxs)("div",{className:"lend-withdraw-amount",children:[(0,y.jsxs)("div",{className:"between a-center",children:[(0,y.jsx)("span",{className:"name c-333",children:o.Ay.get("tab.unlock_num")}),(0,y.jsx)("span",{className:"max",onClick:this.setMaxWithdraw,children:"MAX"})]}),(0,y.jsx)(Oe.A,{suffix:`${e.lp}-TRX LP`,value:j,onChange:e=>this.unlockChange(e.target.value),placeholder:n?null:"0",onBlur:()=>this.focusOnchange(!1),onFocus:()=>this.focusOnchange(!0),className:"depositInput "+(d?"small":"")}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:o.Ay.get("tab.unlock_title")}),(0,y.jsxs)("span",{className:"name",children:[(0,y.jsx)("span",{className:"value",children:(0,g.ZV)(e.staked,r.Ay.defaultDecimal)})," ",e.lp,"-TRX LP"]})]}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:o.Ay.get("card_modal_add.aClaim")}),(0,y.jsxs)("span",{className:"name",children:[e.gift&&e.gift.map(((t,s)=>(0,y.jsxs)("span",{className:"value",children:["TRX"===t.symbol?(0,g.ZV)(e.trxClaimed,r.Ay.defaultDecimal):(0,g.ZV)(e.tokenClaimed,r.Ay.defaultDecimal),` ${t.symbol} `," ",s!==e.gift.length-1?"+ ":""]},s))),(0,y.jsx)("span",{className:"link",onClick:()=>this.getReward(),children:o.Ay.get("tab.claim_btn")})]})]}),(0,y.jsx)("div",{className:"name big c-333 mt",children:o.Ay.get("tab.my_withdrawn")}),(0,y.jsxs)("div",{className:"between",children:[(0,y.jsx)("span",{className:"name",children:o.Ay.get("tab.claim_title")}),(0,y.jsx)("span",{className:"name",children:(0,y.jsx)("span",{className:"value",children:(0,g.bt)(e,i,"swap",{},l)})})]}),(0,y.jsxs)("div",{className:"claim-detail",children:[(0,y.jsxs)("div",{className:"flexB claim-title",children:[(0,y.jsx)("span",{children:o.Ay.get("card_modal_add.currency")}),(0,y.jsxs)("span",{className:"align-center",children:[(0,y.jsx)("span",{children:o.Ay.get("card_modal_add.upcoming")}),(0,y.jsx)(v.A,{title:o.Ay.get("card_modal_add.upcoming_tip"),arrowPointAtCenter:!0,placement:"top",overlayClassName:"modal-tooltip",children:(0,y.jsx)("img",{src:Ye})})]}),(0,y.jsxs)("span",{className:"align-center",children:[(0,y.jsx)("span",{children:o.Ay.get("card_modal_add.frozen")}),(0,y.jsx)(v.A,{title:o.Ay.get("card_modal_add.frozen_tip"),arrowPointAtCenter:!0,placement:"topRight",overlayClassName:"modal-tooltip",children:(0,y.jsx)("img",{src:Ye})})]})]}),(0,g.WB)(e,s,i)]}),(0,y.jsx)("div",{className:"lend-modal-bottom",children:(0,y.jsx)("button",{disabled:!w,onClick:()=>this.toWithDraw(),children:u})})]})})},"2")]})})},this.renderGiftList=()=>{const{cardData:e}=this.props;return e.gift.map(((t,s)=>(0,y.jsxs)("span",{className:"value",children:["TRX"===t.symbol?(0,g.ZV)(e.trxClaimed,t.decimal):(0,g.ZV)(e.tokenClaimed,t.decimal),` ${t.symbol} `," ",s!==e.gift.length-1?"+":""]},s)))},this.renderApprove=()=>{const{cardData:e}=this.props;return(0,y.jsxs)("div",{className:"lend-approve",children:[(0,y.jsx)("div",{className:"title",children:o.Ay.get("lend.approve")}),(0,y.jsx)("div",{className:"tip",children:o.Ay.getHTML("lend.approveDesc",{token:`${e.lp}-TRX LP`})}),(0,y.jsx)("div",{children:(0,y.jsxs)("button",{onClick:()=>this.toApprove(),children:[o.Ay.get("lend.approve")," ",`${e.lp}-TRX LP`]})})]})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,approving:!1,focuStatus:!1,lockBtn:o.Ay.get("tab.lock"),collectBtn:o.Ay.get("tab.unlock_btn"),lockBtnStatus:!1,collectBtnStatus:!1,smallSize:!1,stakeValue:"",withdrawValue:""}}render(){const{visible:e,cardData:t}=this.props;return(0,y.jsx)(u.A,{getContainer:()=>document.querySelector(".modal-container"),visible:e,title:"",width:400,footer:null,className:"lend-modal mining-row-modal",onCancel:this.cancelModal,children:t.tokenAllowance._toBg().gt(0)?this.renderDeposit():this.renderApprove()})}})||qe)||qe)||qe)||qe;var ze,Xe=s(13251);const $e=(0,l.WQ)("network")(ze=(0,l.WQ)("lend")(ze=(0,l.WQ)("pool")(ze=(0,l.WQ)("system")(ze=(0,l.PA)(ze=class extends a.Component{constructor(e){super(e),this.componentDidMount=async()=>{await this.getNowTime(),this.getCountTime()},this.getNowTime=async()=>{try{let{multyStart:e}=this.props.network;const t=await(0,Xe.WB)();if(t.success){const s=t.time;if(s<r.Ay.startTime?e=!1:s>=r.Ay.startTime&&(e=!0),this.props.network.setData({nowTime:s,multyStart:e}),s>=r.Ay.latestStartTime+1e4)return void window.localStorage.setItem("nowTime",s)}setTimeout((()=>{this.getNowTime()}),3e3)}catch(e){console.log("get time error",e),setTimeout((()=>{this.getNowTime()}),3e3)}},this.getCountTime=async()=>{if(this.props.network.nowTime>=r.Ay.latestStartTime+1e4)window.localStorage.setItem("nowTime",this.props.network.nowTime);else{if(null===this.props.network.nowTime)await this.getNowTime();else{const e=this.props.network.nowTime+1e3;this.props.network.setData({nowTime:e,multyStart:e>r.Ay.startTime})}setTimeout((async()=>{this.getCountTime()}),1e3)}},this.cancelModal=()=>{this.setState({modalVisible:!1})},this.endStake=async e=>{if(window.gtag("event","PC_claim_withdraw",{event_category:"PC_V1.5",event_label:"claim_withdraw"}),!this.props.network.isConnected||!(e.staked._toBg().gt(0)||e.trxClaimed._toBg().gt(0)||e.tokenClaimed._toBg().gt(0)))return;const t={title:"stake.unstake",obj:{value:(0,g.ZV)(e.staked,r.Ay.defaultDecimal),token:e.symbol}},s=e.pool;let a=[{type:"uint256",value:e.staked.times(e.precision).toString()}];const o={feeLimit:await this.props.system.getFeeLimitCommon(s,"withdrawAndGetReward(uint256)",a)};await this.props.system.yamWithdraw(e,e.staked.times(e.precision).toString(),t,o)&&setTimeout((()=>{this.props.pool.getTokenBalanceOf(e),this.props.pool.getPoolData()}),5e3)},this.openModal=async(e,t)=>{await this.props.pool.getTokenBalanceOf(e),t?this.setState({defaultKey:t},(()=>{this.setState({modalVisible:!0})})):this.setState({modalVisible:!0})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,toast:!window.localStorage.getItem("hideWarningTips"),mobile:(0,i.A)(window.navigator).any,modalVisible:!1,defaultKey:"1"}}render(){const{modalVisible:e,defaultKey:t}=this.state,{multyStart:s,nowTime:a}=this.props.network,{cardData:i}=this.props;return(0,g.gH)(i.staked).gt(0)?(0,y.jsxs)("div",{className:"j-mining-row",children:[(0,y.jsx)("div",{className:"mining-tip",children:(0,y.jsx)("span",{children:o.Ay.get("v2.tip6")})}),r.Ay.activeSwaps.map((e=>(0,y.jsxs)("div",{className:"flex mining-rows",children:[(0,y.jsxs)("div",{className:"flex ai-center",children:[(0,y.jsxs)("div",{className:"img-block",children:[(0,y.jsx)("img",{src:x.eW[i.lp.toLowerCase()],alt:"token",className:"token"}),(0,y.jsx)("img",{src:x.eW.trx,alt:"trx",className:"trxToken"})]}),(0,y.jsxs)("div",{className:"row-symbol",children:[(0,y.jsxs)("div",{children:[i.symbol," "]}),a>i.end&&(0,y.jsxs)("div",{children:[" ",o.Ay.get("v2.get_out")]})]})]}),(0,y.jsxs)("div",{className:"row-token",children:[(0,g.ZV)(i.staked,r.Ay.defaultDecimal)," ",i.symbol]}),(0,y.jsx)("div",{className:"btn",children:a>i.end?(0,y.jsx)("button",{className:"j-btn j-supply",disabled:!(this.props.network.isConnected&&(i.staked._toBg().gt(0)||i.trxClaimed._toBg().gt(0)||i.tokenClaimed._toBg().gt(0))),onClick:()=>this.endStake(i),children:o.Ay.get("v2.deposit_withdraw")}):s?((0,g.gH)(i.staked).gt(0),(0,y.jsx)("button",{className:"j-btn j-supply",onClick:()=>this.openModal(i),children:o.Ay.get("v2.deposit_withdraw")})):(0,y.jsx)("button",{className:"j-btn j-supply",disabled:!0,children:o.Ay.get("lend.coming")})})]},e))),e&&(0,y.jsx)(Ke,{visible:e,onCancel:this.cancelModal,cardData:i,defaultKey:t,end:a>i.end})]}):null}})||ze)||ze)||ze)||ze)||ze;var et,tt=s(22172);let st=(0,l.WQ)("network")(et=(0,l.WQ)("lend")(et=(0,l.WQ)("strx")(et=(0,l.PA)(et=class extends a.Component{constructor(){super(...arguments),this.onClose=e=>{e.stopPropagation();const t=this.props.network.defaultAccount;this.props.isUSDDUpdateBanner?(window.localStorage.setItem("isShowUSDDUpdateAd_"+t,"1"),this.props.lend.setData({isShowUSDDUpdateAd:"1"}),window.localStorage.setItem("isShowRecommendToken_"+t,"1"),this.props.lend.setData({isShowRecommendToken:"1"})):(window.localStorage.setItem("isShowRecommendToken_"+t,"1"),this.props.lend.setData({isShowRecommendToken:"1"}))},this.onClick=()=>{this.props.isUSDDUpdateBanner||((0,g.dg)("strx","old"===this.props.type?"_blank":"_self"),window.gtag("event","PC_recommend_strx",{event_category:"sTRX",event_label:"recommend_strx"}))}}componentDidMount(){this.props.strx.getMarketData()}render(){const{theme:e,lang:t}=this.props.lend,s="old"===this.props.type?"white":e,{marketData:a}=this.props.strx;return(0,y.jsxs)("div",{className:"recommend-liquidity-stake "+s+(this.props.isUSDDUpdateBanner?" usdd-update":"")+" "+t,onClick:this.onClick,children:[(0,y.jsx)("p",{className:`title ${t}`,children:(0,y.jsx)("span",{className:"icon",children:"NEW"})}),(0,y.jsx)("p",{className:`text ${t}`,children:o.Ay.getHTML("strx.energy_banner_tip",{value:(0,g.ZV)(100*a.avgApy,2,{miniText:.01})+"% APY"})}),(0,y.jsx)("i",{className:"close",onClick:this.onClose}),(0,y.jsx)("div",{className:"bg"})]})}})||et)||et)||et)||et;var at;const{comingSoonBannerVisible:ot}=r.Ay;const it=(0,l.WQ)("network")(at=(0,l.WQ)("lend")(at=(0,l.WQ)("pool")(at=(0,l.PA)(at=class extends a.Component{constructor(e){super(e),this.tabChange=e=>{this.props.lend.setData({activeKey:e})},this.hideToast=()=>{window.gtag("event","PC_hide_toast",{event_category:"PC_V1.5",event_label:"hide_toast"}),this.setState({toast:!1}),window.localStorage.setItem("hideWarningTipsV2",!0)},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,activeKey:"all",toast:!window.localStorage.getItem("hideWarningTipsV2")}}render(){const{userDepositDataSource:e,userLendDataSource:t,isShowRecommendToken:s,isShowUSDDUpdateAd:a,activeKey:i}=this.props.lend,{toast:l,lang:n}=this.state,d=(0,g.Ez)("activeKey");let c="";c=d||i?i||d:"all";let p=0,m=0,h=e;h&&h.length&&(p=h.length),t&&t.length&&(m=t.length);let u=(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0)?1:0;let v=!s&&("all"===c&&u+p+m<=3||"supply"===c&&u+p<=3),w=window.localStorage.getItem("hideWarningTipsV2");return(0,y.jsxs)(y.Fragment,{children:[p>0&&(0,y.jsxs)("div",{className:"j-records",children:[(0,y.jsxs)("div",{className:"j-tabs-outer",children:[(0,y.jsx)("div",{className:"j-tabs-title",children:o.Ay.get("s6.my_position")}),(0,y.jsxs)("div",{className:"j-tabs",children:[(0,y.jsx)("div",{className:"all"===c?"current":"",onClick:()=>{this.tabChange("all"),window.gtag("event","PC_tab_all",{event_category:"PC_V1.5",event_label:"tab_all"})},children:(0,y.jsx)("span",{children:o.Ay.get("v2.all")})}),(0,y.jsxs)("div",{className:"supply"===c?"current":"",onClick:()=>{this.tabChange("supply"),window.gtag("event","PC_tab_supply",{event_category:"PC_V1.5",event_label:"tab_supply"})},children:[(0,y.jsx)("span",{children:o.Ay.get("s6.tab_deposit")}),h&&h.length>0&&(0,y.jsx)("span",{className:"j-num supply",children:h.length})]}),(0,y.jsxs)("div",{className:"borrow"===c?"current":"",onClick:()=>{this.tabChange("borrow"),window.gtag("event","PC_tab_borrow",{event_category:"PC_V1.5",event_label:"tab_borrow"})},children:[(0,y.jsx)("span",{children:o.Ay.get("s6.tab_borrow")}),t&&t.length>0&&(0,y.jsx)("span",{className:"j-num borrow",children:t.length})]})]})]}),(0,y.jsx)("div",{className:"j-list-content"+(v||!a&&ot?" has-recommend-token":"")+(w?" hide-warning-tips-V2":""),children:(0,y.jsxs)("div",{children:[["all","supply"].includes(c)&&(0,y.jsx)(We,{}),["all","borrow"].includes(c)&&(0,y.jsx)(Qe,{}),["all","supply"].includes(c)&&(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0)&&r.Ay.activeSwaps.map(((e,t)=>(0,y.jsx)($e,{cardData:this.props.pool.poolData[e]},e+t))),["all","supply"].includes(c)&&!0===l&&(0,y.jsxs)("div",{className:"j-warning-tip",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"j-warning-icon"}),o.Ay.get("v2.tip7")]}),(0,y.jsx)("div",{className:"clear-icon",onClick:this.hideToast})]}),(0,y.jsx)("div",{className:"linear"})]})})]}),!a&&ot?(0,y.jsx)(st,{isUSDDUpdateBanner:!0}):v&&(0,y.jsx)(st,{})]})}})||at)||at)||at)||at;var lt;s(54943);const nt=(0,l.WQ)("network")(lt=(0,l.WQ)("lend")(lt=(0,l.WQ)("pool")(lt=(0,l.PA)(lt=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any}}render(){const{isConnected:e}=this.props.network,{userDepositDataSource:t,userLendDataSource:s,isShowRecommendToken:a,isShowUSDDUpdateAd:o,marketDataSource:i}=this.props.lend;let l=0,d=0,c=t;c&&c.length&&(l=c.length),s&&s.length&&(d=s.length);(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0);return(0,y.jsx)(y.Fragment,{children:this.props.isLoading?(0,y.jsxs)("div",{className:"j-user-list j-user-list-skeleton",children:[(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"30%"},active:!0,className:"top-skeleton"}),(0,y.jsx)("div",{className:"j-supply-title"}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:e?3:1,width:"100%"},active:!0}),(0,y.jsx)("div",{className:"j-borrow-title"}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:3,width:"100%"},active:!0,className:"bottom-skeleton"})]}):(0,y.jsxs)("div",{className:"j-user-list "+(r.TS.winterThemeVisible?" snow-ele-top ":"")+(a&&o?" h-list":""),children:[!e&&(0,y.jsx)(Le,{}),e&&l<=0&&(0,y.jsx)(Le,{}),e&&(0,y.jsx)(it,{})]})})}})||lt)||lt)||lt)||lt;var rt,dt=s(852),ct=s(52142);let pt=(0,l.WQ)("lend")(rt=(0,l.PA)(rt=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){const{openCollateralShow:e,theme:t}=this.props.lend,{lang:s}=this.state;return(0,y.jsxs)(u.A,{visible:e,title:o.Ay.get("collateral_tip_title"),width:400,centered:!0,footer:null,className:"j-modal header-border collateral-limit-modal",onCancel:()=>this.props.lend.setData({openCollateralShow:!1}),getContainer:()=>document.querySelector(".j-wrapper"),children:[(0,y.jsx)("img",{className:"collateral-limit-img",src:"white"===t?ct:dt,alt:""}),(0,y.jsx)("div",{className:"collateral-limit"+("zh-CN"===s?" tac":""),children:o.Ay.getHTML("v2.tip33")}),(0,y.jsx)("button",{className:"j-large-btn j-supply",onClick:()=>this.props.lend.setData({openCollateralShow:!1}),children:o.Ay.get("collateral_ok")})]})}})||rt)||rt;const mt=pt;var ht,gt=s(46173),ut=s(84451),vt=(s(53206),s(78691)),wt=s(11856),jt=s(80805),xt=s(33787),yt=s(81055);const{miningSymbol:At}=r.Ay;let bt=(0,l.WQ)("network")(ht=(0,l.WQ)("lend")(ht=(0,l.WQ)("system")(ht=(0,l.PA)(ht=class extends a.Component{constructor(e){super(e),this.componentDidMount=()=>{},this.clickDeposit=e=>{const{isConnected:t}=this.props.network;if(!t)return this.props.network.connectWalletV2();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?(this.props.system.clearRejectError(),this.showDAW(e,"1")):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.clickBorrow=(e,t)=>{const{isConnected:s}=this.props.network;if(!s)return this.props.network.connectWalletV2();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?this.props.lend.collateralValid(t.collateralSymbol)&&(this.props.system.clearRejectError(),this.props.lend.showBorrowModal(t,"1")):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.getBorrowValue=e=>{const{jtokenAddress:t}=e,{userList:s}=this.props.lend,{borrowBalanceNew:a,deposited:o}=s[t]||{borrowBalanceNew:0,deposited:0};return{borrowBalanceNew:a,deposited:o}},this.depositApyTooltipRender=()=>{const{openMint:e}=this.props.lend;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{title:e?(0,g.YL)(o.Ay.get("risk_tip.header_apy"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("risk_tip.header_deposit")},{title:o.Ay.get("v2.tip3")}]):(0,g.YL)(o.Ay.get("risk_tip.header_apy_no_mint"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("risk_tip.header_deposit")}]),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),(0,y.jsx)("span",{children:o.Ay.get("v2.deposit_apy")})]})},this.marketLendTooltipRender=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{title:(0,jt.Gj)(),placement:"top",arrowPointAtCenter:!0,trigger:["click","hover"],overlayClassName:"j-tooltip-dropdown",children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),o.Ay.get("v2.liquidity")]}),this.onSwitchChange=(e,t)=>{const{isConnected:s}=this.props.network;if(!s)return this.props.network.connectWalletV2();if(0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();if(!this.props.lend.collateralValid(t.collateralSymbol))return;if(!e&&!(0,tt.A)(t.account_depositJtoken).gt(0))return void this.props.lend.setData({openCollateralShow:!0});const{jtokenAddress:a}=t;this.props.system.setData({transModalInfo:{declined:!1}}),this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:a,collateralSymbol:t.collateralSymbol},"mortgageModalInfo"),e?window.gtag("event","PC_disable_mortgage",{event_category:"PC_V1.5",event_label:"disable_mortgage"}):window.gtag("event","PC_enable_mortgage",{event_category:"PC_V1.5",event_label:"enable_mortgage"})},this.getInfoColumns=e=>{const{lang:t,mobile:s}=this.state,{isConnected:a}=this.props.network,{noService:l,riojBalance:n,theme:d,openMint:c}=this.props.lend;let p=[{title:o.Ay.get("v2.asset"),dataIndex:"collateralSymbol",key:"1",ellipsis:!0,fixed:"left",width:(0,i.A)(window.navigator).any?60:210,className:"token-symbol",render:(e,t)=>{var s;return(0,y.jsxs)("div",{className:"j-list-logo "+(null===t||void 0===t||null===(s=t.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),children:[(0,y.jsx)("img",{src:t.logoUrl?t.logoUrl:(0,x.E7)(null===t||void 0===t?void 0:t.collateralSymbol),onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)(null===t||void 0===t?void 0:t.collateralSymbol)},alt:""}),(0,y.jsxs)("div",{className:"j-token",children:[l&&"wstUSDT"===e?(0,y.jsxs)("div",{className:"token-names flex aic",children:[`${e}`,(0,y.jsx)(v.A,{title:n&&a?o.Ay.get("home.market_not_useful2"):o.Ay.get("home.market_not_useful"),placement:"top",trigger:"['hover','click']",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown not-used "+d,children:(0,y.jsx)("em",{className:"not-used-icon ml-6"})})]}):r.Ay.riskMarkets.includes(e)&&"ETH"!==e||"WBTT"===e?(0,y.jsxs)("div",{className:"token-names flex aic",children:[`${e}`,(0,y.jsx)(v.A,{title:"SUNOLD"===e?o.Ay.getHTML("risk_tip.sunold_borrow"):o.Ay.getHTML(`risk_tip.${null===e||void 0===e?void 0:e.toLocaleLowerCase()}_icon`,{link:"USDCOLD"===t.collateralSymbol?r.Ay.announceForUSDCOLD:r.Ay.announceLink}),placement:"top",trigger:"['hover','click']",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown "+d,children:(0,y.jsx)("em",{className:"not-used-icon ml-6"})})]}):(0,y.jsxs)("div",{className:"token-names",children:[`${e}`,"USDDOLD"===e&&"USDD"===At&&(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown "+d,title:o.Ay.get("usdd_update.tip"),placement:"top",arrowPointAtCenter:!0,children:(0,y.jsx)("span",{className:"tip"})}),"ETH"===e&&(0,y.jsxs)("span",{className:"des "+d,children:["(",o.Ay.get("eth.origin_ethold"),")"]}),"ETHB"===e&&(0,y.jsxs)("span",{className:"des "+d,children:["(",o.Ay.get("eth.origin_eth"),")"]})]}),(0,y.jsx)("div",{className:"description",children:`${t.collateralName}`})]})]})}},{title:this.depositApyTooltipRender(),className:"deposit-apy-cell",dataIndex:"depositApy",key:"2",sortDirections:["descend","ascend"],sorter:(e,t)=>{const{assetList:s}=this.props.lend;let a=(0,g.R_)(t,s);return(0,g.R_)(e,s).totalApy-a.totalApy},showSorterTooltip:!1,render:(e,t)=>{const{assetList:s,openMint:a}=this.props.lend,{totalApy:o,mintApy:i,depositApy:l,wstUSDTDepositApyWithIncrement:n}=(0,g.R_)(t,s),d=(0,yt.Xu)(!0,t.collateralSymbol,i)&&a;return(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:(0,jt.zI)(t,s,a),placement:"bottom",children:(0,y.jsxs)("span",{className:"inline-flex jce pr j-deposit-apy",children:[(0,y.jsxs)("span",{className:"can-click",children:[(0,g.ZV)(d?o:r.Ay.holdingTokens.includes(t.collateralSymbol)?n:l,2,{cutZero:!1,miniText:.01,per:!0}),"%"]}),r.Ay.holdingTokens.includes(t.collateralSymbol)&&(0,y.jsx)("span",{className:"compounded-reward-icon can-click"}),(0,y.jsx)("span",{className:"can-click "+(d?"fire-icon ":"")+(r.Ay.holdingTokens.includes(t.collateralSymbol)?"extra-space ":" ")})]})})}},{title:o.Ay.get("v2.borrow_apy"),dataIndex:"borrowedAPY",key:"3",sortDirections:["descend","ascend"],sorter:(e,t)=>e.borrowedAPY-t.borrowedAPY,showSorterTooltip:!1,render:e=>(0,y.jsxs)("div",{className:"fw500 can-click",children:[(0,g.ZV)((0,tt.A)(e).times(100),2,{cutZero:!1,miniText:.01,per:!0}),"%"]})},{title:this.marketLendTooltipRender(),dataIndex:"totalCashNew",key:"5",sortDirections:["descend","ascend"],sorter:(e,t)=>(0,g.Rh)(e)-(0,g.Rh)(t),showSorterTooltip:!1,render:(e,t)=>(0,y.jsxs)("div",{className:"fw500 can-click",children:[(0,g.Cj)((0,g.Rh)(t),2,{miniText:.01})," ",t.collateralSymbol]})},{title:(0,y.jsx)("div",{className:"ant-table-column-title",children:o.Ay.get("v2.wallet_balance")}),dataIndex:"balance",key:"4",ellipsis:!0,width:(0,i.A)(window.navigator).any?160:"auto",render:(t,s)=>(0,y.jsx)("div",{className:"fw500 can-click",children:a?(0,g.FX)(s,e,{minText:.001}):"-- "+s.collateralSymbol})},{title:(0,y.jsxs)("div",{className:"ant-table-column-title",children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:o.Ay.get("v2.tip4"),placement:"topRight",arrowPointAtCenter:!0,onOpenChange:window.gtag("event","PC_Collateral",{event_category:"PC",event_label:"Collateral"}),children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon j-info-icon1 mr-4"})}),o.Ay.get("v2.collateral")]}),width:"10%",dataIndex:"account_entered",key:"account_entered",render:(e,s)=>2===e?(0,y.jsxs)(v.A,{title:o.Ay.get("index.not_support"),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",children:[(0,y.jsx)(Be.A,{on:!1,lang:t,onClick:()=>{}}),""]}):(0,y.jsx)(Be.A,{on:1===e,lang:t,onClick:()=>{this.onSwitchChange(1===e,s)}})},{title:" ",dataIndex:"",key:"6",ellipsis:!0,fixed:"right",width:(0,i.A)(window.navigator).any?90:170,render:(e,t)=>{var a,i,l,n;const c="trx"===(null===t||void 0===t||null===(a=t.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase()),p="usdt"===(null===t||void 0===t||null===(i=t.collateralSymbol)||void 0===i?void 0:i.toLocaleLowerCase());return(0,y.jsxs)("div",{className:c?"show-stake":"",children:["disabled"===this.props.lend.serviceInnerStatus?(0,y.jsxs)("div",{className:"btn-wrap season",children:[(0,y.jsx)(v.A,{title:o.Ay.getHTML("season.can_not_connect"),placement:"bottomRight",overlayClassName:"j-tooltip-dropdown season "+d,children:(0,y.jsx)("button",{className:"j-btn j-supply j-not-used disabled",onClick:()=>{this.props.lend.setData({noServiceModalAllVisible:!0})},children:o.Ay.get("v2.deposit")})}),(0,y.jsx)(v.A,{title:o.Ay.getHTML("season.can_not_connect"),placement:"bottomRight",overlayClassName:"j-tooltip-dropdown season "+d,children:(0,y.jsx)("button",{className:"j-btn j-borrow j-not-used disabled",onClick:()=>{this.props.lend.setData({noServiceModalAllVisible:!0})},children:o.Ay.get("v2.borrow")})})]}):(0,y.jsxs)("div",{className:"btn-wrap",children:[t.mintPaused?(0,y.jsx)(v.A,{title:()=>{var e,s;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(y.Fragment,{children:[r.Ay.closeTokens.includes(null===t||void 0===t?void 0:t.collateralSymbol)?o.Ay.get("v2.close_supply_tip_"+(null===t||void 0===t||null===(e=t.collateralSymbol)||void 0===e?void 0:e.toLocaleLowerCase()),{token:null===t||void 0===t||null===(s=t.collateralSymbol)||void 0===s?void 0:s.toLocaleUpperCase()}):o.Ay.getHTML("s7.supply_temporarily_disabled",{value:t.collateralSymbol}),(0,y.jsx)("span",{children:o.Ay.get("s6.deposit_hover1")}),(0,y.jsx)("span",{className:"can-click c-9195fb hover",onClick:()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0,this.props.lend.setData({activeKey:"supply"})},children:o.Ay.get("s6.deposit_hover2")}),(0,y.jsx)("span",{children:o.Ay.get("s6.deposit_hover3")}),(0,y.jsx)("span",{className:"can-click c-9195fb hover",onClick:()=>{this.showDAW(t,"2")},children:o.Ay.get("s6.deposit_hover4")}),(0,y.jsx)("span",{children:o.Ay.get("s6.deposit_hover5")})]})})},placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown"+(null!==(l=this.props.lend)&&void 0!==l&&null!==(n=l.DAWPop)&&void 0!==n&&n.show&&["BUSD","ETH"].includes(null===t||void 0===t?void 0:t.collateralSymbol)&&s?" j-tooltip-dropdown-disabled":""),children:(0,y.jsx)("div",{children:(0,y.jsx)("button",{className:"j-btn j-supply",disabled:!!t.mintPaused,onClick:e=>{var s,a;e.preventDefault(),this.clickDeposit(t),window.gtag("event","PC_home_market_supply_"+(null===t||void 0===t||null===(s=t.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),{event_category:"PC_V1.5",event_label:"home_market_supply_"+(null===t||void 0===t||null===(a=t.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())})},children:o.Ay.get("v2.deposit")})})}):"SUNOLD"===t.collateralSymbol?(0,y.jsx)(v.A,{title:o.Ay.get("risk_tip.sunold_deposit"),placement:"top",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown",children:(0,y.jsx)("div",{children:(0,y.jsx)("button",{className:"j-btn j-supply",onClick:e=>{var s,a;e.preventDefault(),this.clickDeposit(t),window.gtag("event","PC_home_market_supply_"+(null===t||void 0===t||null===(s=t.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),{event_category:"PC_V1.5",event_label:"home_market_supply_"+(null===t||void 0===t||null===(a=t.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())})},children:o.Ay.get("v2.deposit")})})}):(0,y.jsx)("button",{className:"j-btn j-supply",onClick:e=>{var s,a;e.preventDefault(),this.clickDeposit(t),window.gtag("event","PC_home_market_supply_"+(null===t||void 0===t||null===(s=t.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),{event_category:"PC_V1.5",event_label:"home_market_supply_"+(null===t||void 0===t||null===(a=t.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase())})},children:o.Ay.get("v2.deposit")}),t.borrowPaused?(0,y.jsx)(v.A,{title:"SUNOLD"===(null===t||void 0===t?void 0:t.collateralSymbol)?o.Ay.getHTML("risk_tip.sunold_borrow"):"ETH"===(null===t||void 0===t?void 0:t.collateralSymbol)?o.Ay.get("risk_tip.ethold_borrow"):o.Ay.get("risk_tip.busd_borrow"),placement:"topRight",arrowPointAtCenter:!0,overlayClassName:"j-tooltip-dropdown j-market-tooltip-dropdown",children:(0,y.jsx)("button",{className:"j-btn j-borrow disabled",children:o.Ay.get("v2.borrow")})}):(0,y.jsx)("button",{className:"j-btn j-borrow",onClick:s=>{var a,o;s.preventDefault(),this.clickBorrow(e,t),window.gtag("event","PC_home_market_borrow_"+(null===t||void 0===t||null===(a=t.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase()),{event_category:"PC_V1.5",event_label:"home_market_borrow_"+(null===t||void 0===t||null===(o=t.collateralSymbol)||void 0===o?void 0:o.toLocaleLowerCase())})},children:o.Ay.get("v2.borrow")})]}),c&&(0,y.jsx)(vt.w,{}),p&&(0,y.jsx)(wt.L,{})]})}}];return p},this.showDAW=(e,t)=>{this.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e}})},this.filterUserEmptySunOld=(e,t)=>{if(e){let s=[...e];return e.map(((e,a)=>{var o;t&&"sunold"===(null===e||void 0===e||null===(o=e.collateralSymbol)||void 0===o?void 0:o.toLowerCase())&&s.splice(a,1)})),s}},this.clickRow=(e,t)=>{var s;const{lang:a}=this.state,o=null===e||void 0===e||null===(s=e.target)||void 0===s?void 0:s.className;try{-1===(null===o||void 0===o?void 0:o.indexOf("j-btn"))&&-1===(null===o||void 0===o?void 0:o.indexOf("ant-table-cell-fix-right"))&&-1===(null===o||void 0===o?void 0:o.indexOf("can-click"))&&(0,g.sJ)(t.jtokenAddress)}catch(e){console.log(e)}},this.onChange=e=>{e&&window.gtag("event","PC_show_balance",{event_category:"PC_V1.5",event_label:"show_balance"}),this.setState({checked:e})},this.searchChange=e=>{window.gtag("event","PC_search_market",{event_category:"PC_V1.5",event_label:"search_market"}),this.setState({seachValue:(""+e.target.value).trim()})},this.onMobileSearchChange=e=>{window.gtag("event","H5_search_market",{event_category:"H5",event_label:"search_market"}),this.setState({seachValue:(""+e.target.value).trim()})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any,checked:!1,seachValue:"",showHiddenMarket:!1}}onClickStake(e){e.stopPropagation(),(0,g.dg)("strx")}onClickShowMore(){this.setState({showHiddenMarket:!0})}render(){let{marketDataSource:e,balanceInfo:t,isUserSunOldEmpty:s,userDataSource:a,mortgageModalInfo:l,userDepositDataSource:d}=this.props.lend;const{mobile:c,checked:p,seachValue:m,showHiddenMarket:h}=this.state,{multyRealStart:u,isConnected:v}=this.props.network,{theme:w,lang:j}=this.props.lend,x="white"===w;p&&(e=e.filter((e=>{var s,a;return!!(0,tt.A)(null===(s=t[e.jtokenAddress])||void 0===s?void 0:s.balance).isNaN()||(0,tt.A)(null===(a=t[e.jtokenAddress])||void 0===a?void 0:a.balance).gt(0)}))),m&&(e=e.filter((e=>{var t,s,a;return(null===e||void 0===e||null===(t=e.collateralName)||void 0===t?void 0:t.toLowerCase().indexOf(m.toLowerCase()))>-1||(null===e||void 0===e||null===(s=e.collateralSymbol)||void 0===s||null===(a=s.toLowerCase())||void 0===a?void 0:a.indexOf(m.toLowerCase()))>-1}))),a&&a.length>0&&(e=e.map((e=>{const t={...e};return a.forEach((e=>{t.collateralSymbol===e.collateralSymbol&&(t.account_entered=e.account_entered,t.account_depositJtoken=e.account_depositJtoken)})),t})));let A=e.map((e=>e.collateralSymbol)).some((e=>r.Ay.hideMarketList.includes(e.toUpperCase()))),b=[],k=[],N=[];if(A){let t=(0,g.vb)(e);b=t.activeMarketList,k=t.hiddenMarketList,N=t.fullMarketList}else b=e,N=e;return(0,y.jsxs)(y.Fragment,{children:[c?(0,y.jsx)(jt.Ay,{marketList:e,checked:p,onSearchValueChange:this.onMobileSearchChange,onCheckedChanged:this.onChange,onSwitchChange:this.onSwitchChange}):this.props.isLoading?(0,y.jsxs)("div",{className:"j-market-list-skeleton",children:[(0,y.jsxs)("div",{className:"market-title-skeleton-row",children:[(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"title-skeleton"}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0,className:"search-input-skeleton"})]}),(0,y.jsx)("div",{className:"skeleton-space"}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:16,width:"100%"},active:!0,className:"list-skeleton"})]}):(0,y.jsxs)("div",{className:"bs-list j-market-list",children:[(0,y.jsxs)("div",{className:"market-top",children:[(0,y.jsx)("div",{children:o.Ay.get("v2.markets")}),(0,y.jsxs)("div",{className:"market-right",children:[v?(0,y.jsx)(f.A,{checked:p,onChange:e=>this.onChange(e.target.checked),className:"show-balance",children:o.Ay.get("v2.show_balance")}):null,(0,y.jsx)(Oe.A,{className:"search-token",prefix:(0,y.jsx)("img",{src:x?ut.A:gt.A,alt:"search"}),placeholder:o.Ay.get("v2.search_market"),value:m,onChange:this.searchChange,allowClear:!0}),(0,y.jsx)(xt.l,{href:`/marketNew?lang=${j}`,children:o.Ay.get("more")})]})]}),(0,y.jsx)(he.A,{onRow:e=>({onClick:t=>{this.clickRow(t,e)}}),columns:this.getInfoColumns(t),dataSource:h?N:b,pagination:!1,locale:{emptyText:g.Hf},scroll:{x:(0,i.A)(window.navigator).any?750:1100},footer:A&&!h?()=>(0,y.jsx)("a",{className:"load-more-btn",onClick:()=>this.onClickShowMore(),children:o.Ay.get("load_more")}):void 0})]}),(0,y.jsx)(mt,{}),l.visible&&(0,y.jsx)(Fe.A,{dataSource:d})]})}})||ht)||ht)||ht)||ht;const kt=bt;var Nt;const ft=(0,l.WQ)("network")(Nt=(0,l.WQ)("lend")(Nt=(0,l.WQ)("pool")(Nt=(0,l.PA)(Nt=class extends a.Component{constructor(e){super(e),this.componentDidMount=async()=>{let e=await(0,Xe.Rv)({perPageCount:3,lang:"en-US"});this.setState({announcementList:e[0]})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,announcementList:{}}}render(){var e;const{isConnected:t}=this.props.network,{}=this.props.lend,{announcementList:s}=this.state;return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"j-subhead j-home-subhead",children:[(0,y.jsx)("div",{className:"j-title",children:o.Ay.get("v2.lend_title")}),(0,y.jsxs)("div",{className:"info",children:[(0,y.jsx)("div",{className:"desc",children:o.Ay.get("strx.stake_home_desc")}),Object.keys(s).length>0&&(0,y.jsxs)("div",{className:"j-announce",children:[(0,y.jsx)("span",{className:"announce-icon"}),(0,y.jsxs)("a",{className:"announce-content",href:`${null===s||void 0===s?void 0:s.html_url}`,target:"announce",rel:"noreferrer",children:[s.title,"\uff08",null===s||void 0===s||null===(e=s.created_at)||void 0===e?void 0:e.substr(0,10),"\uff09"]}),(0,y.jsx)("span",{className:"announce-arrow-icon"})]})]})]}),(0,y.jsx)("div",{className:"j-infos",children:(0,y.jsx)(He,{})})]})}})||Nt)||Nt)||Nt)||Nt;var St;(0,l.WQ)("network")(St=(0,l.WQ)("lend")(St=(0,l.PA)(St=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){var e;const t=(null===(e=(0,g.Sp)())||void 0===e?void 0:e.lang)||window.localStorage.getItem("lang")||o.Ay.options.currentLocale||"en-US";return(0,y.jsxs)("div",{className:"j-ele j-user-list_not-connect"+("en-US"!==t?"":" en"),children:[(0,y.jsx)("div",{className:"nc-header flex aic",children:(0,y.jsx)("span",{className:"j-logo"+(r.Ay.winterThemeVisible?"":" snow-hide")})}),(0,y.jsxs)("div",{className:"nc-progress",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress1"})}),(0,y.jsx)("div",{className:"progress-text progress1",children:o.Ay.get("v2.tip40")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip41")})]}),(0,y.jsx)("div",{className:"nc-line"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress2"})}),(0,y.jsx)("div",{className:"progress-text",children:o.Ay.get("v2.tip42")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip43")})]}),(0,y.jsx)("div",{className:"nc-line"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"progress-ele",children:(0,y.jsx)("span",{className:"progress-img progress3"})}),(0,y.jsx)("div",{className:"progress-text",children:o.Ay.get("v2.tip44")}),(0,y.jsx)("div",{className:"progress-text1 progress1",children:o.Ay.get("v2.tip45")})]})]})]})}})||St)||St);var _t;(0,l.WQ)("network")(_t=(0,l.WQ)("lend")(_t=(0,l.WQ)("system")(_t=(0,l.PA)(_t=class extends a.Component{constructor(e){super(e),this.filterUserEmptySunOld=(e,t)=>{if(e){let s=[...e];return e.map(((e,a)=>{var o;t&&"sunold"===(null===e||void 0===e||null===(o=e.collateralSymbol)||void 0===o?void 0:o.toLowerCase())&&s.splice(a,1)})),s}},this.clickRow=e=>{const{isConnected:t}=this.props.network;if(!t)return this.props.network.connectWallet();0!==this.props.network.isRightChain?0!==this.props.network.isMainNetwork?this.showDAW(e,"1"):this.props.network.showNetworkErrorModal():this.props.network.changeChain()},this.showDAW=(e,t,s)=>{this.props.system.setData({transModalInfo:{declined:!1}}),this.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e,cb:s}})},this.closeRecommend=()=>{window.gtag("event","H5_close_recommend",{event_category:"H5",event_label:"close_recommend"});const e=this.props.network.defaultAccount;window.localStorage.setItem("isShowRecommendToken_"+e,"1"),this.props.lend.setData({isShowRecommendToken:"1"})},this.recommendToken=()=>{const{lang:e}=this.state;let{marketDataSource:t,balanceInfo:s,isUserSunOldEmpty:a,assetList:i,isShowRecommendToken:l,theme:n}=this.props.lend;t=this.filterUserEmptySunOld(t,a);let r="",d="--",c=0,p=null;return t.map((e=>{const{jtokenAddress:t,precision:a,collateralSymbol:o}=e;if(s[t]&&s[t].balance){let l=(0,g.gH)(s[t].balance).div(a);if("usdd"===(null===o||void 0===o?void 0:o.toLowerCase())){c=l,r=o;const{totalApy:t}=(0,g.R_)(e,i);d=t,p=e}}})),!l&&(0,y.jsxs)("div",{className:"j-ele j-recommend "+r.toLowerCase()+("en-US"===e?" en":""),children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-token",children:[(0,y.jsx)("img",{src:r?x.eW[r.toLowerCase()]:"white"===n?Ve:Pe,className:"token-img",alt:""}),(0,y.jsx)("span",{className:"token-text",children:r}),(0,y.jsxs)("div",{className:"recommend-ele",children:[(0,y.jsx)("span",{className:"recommend-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.recommended")})]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-info",children:[(0,y.jsx)("div",{children:o.Ay.get("depositapy")}),(0,y.jsxs)("div",{children:[(0,g.ZV)(d,2,{cutZero:!1,miniText:.01,per:!0}),"%"]})]})}),(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"recommend-info",children:[(0,y.jsx)("div",{children:o.Ay.get("deposit.wallet_balance")}),(0,y.jsx)("div",{children:(0,g.Pi)(p,s)})]})}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{children:r&&(0,y.jsx)("div",{className:"recommend-btn",onClick:()=>this.clickRow(p),children:o.Ay.get("deposit.deposit")})})}),(0,y.jsx)("span",{className:"clear-icon",onClick:this.closeRecommend})]})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,tokenSymbol:"TRX"}}render(){return(0,y.jsx)(y.Fragment,{children:this.recommendToken()})}})||_t)||_t)||_t);var Ct;const Dt=(0,l.WQ)("network")(Ct=(0,l.WQ)("lend")(Ct=(0,l.WQ)("pool")(Ct=(0,l.WQ)("system")(Ct=(0,l.PA)(Ct=class extends a.Component{constructor(e){super(e),this.clickRow=(e,t)=>{if(window.gtag("event","H5_tab_supply_withdraw",{event_category:"H5",event_label:"tab_supply_withdraw"}),!this.props.network.isConnected)return this.props.network.connectWalletV2();if(0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();let s=t.target.classList;if(s){let e=Array.prototype.slice.call(s);if(e.includes("j-tooltip-m")||e.includes("new-switch")||e.includes("j-token"))return}this.showDAW(e,"2")},this.showDAW=(e,t,s)=>{this.props.system.clearRejectError(),this.props.lend.setData({DAWPop:{show:!0,activeKey:t,popData:e,cb:s}})},this.onSwitchChange=(e,t)=>{if(!this.props.network.isConnected)return this.props.network.connectWalletV2();if(0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();if(!this.props.lend.collateralValid(t.collateralSymbol))return;const{jtokenAddress:s}=t;this.props.system.setData({transModalInfo:{declined:!1}}),this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:s},"mortgageModalInfo")},this.cardRender=()=>{const{userDepositDataSource:e}=this.props.lend;let t=e;const{lang:s="en-US",mobile:a}=this.state,{usddJtoken:i,usddoldJtoken:l}=r.Ay;return t.map(((e,t)=>(0,y.jsxs)("div",{className:"j-home-supply-ele",onClick:t=>{this.clickRow(e,t)},children:[(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsxs)("div",{className:"j-hse-logo",children:[(0,y.jsx)("img",{src:(0,g.d5)(e.collateralSymbol),onError:e=>{e.target.onerror=null,e.target.src=Re.default},alt:""}),a?(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:1===e.account_entered?o.Ay.get("s6.collateral_open_hover"):o.Ay.get("s6.collateral_close_hover"),placement:"topRight",arrowPointAtCenter:!0,trigger:["click"],children:(0,y.jsx)("div",{className:"j-token ",children:e.collateralSymbol})}):(0,y.jsx)("div",{className:"j-token",children:e.collateralSymbol}),2===e.account_entered?(0,y.jsx)("span",{className:"colleteral",children:o.Ay.get("index.not_support")}):a?(0,y.jsx)("div",{children:(0,y.jsx)(Be.A,{on:1===e.account_entered,lang:s,onClick:()=>{this.onSwitchChange(1===e.account_entered,e)}})}):(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",title:1===e.account_entered?o.Ay.get("s6.collateral_open_hover"):o.Ay.get("s6.collateral_close_hover"),placement:"top",arrowPointAtCenter:!0,trigger:["hover"],children:(0,y.jsx)("div",{className:"flex aic",children:(0,y.jsx)(Be.A,{on:1===e.account_entered,lang:s,onClick:()=>{this.onSwitchChange(1===e.account_entered,e)}})})})]}),(0,y.jsx)("div",{className:"j-btn j-withdraw",children:o.Ay.get("s6.withdraw_btn")})]}),(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsx)("div",{children:(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",className:"j-tooltip-m",title:o.Ay.getHTML("v2.holder_tip"),placement:"topRight",arrowPointAtCenter:!0,trigger:["click","hover"],children:o.Ay.get("v2.holder")})}),(0,y.jsxs)("div",{className:"j-hse-position",children:[(0,y.jsx)("div",{className:"main-desc",children:(0,g.ZV)((0,g.gH)(e.jtokenAddress===i||e.jtokenAddress===l?e.deposited:e.deposited_usd),2,{miniText:.01,needDolar:!0})}),(0,y.jsxs)("div",{className:"sub-desc",children:[(0,g.ZV)((0,g.gH)(e.deposited),3,{miniText:.001}),"  ",e.collateralSymbol]})]})]})]},e.collateralSymbol+t)))},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any}}render(){const{userDepositDataSource:e,mortgageModalInfo:t}=this.props.lend;let s=e;return(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)("div",{className:"j-home-supply-list",children:[this.cardRender(),t.visible&&(0,y.jsx)(Fe.A,{dataSource:s})]})})}})||Ct)||Ct)||Ct)||Ct)||Ct;var Ht,Tt=s(27561);let Lt=(0,l.WQ)("network")(Ht=(0,l.WQ)("lend")(Ht=(0,l.WQ)("system")(Ht=(0,l.PA)(Ht=class extends a.Component{constructor(e){super(e),this.getColumns=()=>{const{lang:e}=this.state,{usddJtoken:t,usddoldJtoken:s}=r.Ay;return[{title:(0,y.jsx)("span",{className:"c-18c19f",children:o.Ay.get("v2.borrow_token")}),dataIndex:"collateralSymbol",key:"collateralSymbol",width:"16%",render:(e,t)=>(0,y.jsxs)("div",{className:"j-list-logo"+("WBTT"===e?" wbtt":"ETH"===e?" eth":""),children:[(0,y.jsx)("img",{src:t.logoUrl?t.logoUrl:(0,x.E7)(null===t||void 0===t?void 0:t.collateralSymbol),onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)(null===t||void 0===t?void 0:t.collateralSymbol)},alt:""}),(0,y.jsx)("div",{className:"j-token",children:`${e}`})]})},{title:o.Ay.get("v2.borrow_apy"),dataIndex:"lendApy",sortDirections:["descend","ascend"],sorter:(e,t)=>e.lendApy-t.lendApy,showSorterTooltip:!1,key:"4",width:"30%",render:(e,t)=>(0,y.jsx)("div",{children:(0,y.jsxs)("p",{className:"fw500 single",children:[(0,g.ZV)((0,g.gH)(e),2,{per:!0,miniText:"0.01"}),"%"]})})},{title:this.repayRender(),dataIndex:"borrowBalanceNew",sortDirections:["descend","ascend"],sorter:(e,t)=>e.borrowBalanceNewUsd-t.borrowBalanceNewUsd,showSorterTooltip:!1,key:"3",width:"30%",render:(e,a)=>(0,y.jsxs)("div",{children:[(0,y.jsx)("div",{className:"main-desc",children:(0,g.ZV)((0,g.gH)(a.jtokenAddress===t||a.jtokenAddress===s?(0,g.gH)(e).div(a.precision):a.borrowBalanceNewUsd),2,{miniText:.01,needDolar:!0})}),(0,y.jsxs)("div",{className:"sub-desc",children:[(0,g.ZV)((0,g.gH)(e).div(a.precision),3,{miniText:.001})," ",a.collateralSymbol]})]})},{title:" ",dataIndex:"per",key:"4",width:"25%",render:e=>(0,y.jsx)("div",{className:"j-btn j-repay",children:o.Ay.get("v2.repay")})}]},this.repayRender=()=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",arrowPointAtCenter:!0,title:o.Ay.get("v2.tip5"),placement:"top",trigger:"['hover','click']",children:(0,y.jsx)("span",{className:"j-tooltip-icon j-info-icon mr-4"})}),o.Ay.get("v2.debt")]}),this.clickRow=(e,t)=>{if(window.gtag("event","H5_tab_borrow_repay",{event_category:"H5",event_label:"tab_borrow_repay"}),!this.props.network.isConnected)return this.props.network.connectWalletV2();if(0===this.props.network.isRightChain)return void this.props.network.changeChain();if(0===this.props.network.isMainNetwork)return void this.props.network.showNetworkErrorModal();this.props.system.clearRejectError();let s=t.target.classList;if(s){if(Array.prototype.slice.call(s).includes("j-tooltip-m"))return}this.props.lend.showBorrowModal(e,"2")},this.onSwitchChange=(e,t)=>{if(!this.props.lend.collateralValid(t.collateralSymbol))return;const{jtokenAddress:s}=t;this.props.lend.setData({visible:!0,type:e?2:1,jtokenAddress:s},"mortgageModalInfo")},this.cardRender=()=>{const{userLendDataSource:e,theme:t}=this.props.lend,{activeKey:s}=this.props,{usddJtoken:a,usddoldJtoken:i}=r.Ay;return e.length>0?(0,y.jsx)("div",{className:"j-home-supply-list",children:e.map((e=>{var s;return(0,y.jsxs)("div",{className:"j-home-supply-ele",onClick:t=>{this.clickRow(e,t)},children:[(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsxs)("div",{className:"j-hse-logo "+(null===e||void 0===e||null===(s=e.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),children:[(0,y.jsx)("img",{src:"WBTT"===e.collateralSymbol?"white"===t?(0,x.v8)(e.collateralSymbol):Tt:e.logoUrl?e.logoUrl:(0,x.E7)(null===e||void 0===e?void 0:e.collateralSymbol),onError:t=>{t.target.onerror=null,t.target.src=(0,x.E7)(null===e||void 0===e?void 0:e.collateralSymbol)},alt:""}),(0,y.jsx)("div",{className:"j-token",children:e.collateralSymbol})]}),(0,y.jsx)("div",{children:(0,y.jsx)("div",{className:"j-btn j-repay",children:o.Ay.get("v2.repay")})})]}),(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsx)("div",{children:(0,y.jsx)(v.A,{overlayClassName:"j-tooltip-dropdown",className:"j-tooltip-m",arrowPointAtCenter:!0,title:o.Ay.get("v2.tip5"),placement:"topRight",trigger:"['hover','click']",children:o.Ay.get("v2.debt")})}),(0,y.jsxs)("div",{className:"j-hse-position",children:[(0,y.jsx)("div",{className:"main-desc",children:(0,g.ZV)((0,g.gH)(e.jtokenAddress===a||e.jtokenAddress===i?(0,g.gH)(e.borrowBalanceNew).div(e.precision):e.borrowBalanceNewUsd),2,{miniText:.01,needDolar:!0})}),(0,y.jsxs)("div",{className:"sub-desc",children:[(0,g.ZV)((0,g.gH)(e.borrowBalanceNew).div(e.precision),3,{miniText:.001})," ",e.collateralSymbol]})]})]})]},e.collateralSymbol)}))}):"borrow"===s?(0,y.jsx)("div",{className:"j-home-supply-list",children:(0,g.Hf)()}):null},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){return(0,y.jsx)(y.Fragment,{children:this.cardRender()})}})||Ht)||Ht)||Ht)||Ht;const Pt=Lt;var Vt;let It=(0,l.WQ)("network")(Vt=(0,l.WQ)("lend")(Vt=(0,l.WQ)("pool")(Vt=(0,l.WQ)("system")(Vt=(0,l.PA)(Vt=class extends a.Component{constructor(e){super(e),this.componentDidMount=async()=>{await this.getNowTime(),this.getCountTime()},this.getNowTime=async()=>{try{let{multyStart:e}=this.props.network;const t=await(0,Xe.WB)();if(t.success){const s=t.time;if(s<r.Ay.startTime?e=!1:s>=r.Ay.startTime&&(e=!0),this.props.network.setData({nowTime:s,multyStart:e}),s>=r.Ay.latestStartTime+1e4)return void window.localStorage.setItem("nowTime",s)}setTimeout((()=>{this.getNowTime()}),3e3)}catch(e){console.log("get time error",e),setTimeout((()=>{this.getNowTime()}),3e3)}},this.getCountTime=async()=>{if(this.props.network.nowTime>=r.Ay.latestStartTime+1e4)window.localStorage.setItem("nowTime",this.props.network.nowTime);else{if(null===this.props.network.nowTime)await this.getNowTime();else{const e=this.props.network.nowTime+1e3;this.props.network.setData({nowTime:e,multyStart:e>r.Ay.startTime})}setTimeout((async()=>{this.getCountTime()}),1e3)}},this.cancelModal=()=>{this.setState({modalVisible:!1})},this.endStake=async e=>{if(window.gtag("event","H5_claim_withdraw",{event_category:"H5",event_label:"claim_withdraw"}),!this.props.network.isConnected||!(e.staked._toBg().gt(0)||e.trxClaimed._toBg().gt(0)||e.tokenClaimed._toBg().gt(0)))return;const t={title:"stake.unstake",obj:{value:(0,g.ZV)(e.staked,r.Ay.defaultDecimal),token:e.symbol}},s=e.pool,a=e.staked.times(e.precision).toString();let o=[{type:"uint256",value:a}];const i={feeLimit:await this.props.system.getFeeLimitCommon(s,"withdrawAndGetReward(uint256)",o)};await this.props.system.yamWithdraw(e,a,t,i)&&setTimeout((()=>{this.props.pool.getTokenBalanceOf(e),this.props.pool.getPoolData()}),5e3)},this.openModal=async(e,t)=>{await this.props.pool.getTokenBalanceOf(e),t?this.setState({defaultKey:t},(()=>{this.setState({modalVisible:!0})})):this.setState({modalVisible:!0})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,toast:!window.localStorage.getItem("hideWarningTips"),mobile:(0,i.A)(window.navigator).any,modalVisible:!1,defaultKey:"1"}}render(){const{modalVisible:e,defaultKey:t}=this.state,{multyStart:s,nowTime:a}=this.props.network,{theme:i}=this.props.lend,{cardData:l}=this.props;return(0,g.gH)(l.staked).gt(0)?(0,y.jsxs)("div",{className:"j-mining-row",children:[(0,y.jsx)("div",{className:"mining-tip",children:(0,y.jsx)("span",{children:o.Ay.get("v2.tip6")})}),r.Ay.activeSwaps.map((e=>(0,y.jsxs)("div",{className:"j-home-supply-ele",children:[(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsxs)("div",{className:"j-hse-logo",children:[(0,y.jsx)("div",{className:"img-block",children:(0,y.jsx)("img",{src:"white"===i?"data:image/png;base64,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":"data:image/png;base64,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"})}),(0,y.jsxs)("div",{className:"row-symbol",children:[(0,y.jsxs)("div",{children:[l.symbol," "]}),a>l.end&&(0,y.jsxs)("div",{children:[" ",o.Ay.get("v2.get_out")]})]})]}),(0,y.jsx)("div",{children:a>l.end?(0,y.jsx)("button",{className:"j-btn j-supply",disabled:!(this.props.network.isConnected&&(l.staked._toBg().gt(0)||l.trxClaimed._toBg().gt(0)||l.tokenClaimed._toBg().gt(0))),onClick:()=>this.endStake(l),children:o.Ay.get("v2.deposit_withdraw")}):s?((0,g.gH)(l.staked).gt(0),(0,y.jsx)("button",{className:"j-btn j-supply",onClick:()=>this.openModal(l),children:o.Ay.get("v2.deposit_withdraw")})):(0,y.jsx)("button",{className:"j-btn j-supply",disabled:!0,children:o.Ay.get("lend.coming")})})]}),(0,y.jsxs)("div",{className:"j-hse",children:[(0,y.jsx)("div",{className:"j-hse-position",children:(0,y.jsx)("div",{className:"sub-desc",children:o.Ay.get("v2.holder")})}),(0,y.jsx)("div",{className:"j-hse-position",children:(0,y.jsxs)("div",{className:"main-desc",children:[(0,g.ZV)(l.staked,r.Ay.defaultDecimal)," ",l.symbol]})})]})]}))),e&&(0,y.jsx)(Ke,{visible:e,onCancel:this.cancelModal,cardData:l,defaultKey:t,end:a>l.end})]}):null}})||Vt)||Vt)||Vt)||Vt)||Vt;const Mt=It;var Rt;let Bt=(0,l.WQ)("network")(Rt=(0,l.WQ)("lend")(Rt=(0,l.WQ)("strx")(Rt=(0,l.PA)(Rt=class extends a.Component{constructor(){super(...arguments),this.onClose=e=>{e.stopPropagation();const t=this.props.network.defaultAccount;this.props.isUSDDUpdateBanner?(window.localStorage.setItem("isShowUSDDUpdateAd_"+t,"1"),this.props.lend.setData({isShowUSDDUpdateAd:"1"}),window.localStorage.setItem("isShowRecommendToken_"+t,"1"),this.props.lend.setData({isShowRecommendToken:"1"})):(window.localStorage.setItem("isShowRecommendToken_"+t,"1"),this.props.lend.setData({isShowRecommendToken:"1"}))},this.onClick=()=>{(0,g.dg)("strx","old"===this.props.type?"_blank":"_self"),window.gtag("event","H5_recommend_strx",{event_category:"sTRX",event_label:"recommend_strx"})}}componentDidMount(){this.props.strx.getMarketData()}render(){const{theme:e,lang:t}=this.props.lend,s="old"===this.props.type?"white":e,{marketData:a}=this.props.strx;return(0,y.jsxs)("div",{className:"recommend-liquidity-stake "+s+(this.props.isUSDDUpdateBanner?" usdd-update":"")+" "+t+(this.props.isTop?" top":""),onClick:this.onClick,children:[(0,y.jsx)("p",{className:`title ${t}`,children:(0,y.jsx)("span",{className:"icon",children:"NEW"})}),(0,y.jsx)("p",{className:`text ${t}`,children:o.Ay.getHTML("strx.energy_banner_tip",{value:(0,g.ZV)(100*a.avgApy,2,{miniText:.01})+"% APY"})}),(0,y.jsx)("i",{className:"close",onClick:this.onClose}),(0,y.jsx)("div",{className:"bg"})]})}})||Rt)||Rt)||Rt)||Rt;const Ft=s.p+"static/media/arrow-top-white-v2.305cb342747c3a78a46e10063933b79c.svg";const Ut=s.p+"static/media/arrow-top-v2.8691ce7fca4e9c163f054acc931d827f.svg";var Wt;const{comingSoonBannerVisible:Et}=r.Ay;let Qt=(0,l.WQ)("network")(Wt=(0,l.WQ)("lend")(Wt=(0,l.WQ)("pool")(Wt=(0,l.PA)(Wt=class extends a.Component{constructor(e){super(e),this.tabChange=e=>{this.props.lend.setData({activeKey:e})},this.hideToast=()=>{window.gtag("event","H5_hide_toast",{event_category:"PC_V1.5",event_label:"hide_toast"}),this.setState({toast:!1}),window.localStorage.setItem("hideWarningTipsV2",!0)},this.scrollTop=(e,t)=>{if(e){let e=document.getElementsByClassName("show-more-info")[0].offsetTop+520;this.setState({scrollTop:e})}else{const{scrollTop:e}=this.state;document.documentElement.scrollTop=e}const{isDepositShowMore:s,isLendShowMore:a,isShowMoreV2:o}=this.props.network;"isShowMoreV2"===t?this.props.network.setData({isShowMoreV2:!o}):"isDepositShowMore"===t?this.props.network.setData({isDepositShowMore:!s}):"isLendShowMore"===t&&this.props.network.setData({isLendShowMore:!a})},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,toast:!window.localStorage.getItem("hideWarningTipsV2"),scrollTop:0}}render(){const{isDepositShowMore:e,isLendShowMore:t,isShowMoreV2:s}=this.props.network,{userDepositDataSource:a,userLendDataSource:i,isShowRecommendToken:l,isShowUSDDUpdateAd:n,theme:d,activeKey:c}=this.props.lend,{toast:p,lang:m}=this.state,h=(0,g.Ez)("activeKey");let u="";u=h||c?c||h:"all";let v=0,w=0,j=a;j&&j.length&&(v=j.length),i&&i.length&&(w=i.length);let x=(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0)?1:0;let A=window.localStorage.getItem("hideWarningTipsV2");return(0,y.jsxs)(y.Fragment,{children:[v>0&&(0,y.jsxs)("div",{className:"j-home-records",children:[(0,y.jsx)("div",{className:"j-tabs-title",children:o.Ay.get("s6.my_position")}),(0,y.jsxs)("div",{className:"j-home-user-list-tabs",children:[(0,y.jsx)("div",{className:"all"===u?"current":"",onClick:()=>{this.tabChange("all"),window.gtag("event","H5_tab_all",{event_category:"H5",event_label:"tab_all"})},children:(0,y.jsx)("span",{className:"j-tab-text",children:o.Ay.get("v2.all")})}),(0,y.jsxs)("div",{className:"supply"===u?"current":"",onClick:()=>{this.tabChange("supply"),window.gtag("event","H5_tab_supply",{event_category:"H5",event_label:"tab_supply"})},children:[(0,y.jsx)("span",{className:"j-tab-text",children:o.Ay.get("s6.tab_deposit")}),j&&j.length>0&&(0,y.jsx)("span",{className:"j-tab-num supply",children:j.length})]}),(0,y.jsxs)("div",{className:"borrow"===u?"current":"",onClick:()=>{this.tabChange("borrow"),window.gtag("event","H5_tab_borrow",{event_category:"H5",event_label:"tab_borrow"})},children:[(0,y.jsx)("span",{className:"j-tab-text",children:o.Ay.get("s6.tab_borrow")}),i&&i.length>0&&(0,y.jsx)("span",{className:"j-tab-num borrow",children:i.length})]})]}),["all","supply"].includes(u)&&!0===p&&(0,y.jsxs)("div",{className:"j-warning-tip",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{className:"j-warning-icon"}),o.Ay.get("v2.tip7")]}),(0,y.jsx)("div",{className:"clear-icon",onClick:this.hideToast})]}),(0,y.jsx)("div",{className:"j-list-content"+(A?" hide-warning-tips-V2":"")+("all"===u&&x+v+w>5&&!s||"supply"===u&&x+v>5&&!e||"borrow"===u&&w>5&&!t?" is-all-current":"")+("supply"===u&&v<=0||"borrow"===u&&w<=0?" no-data":""),children:(0,y.jsxs)("div",{children:[["all","supply"].includes(u)&&(0,y.jsx)(Dt,{}),["all","supply"].includes(u)&&(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0)&&r.Ay.activeSwaps.map(((e,t)=>(0,y.jsx)(Mt,{cardData:this.props.pool.poolData[e]},e+t))),["all","borrow"].includes(u)&&(0,y.jsx)(Pt,{activeKey:u}),("all"===u&&x+v+w>5&&!s||"supply"===u&&x+v>5&&!e||"borrow"===u&&w>5&&!t)&&(0,y.jsx)("div",{className:"linear"})]})}),"all"===u&&x+v+w>5&&(0,y.jsxs)("div",{className:"show-more-info"+(s?" active":""),onClick:()=>this.scrollTop(!s,"isShowMoreV2"),children:[s?o.Ay.get("slide_up"):o.Ay.get("v2.rewards.expand"),(0,y.jsx)("img",{src:"white"===d?Ft:Ut})]}),"supply"===u&&x+v>5&&(0,y.jsxs)("div",{className:"show-more-info"+(e?" active":""),onClick:()=>this.scrollTop(!e,"isDepositShowMore"),children:[e?o.Ay.get("slide_up"):o.Ay.get("v2.rewards.expand"),(0,y.jsx)("img",{src:"white"===d?Ft:Ut})]}),"borrow"===u&&w>5&&(0,y.jsxs)("div",{className:"show-more-info"+(t?" active":""),onClick:()=>this.scrollTop(!t,"isLendShowMore"),children:[t?o.Ay.get("slide_up"):o.Ay.get("v2.rewards.expand"),(0,y.jsx)("img",{src:"white"===d?Ft:Ut})]})]}),!v>0&&!n&&Et&&(0,y.jsx)(Bt,{isUSDDUpdateBanner:!0,depositNum:v})]})}})||Wt)||Wt)||Wt)||Wt;const Zt=Qt;var Ot;const{comingSoonBannerVisible:Jt}=r.TS;const Yt=(0,l.WQ)("network")(Ot=(0,l.WQ)("lend")(Ot=(0,l.WQ)("pool")(Ot=(0,l.PA)(Ot=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}render(){const{isConnected:e}=this.props.network,{userDepositDataSource:t,userLendDataSource:s,isShowRecommendToken:a,isShowUSDDUpdateAd:o}=this.props.lend;let i=0,l=0,n=t;n&&n.length&&(i=n.length),s&&s.length&&(l=s.length);(0,g.gH)(this.props.pool.poolData.jstlp1.staked).gt(0);return(0,y.jsxs)(y.Fragment,{children:[i>0&&!o&&Jt&&(0,y.jsx)(Bt,{isUSDDUpdateBanner:!0,isTop:!0}),e&&(0,y.jsx)("div",{className:"j-home-user-list"+(a&&o?" h-list":"")+(i>0?"":" new-user"),children:(0,y.jsx)(Zt,{})})]})}})||Ot)||Ot)||Ot)||Ot;var qt,Gt=s(42780);let Kt=(0,l.WQ)("network")(qt=(0,l.WQ)("lend")(qt=(0,l.WQ)("system")(qt=(0,l.WQ)("pool")(qt=(0,l.PA)(qt=class extends a.Component{constructor(e){super(e),this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale}}componentDidMount(){}render(){const{routeName:e}=this.props.network,{theme:t}=this.props.lend;return(0,y.jsxs)("div",{children:[(0,y.jsx)(ft,{}),(0,y.jsx)(Yt,{}),(0,y.jsx)(kt,{}),(0,y.jsx)(p.A,{}),(0,y.jsx)(Gt.A,{theme:t})]})}})||qt)||qt)||qt)||qt)||qt;const zt=Kt;var Xt,$t=s(59278),es=s(61822),ts=s(25034),ss=s(25609),as=s(66338);s(54504),s(75070),s(61272);const{jtrxAddress:os}=r.Ay,{Option:is}=ss.A,{TabPane:ls}=Ze.A;(0,l.WQ)("network")(Xt=(0,l.WQ)("lend")(Xt=(0,l.WQ)("system")(Xt=(0,l.PA)(Xt=class extends a.Component{constructor(e){var t;super(e),t=this,this.componentDidMount=()=>{this.startInterval();const{borrowLimit:e}=this.props.lend,{popData:t}=this.props.lend.DAWPop;this.setState({borrowLimitAfter:e,withdrawLimitAfter:e})},this.getCash=async()=>{const{popData:e={}}=this.props.lend.DAWPop;if(e&&e.jtokenAddress){const{balance:t=0,success:s}=await(0,Je.sl)(e.jtokenAddress);s&&(this.state.poolCash=(0,tt.A)(t))}},this.startInterval=async()=>{this.timerInterval||(await this.getCash(),this.timerInterval=setInterval((async()=>{await this.getCash()}),3e3))},this.clickMaxWithdraw=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{deposited:s=0,collateralDecimal:a}=e,o=(0,tt.A)(s)._toFixed(a,1);try{t.setState({withdrawValue:o},(()=>{t.withdrawChange(o)}))}catch(i){console.log("clickMaxWithdraw: ",i)}},this.clickSafeMax=e=>{try{var t,s;const{borrowLimit:a,totalBorrowUsdForUSDD:o,trxPrice:i,userList:l,marketList:n}=this.props.lend,{precision:d,collateralFactor:c,assetPrice:p,collateralDecimal:m,jtokenAddress:h,deposited_usd:u=0,deposited:v=0}=e,w=(null===(t=l[os])||void 0===t?void 0:t.assetPrice)||(null===(s=n[os])||void 0===s?void 0:s.assetPrice);let j=(0,tt.A)(0);if(j=h===r.Ay.usddJtoken||h===r.Ay.usddoldJtoken?(0,tt.A)(a).minus((0,tt.A)(v).times(c).div(r.Ay.tokenDefaultPrecision)):(0,tt.A)(a).minus((0,tt.A)(u).times(c).div(r.Ay.tokenDefaultPrecision)),!(0,g.ib)(l,h)||this.checkSafe(o,j))return this.setState({isClear:!0}),this.clickMaxWithdraw(e);const x=(0,tt.A)(o).div(r.Ay.safeMaxRate);let y=(0,tt.A)(0);y=h===r.Ay.usddJtoken||h===r.Ay.usddoldJtoken?(0,tt.A)(a).minus(x).div(c).times(r.Ay.tokenDefaultPrecision):(0,tt.A)(a).minus(x).times(r.Ay.defaultPrecision).div(i).times(r.Ay.tokenDefaultPrecision).div(p).times((0,tt.A)(w).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).div(c).times(r.Ay.tokenDefaultPrecision).div(d),y=y.lt(0)?0:y._toFixed(m,1),this.setState({withdrawValue:y,withdrawLimitAfter:x},(()=>{this.withdrawChange(y)}))}catch(a){console.log("clickSafeMax: ",a)}},this.clickSafeMaxNew=(e,t)=>{try{var s,a;const{borrowLimit:o,totalBorrowUsdForUSDD:i,trxPrice:l,userList:n,marketList:d}=this.props.lend,{precision:c,collateralFactor:p,assetPrice:m,collateralDecimal:h,jtokenAddress:g,deposited_usd:u=0,deposited:v=0}=e,w=(null===(s=n[os])||void 0===s?void 0:s.assetPrice)||(null===(a=d[os])||void 0===a?void 0:a.assetPrice);let j=(0,tt.A)(0);j=g===r.Ay.usddJtoken||g===r.Ay.usddoldJtoken?(0,tt.A)(o).minus((0,tt.A)(v).times(p).div(r.Ay.tokenDefaultPrecision)):(0,tt.A)(o).minus((0,tt.A)(u).times(p).div(r.Ay.tokenDefaultPrecision));const x=(0,tt.A)(i).div(t);let y=(0,tt.A)(0);y=g===r.Ay.usddJtoken||g===r.Ay.usddoldJtoken?(0,tt.A)(o).minus(x).div(p).times(r.Ay.tokenDefaultPrecision):(0,tt.A)(o).minus(x).times(r.Ay.defaultPrecision).div(l).times(r.Ay.tokenDefaultPrecision).div(m).times((0,tt.A)(w).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).div(p).times(r.Ay.tokenDefaultPrecision).div(c),y=y.lt(0)?0:y._toFixed(h,1),this.setState({withdrawValue:y,withdrawLimitAfter:x},(()=>{this.withdrawChange(y)}))}catch(o){console.log("clickSafeMax: ",o)}},this.clickMax=()=>{try{const{balanceInfo:e}=this.props.lend,{popData:t}=this.props.lend.DAWPop,{precision:s,collateralDecimal:a,jtokenAddress:o,collateralAddress:i}=t;let l=(0,tt.A)(e[o].balance).div(s);l=i===r.Ay.zeroAddr&&l.lt(0)?0:l._toFixed(a,1),this.setState({depositValue:l},(()=>{this.depositChange(l)}))}catch(e){console.log("clickMax:",e)}},this.checkSafe=(e,t)=>(0,tt.A)(e).eq(0)||(0,tt.A)(e).div(t).gte(0)&&(0,tt.A)(e).div(t).lt(r.Ay.safeMaxRate),this.getSafeMaxText=e=>{try{const{borrowLimit:t,totalBorrowUsdForUSDD:s,userList:a}=this.props.lend,{jtokenAddress:i,deposited_usd:l=0,collateralFactor:n,deposited:d}=e,c=(0,tt.A)(t).minus((0,tt.A)(i===r.Ay.usddJtoken||i===r.Ay.usddoldJtoken?d:l).times(n).div(r.Ay.tokenDefaultPrecision));return!(0,g.ib)(a,i)||this.checkSafe(s,c)?o.Ay.get("deposit.max"):o.Ay.get("withdraw.safemax")}catch(t){return console.log("getSafeMaxText, ",t),o.Ay.get("withdraw.safemax")}},this.selectMax=(e,t)=>{let s=1;s=1==e?.9:.8,this.setState({maxValue:e}),this.clickSafeMaxNew(t,s)},this.maxRender=e=>{const{maxValue:t}=this.state,{borrowLimit:s,totalBorrowUsdForUSDD:a,userList:o}=this.props.lend,{jtokenAddress:i,deposited_usd:l=0,collateralFactor:n,deposited:d}=e,c=(0,tt.A)(s).minus((0,tt.A)(i===r.Ay.usddJtoken||i===r.Ay.usddoldJtoken?d:l).times(n).div(r.Ay.tokenDefaultPrecision)),p=this.getSafeMaxText(e);return!(0,g.ib)(o,i)||this.checkSafe(a,c)?(0,y.jsx)("span",{className:"pointer",onClick:()=>{this.clickSafeMax(e),window.gtag("event","H5_withdraw_maxsafe",{event_category:"H5",event_label:"withdraw_maxsafe"})},children:p}):(0,y.jsx)("span",{className:"pointer",onClick:()=>{this.selectMax(2,e)},children:p})},this.withDrawContent=e=>{var t,s;const{withdrawValue:a,withdrawLimitAfter:i,isClear:l,errInfo2:{btnText:n,status:d},approving:c}=this.state,{openMint:p,borrowLimit:m,totalBorrowUsdForUSDD:h,assetList:u,risk:v,totalBorrowValueInTrx:w,totalCollateralValueInTrx:x,userList:A,marketList:b}=this.props.lend,k=(null===(t=A[os])||void 0===t?void 0:t.assetPrice)||(null===(s=b[os])||void 0===s?void 0:s.assetPrice),N=(0,tt.A)(v).times(100);let f=(0,tt.A)(w).div((0,tt.A)(x).minus((0,tt.A)(a).times(e.assetPrice).times((0,tt.A)(10).pow(e.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,tt.A)(k).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).times(e.collateralFactor).div(r.Ay.tokenDefaultPrecision))).times(100);((0,tt.A)(f).lt(0)||(0,tt.A)(f).gte(100))&&(f=(0,tt.A)(100));this.getSafeMaxText(e);const _=(0,tt.A)(a).gt(0)&&(!(0,tt.A)(m).eq(0)||!(0,tt.A)(i).eq(0)),C=(0,tt.A)(a).gt(0)&&((0,tt.A)(f).gt(0)||(0,tt.A)(N).gt(0)),D=(0,tt.A)(f).gt(100),{totalApy:H,depositApy:T,mintApyUSDD:L}=(0,g.R_)(e,u),{transModalInfo:P}=this.props.system,{declined:V,transType:I}=P;let M=0;return a&&(0,tt.A)(a).gte(0)&&(M=this.getBorrowLimitAfter(a,!0)),(0,y.jsxs)("div",{className:"deposit mt16",children:[(0,y.jsxs)("div",{className:"safe-input",children:[(0,y.jsx)(Oe.A,{className:"j-input "+(n?"j-error-input":""),prefix:l?(0,y.jsx)("span",{children:"~"}):(0,y.jsx)("span",{}),placeholder:o.Ay.get("v2.enter_withdraw_amount"),size:"small",allowClear:!0,addonAfter:this.maxRender(e),value:(0,g.QA)(a),onChange:e=>{this.withdrawChange((0,g.DS)(e.target.value),!0),this.setState({maxValue:-1})},disabled:!!c}),n&&(0,y.jsxs)("div",{className:"j-error-tip",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:D&&C&&0!==e.account_entered?o.Ay.get("withdraw.Insufficient_mortgage"):n})]})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("deposit.Loanlimit")}),(0,y.jsx)("span",{className:"j-content ellipsis ml20",children:(0,tt.A)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(m,2,{miniText:.01,needDolar:!0})}),_&&1==e.account_entered&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,g.ZV)(M,2,{miniText:.01,needDolar:!0})]})]}):(0,g.ZV)(m,2,{miniText:.01,needDolar:!0})})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.risk_value")}),(0,y.jsx)("span",{className:"j-content",children:(0,tt.A)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(N,2)}),C&&1==e.account_entered&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,y.jsx)("span",{children:(0,g.jT)(f,2)})]})]}):(0,g.ZV)(N,2)})]}),(0,y.jsx)("div",{className:"modal-progress",children:C&&e.account_entered&&0!==e.account_entered?(0,g.cW)(N,f):(0,g.cW)(N)}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title flex jcsb aic",children:(0,y.jsx)(j.L,{overlayClassName:"j-tooltip-dropdown",className:"j-tooltip-m",title:p?(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("v2.tip3")}]):(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")}]),placement:"topRight",arrowPointAtCenter:!0,trigger:["click","hover"],children:o.Ay.get("v2.supply_apy")})}),(0,y.jsxs)("span",{className:"j-content",children:[(0,g.yn)(T,{cutZero:!1,useFull:!1,defaultSymbol:!0})," "," + ",(0,g.yn)(L,{cutZero:!1,useFull:!1})]})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.getHTML("v2.deposit_symbol",{symbol:e.collateralSymbol})}),(0,y.jsx)("span",{className:"j-content  balance-change  ellipsis ml20",children:(0,tt.A)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,tt.A)(e.deposited).isNaN()?0:(0,g.ZV)((0,tt.A)(e.deposited),3,{miniText:.01})}),(0,y.jsx)("span",{className:"arrow-right"}),(0,tt.A)(e.deposited).minus(a).lt(0)?"--":(0,g.ZV)((0,tt.A)(e.deposited).minus(a),3)]}):(0,y.jsx)(y.Fragment,{children:(0,tt.A)(e.deposited).isNaN()?0:(0,g.ZV)((0,tt.A)(e.deposited),3)})})]}),c?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)(S.A,{className:"j-large-btn j-withdraw",disabled:!d||D&&0!==e.account_entered,onClick:this.withdraw,children:o.Ay.get("v2.modal_withdraw")}),V&&"withdraw"===I&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})},this.getBorrowLimitAfter=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;try{var a,o;const{DAWPop:i,borrowLimit:l,trxPrice:n,userList:d,marketList:c}=t.props.lend,{popData:p}=i,m=(null===(a=d[os])||void 0===a?void 0:a.assetPrice)||(null===(o=c[os])||void 0===o?void 0:o.assetPrice),{precision:h,assetPrice:g,jtokenAddress:u}=p,v=(0,tt.A)(p.collateralFactor).div(r.Ay.tokenDefaultPrecision);let w=(0,tt.A)(0);return w=u===r.Ay.usddJtoken||u===r.Ay.usddoldJtoken?(0,tt.A)(e).times(v):(0,tt.A)(e).times(h).times(v).times(g).times(n).div((0,tt.A)(m).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).div(r.Ay.tokenDefaultPrecision).div(r.Ay.defaultPrecision),s?l.minus(w).lt(0)?(0,tt.A)(0):l.minus(w):l.plus(w)}catch(i){console.log(`getBorrowLimitAfter error: ${i}`)}},this.setSafeFee=()=>{const{balanceInfo:e}=this.props.lend,{popData:t}=this.props.lend.DAWPop,{precision:s,collateralDecimal:a,jtokenAddress:o}=t;let i=(0,tt.A)(e[o].balance).div(s),l=(0,tt.A)(i).minus(this.state.trxFee)._toFixed(a,1);this.setState({depositValue:l},(()=>{this.depositChange(l)}))},this.depositContent=e=>{var t,s,a,i;const{userList:l,marketList:n,balanceInfo:d,borrowLimit:c,totalBorrowUsdForUSDD:p,assetList:m,risk:h,totalBorrowValueInTrx:u,totalCollateralValueInTrx:w,userDataSource:x,openMint:A}=this.props.lend,b=(null===(t=l[os])||void 0===t?void 0:t.assetPrice)||(null===(s=n[os])||void 0===s?void 0:s.assetPrice);let k=-1;x&&x.length>0&&x.map((t=>{e.collateralSymbol===t.collateralSymbol&&(k=t.account_entered)}));const{lang:N,depositValue:f,borrowLimitAfter:_,errInfo1:{btnText:C,status:D},approving:H}=this.state,T=(0,tt.A)(h).times(100),L=(0,tt.A)(u).div((0,tt.A)(w).plus((0,tt.A)(f).times(e.assetPrice).times((0,tt.A)(10).pow(e.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,tt.A)(b).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).times(e.collateralFactor).div(r.Ay.tokenDefaultPrecision))).times(100),P=""!=f&&(!(0,tt.A)(c).eq(0)||!(0,tt.A)(_).eq(0)),V=""!=f&&((0,tt.A)(L).gt(0)||(0,tt.A)(T).gt(0)),{totalApy:I,depositApy:M,mintApyUSDD:R}=(0,g.R_)(e,m),{precision:B,collateralDecimal:F,jtokenAddress:U,collateralAddress:W}=e;let E=(0,tt.A)(d[U].balance).div(B);const{transModalInfo:Q}=this.props.system,{declined:Z,transType:O}=Q;let J=0;f&&(0,tt.A)(f).gte(0)&&(J=this.getBorrowLimitAfter(f,!1));let Y=(0,tt.A)(e.jtokenAddress===r.Ay.usddJtoken||e.jtokenAddress===r.Ay.usddoldJtoken?e.deposited:e.deposited_usd).times(e.collateralFactor).div(r.Ay.tokenDefaultPrecision);return Y=(0,tt.A)(Y).isNaN()?0:Y,(0,y.jsxs)("div",{className:"deposit mt10",children:[(0,y.jsxs)("div",{className:"j-wallet",children:[(0,y.jsx)("span",{children:o.Ay.get("deposit.wallet_balance")}),(0,g.fw)(e,d,3,!0)]}),(0,y.jsxs)("div",{className:"safe-input",children:[(0,y.jsx)(Oe.A,{className:"j-input "+(C?"j-error-input":""),placeholder:o.Ay.get("v2.enter_deposit_amount"),allowClear:!0,addonAfter:(0,y.jsx)("span",{className:"pointer",onClick:()=>{this.clickMax()},children:o.Ay.get("v2.max")}),value:(0,g.QA)(f),onChange:e=>this.depositChange((0,g.DS)(e.target.value)),disabled:!!H}),C&&(0,y.jsxs)("div",{className:"j-error-tip",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:C})]}),D&&(0,tt.A)(E).lte(this.state.trxFee)?(0,y.jsxs)("div",{className:"j-safe-tip",children:[(0,y.jsx)("span",{className:"j-safe-img"}),(0,y.jsx)("div",{className:"j-safe-text",children:o.Ay.getHTML("v2.tip14",{value:this.state.trxFee})})]}):D&&(0,tt.A)((0,tt.A)(E).minus(this.state.trxFee)).lt(f)?(0,y.jsxs)("div",{className:"j-safe-tip",children:[(0,y.jsx)("span",{className:"j-safe-img"}),(0,y.jsxs)("div",{className:"j-safe-text",children:[o.Ay.getHTML("v2.tip14",{value:this.state.trxFee}),(0,y.jsx)("span",{className:"safe-fee",onClick:e=>this.setSafeFee(),children:o.Ay.get("v2.tip15")})]})]}):""]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:P&&1!==k?(0,y.jsx)(j.L,{className:"j-tooltip-m",overlayClassName:"j-tooltip-dropdown",title:o.Ay.getHTML("v2.tip13",{value:(0,g.ZV)((0,tt.A)(Y).plus(J),2,{miniText:.01,needDolar:!0})}),placement:"bottomLeft",arrowPointAtCenter:!0,trigger:["click","hover"],onOpen:window.gtag("event","H5_Collateral",{event_category:"H5",event_label:"Collateral"}),children:o.Ay.get("v2.borrow_limit")}):o.Ay.get("v2.borrow_limit")}),(0,y.jsx)("span",{className:"j-content ellipsis ml20",children:(0,tt.A)(f).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(c,2,{miniText:.01,needDolar:!0})}),P&&1===k&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,g.ZV)(J,2,{miniText:.01,needDolar:!0})]})]}):(0,g.ZV)(c,2,{miniText:.01,needDolar:!0})})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.risk_value")}),(0,y.jsx)("span",{className:"j-content",children:(0,tt.A)(f).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(T,2)}),V&&1==e.account_entered&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,y.jsx)("span",{children:(0,g.jT)(L,2)})]})]}):(0,g.ZV)(T,2)})]}),(0,y.jsx)("div",{className:"modal-progress",children:1===e.account_entered?(0,g.cW)(T,L):(0,g.cW)(T)}),(0,y.jsxs)("div",{className:"j-modal-ele mt30",children:[(0,y.jsx)("span",{className:"j-title flex jcsb aic",children:(0,y.jsx)(j.L,{className:"j-tooltip-m",overlayClassName:"j-tooltip-dropdown",title:A?(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("v2.tip3")}]):(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")}]),placement:"topLeft",arrowPointAtCenter:!0,trigger:["click","hover"],children:o.Ay.get("v2.supply_apy")})}),(0,y.jsxs)("span",{className:"j-content",children:[(0,g.yn)(M,{cutZero:!1,useFull:!1,defaultSymbol:!0})," "," + ",(0,g.yn)(R,{cutZero:!1,useFull:!1})]})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.getHTML("v2.deposit_symbol",{symbol:e.collateralSymbol})}),(0,y.jsx)("span",{className:"j-content  balance-change ellipsis",children:(0,tt.A)(f).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,tt.A)(e.deposited).isNaN()?0:(0,g.ZV)((0,tt.A)(e.deposited),3,{miniText:.01})}),(0,y.jsx)("span",{className:"arrow-right"}),(0,g.ZV)((0,tt.A)(e.deposited).isNaN()?f:(0,tt.A)(e.deposited).plus(f),3,{miniText:.01})]}):(0,y.jsxs)(y.Fragment,{children:[" ",(0,tt.A)(e.deposited).isNaN()?0:(0,g.ZV)((0,tt.A)(e.deposited),3,{miniText:.01})]})})]}),H?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)(y.Fragment,{children:null!==e&&void 0!==e&&e.mintPaused?(0,y.jsx)(v.A,{title:o.Ay.get("v2.close_supply_tip_"+(null===e||void 0===e||null===(a=e.collateralSymbol)||void 0===a?void 0:a.toLocaleLowerCase()),{token:null===e||void 0===e||null===(i=e.collateralSymbol)||void 0===i?void 0:i.toLocaleUpperCase()}),placement:"top",arrowPointAtCenter:!0,trigger:["click","hover"],overlayClassName:"j-tooltip-dropdown",children:(0,y.jsx)(S.A,{className:"j-large-btn j-supply disabled",children:o.Ay.get("v2.modal_deposit")})}):(0,y.jsx)(S.A,{className:"j-large-btn j-supply",onClick:()=>this.deposit(),disabled:!D,children:o.Ay.get("v2.modal_deposit")})}),Z&&"deposit"===O&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})},this.deposit=async()=>{window.gtag("event","H5_supply_modal_supply_button",{event_category:"H5",event_label:"supply_modal_supply_button"}),this.props.system.clearRejectError();const{depositValue:e,borrowLimitAfter:t}=this.state,{DAWPop:s,userDataSource:a,borrowLimit:o,userList:i,marketList:l}=this.props.lend;let{popData:n}=s;a&&a.length>0&&a.map((e=>{e.collateralSymbol===n.collateralSymbol&&(n.account_entered=e.account_entered,n.deposited=e.deposited,n.deposited_usd=e.deposited_usd)}));let d=(0,tt.A)(n.jtokenAddress===r.Ay.usddJtoken||n.jtokenAddress===r.Ay.usddoldJtoken?n.deposited:n.deposited_usd).times(n.collateralFactor).div(r.Ay.tokenDefaultPrecision);d=(0,tt.A)(d).isNaN()?0:d;const c={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:e,token:n.collateralSymbol||"",transInfo:{show:1!==n.account_entered,borrowLimitAfter:(0,tt.A)(t).plus(d),collateralFactor:(0,tt.A)(n.collateralFactor).div(r.Ay.tokenDefaultPrecision).times(100),jtokenAddress:n.jtokenAddress}},transType:"deposit"};this.setState({isSuccess:!1,txID:"",approving:!0});const p=new tt.A(e).times(n.precision)._toHex(),m=n.jtokenAddress;let h="mint(uint256)",g=[{type:"uint256",value:p}],u={};n.collateralAddress===r.Ay.zeroAddr&&(h="mint()",g=[],u={callValue:p});const v={feeLimit:await this.props.system.getFeeLimitCommon(m,h,g,u)};await this.props.system.justMint(n,p,c,v)&&(window.gtag("event","H5_supply_modal_success",{event_category:"H5",event_label:"supply_modal_success"}),setTimeout((()=>{this.props.lend.getTokenBalanceInfo()}),5e3)),this.setState({approving:!1})},this.getDepositFee=async e=>{const{DAWPop:t,energyFee:s,getEnergyFee:a}=this.props.lend,{popData:o}=t,i={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:e,token:o.collateralSymbol||""}},l=await this.props.system.justMintValue(o,new tt.A(e).times(o.precision)._toHex(),i);let n=s||await a();const r=(0,tt.A)((0,tt.A)(l).times(n).div(1e6)._toFixed(0,1)).plus(2).toNumber();this.setState({trxFee:r})},this.withdraw=async()=>{this.props.system.clearRejectError(),window.gtag("event","H5_supply_modal_withdraw_button",{event_category:"H5",event_label:"supply_modal_withdraw_button"});const{withdrawValue:e,isClear:t}=this.state,{popData:s}=this.props.lend.DAWPop,{jtokenAddress:a}=s,o={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:e,token:s.collateralSymbol},transType:"withdraw"};if(this.setState({approving:!0}),t){const{value:e}=await(0,Je.Md)(a,window.defaultAccount),t=s.jtokenAddress;let i="redeem(uint256)";const l=new tt.A(e)._toHex();let n=[{type:"uint256",value:l}];const r={feeLimit:await this.props.system.getFeeLimitCommon(t,i,n)};return await this.props.system.justRedeem(s,l,o,!0,r),void this.setState({approving:!1})}const i=s.jtokenAddress;const l=new tt.A(e).times(s.precision)._toHex();let n=[{type:"uint256",value:l}];const r={feeLimit:await this.props.system.getFeeLimitCommon(i,"redeemUnderlying(uint256)",n)};await this.props.system.justRedeem(s,l,o,r)&&(window.gtag("event","H5_supply_modal_withdraw_success",{event_category:"H5",event_label:"supply_modal_withdraw_success"}),setTimeout((()=>{this.props.lend.getTokenBalanceInfo(),this.props.detailInfo&&(this.props.lend.getUserData(),this.props.lend.getUserDataFromMarkets(),this.props.lend.getMarketData())}),5e3)),this.setState({approving:!1})},this.approveContent=e=>{const{balanceInfo:t,assetList:s,theme:a,openMint:i}=this.props.lend,{lang:l,approving:n}=this.state,{totalApy:r,depositApy:d,mintApyUSDD:c}=(0,g.R_)(e,s);e.transType="approve";const{transModalInfo:p}=this.props.system,{declined:m,transType:h}=p;return(0,y.jsxs)("div",{className:"approve-content",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("div",{className:"approve-icon"})}),(0,y.jsx)("div",{className:"approve-tip",children:o.Ay.getHTML("deposit.explanation1",{value:e.collateralSymbol})}),(0,y.jsxs)("div",{className:"j-modal-ele approve-apy",children:[(0,y.jsx)("span",{className:"j-title flex jcsb aic",children:(0,y.jsx)(j.L,{className:"j-tooltip-m",overlayClassName:"j-tooltip-dropdown",title:i?(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")},{title:o.Ay.get("v2.tip3")}]):(0,g.YL)(o.Ay.get("v2.tip1"),[{title:o.Ay.get("v2.tip2")}]),placement:"topLeft",arrowPointAtCenter:!0,trigger:["click","hover"],children:o.Ay.get("v2.supply_apy")})}),(0,y.jsxs)("span",{className:"j-content",children:[(0,g.yn)(d,{cutZero:!1,useFull:!1,defaultSymbol:!0})," "," + ",(0,g.yn)(c,{cutZero:!1,useFull:!1})]})]}),n?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)("button",{className:"j-large-btn j-supply",onClick:async()=>{this.props.system.clearRejectError(),window.gtag("event","H5_supply_approve",{event_category:"H5",event_label:"supply_approve"}),this.setState({approving:!0});const t=e.collateralAddress;let s=[{type:"address",value:e.jtokenAddress},{type:"uint256",value:Je.V9}];const a={feeLimit:await this.props.system.getFeeLimitCommon(t,"approve(address,uint256)",s)};await this.props.system.approveToken(e,!1,a)&&(window.gtag("event","H5_supply_approve_success",{event_category:"H5",event_label:"supply_approve_success"}),this.props.lend.getTokenBalanceInfo(),this.props.detailInfo&&(this.props.lend.getUserData(),this.props.lend.getUserDataFromMarkets(),this.props.lend.getMarketData())),this.setState({approving:!1})},children:o.Ay.get("deposit.approve",{value:e.collateralSymbol})}),m&&"approve"===h&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})},this.distribute=e=>{1===e?window.gtag("event","H5_supply_modal_supply_tab",{event_category:"H5",event_label:"supply_modal_supply_tab"}):2===e&&window.gtag("event","H5_supply_modal_withdraw_tab",{event_category:"H5",event_label:"supply_modal_withdraw_tab"});const{DAWPop:t,balanceInfo:s={},userList:a,marketList:o}=this.props.lend;let{popData:i}=t;const{jtokenAddress:l,collateralAddress:n}=i;i=a[l]||o[l];const d=s[l]&&(0,tt.A)(s[l].allowance).gt(0)||!1;return i&&l&&s[l]?1===e?n===r.Ay.zeroAddr||d?this.depositContent(i):this.approveContent(i):this.withDrawContent(i):(0,y.jsx)("div",{className:"loading-box",children:(0,y.jsx)(as.A,{size:"large"})})},this.withdrawChange=async function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{var a,i;const{DAWPop:l,balanceInfo:n,userList:d,marketList:c,risk:p,totalBorrowValueInTrx:m,totalCollateralValueInTrx:h}=t.props.lend;let{popData:u={}}=l;const{jtokenAddress:v}=u;u=d[v]||c[v];const w=(null===(a=d[os])||void 0===a?void 0:a.assetPrice)||(null===(i=c[os])||void 0===i?void 0:i.assetPrice),{deposited:j=0,totalCash:x,collateralDecimal:y}=u,{valid:A,str:b}=(0,g.PY)(e,u.collateralDecimal);if(A){let a=t.state.errInfo2.status,i=t.state.errInfo2.btnText,l=t.state.isClear;t.setState({isClear:!s&&l,withdrawValue:b}),2!==u.account_entered&&0!=e&&t.setState({withdrawLimitAfter:""!==b&&(0,g.ib)(d,v)?t.getBorrowLimitAfter(b,!0):0});const n=(0,tt.A)(b);let c=(0,tt.A)(m).div((0,tt.A)(h).minus((0,tt.A)(e).times(u.assetPrice).times((0,tt.A)(10).pow(u.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,tt.A)(w).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).times(u.collateralFactor).div(r.Ay.tokenDefaultPrecision))).times(100);((0,tt.A)(c).lt(0)||(0,tt.A)(c).gte(100))&&(c=(0,tt.A)(100)),(0,tt.A)(c).gte(100)?(a=!1,i=o.Ay.get("withdraw.Insufficient_mortgage")):(0,g.y5)(n,j)?(a=!1,i=o.Ay.get("v2.tip25")):n.isNaN()||n.eq(0)?(a=!1,i=""):(0,tt.A)(n).gt((0,tt.A)(x).div((0,tt.A)(10).pow(y)))?(a=!1,i=o.Ay.get("withdraw_lack")):(a=!0,i=""),t.setState({errInfo2:{status:a,btnText:i}})}}catch(l){}},this.depositChange=e=>{try{const{DAWPop:t,balanceInfo:s,userList:a}=this.props.lend,{popData:i={}}=t,{jtokenAddress:l,precision:n,collateralSymbol:r}=i,{balance:d}=s[l]||{},{valid:c,str:p}=(0,g.PY)(e,i.collateralDecimal);if(c){let e=this.state.errInfo1.status,t=this.state.errInfo1.btnText;this.setState({depositValue:p,borrowLimitAfter:""===p?this.props.lend.borrowLimit:this.getBorrowLimitAfter(p)});const s=(0,tt.A)(p);(0,g.y5)(s,d,n)?(e=!1,t=o.Ay.get("deposit.amountout")):s.isNaN()||s.eq(0)?(e=!1,t=""):(e=!0,t=""),e&&!this.state.trxFee&&"TRX"===r&&this.getDepositFee(p),this.setState({errInfo1:{status:e,btnText:t}})}}catch(t){}},this.changeTab=e=>{this.props.system.clearRejectError(),1==e?this.withdrawChange("",!0):this.depositChange("",!0);const{DAWPop:t}=this.props.lend,{popData:s}=t;this.props.lend.setData({DAWPop:{show:!0,activeKey:e,popData:s}})},this.getDepositStatus=e=>{try{const{userList:t}=this.props.lend,{jtokenAddress:s}=e,{borrowBalanceNew:a=0}=t[s]||{};return(0,tt.A)(a).gt(0)}catch(t){return!1}},this.timerInterval=null,this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,approved:!1,approving:!1,errInfo1:{btnText:"",status:!1},errInfo2:{btnText:"",status:!1},isClear:!1,poolCash:null,depositValue:"",withdrawValue:"",borrowLimitAfter:"",withdrawLimitAfter:"",trxFee:"",maxValue:-1}}componentWillUnmount(){clearInterval(this.timerInterval),this.timerInterval=null}componentDidUpdate(e,t){if(!(0,tt.A)(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.DAWPop.activeKey))return this.depositChange(this.state.borrowValue);if(2===Number(this.props.lend.DAWPop.activeKey))return this.withdrawChange(this.state.withdrawValue)}}render(){const{DAWPop:e}=this.props.lend,{popData:t={}}=e,{collateralSymbol:s,logoUrl:a}=t;return(0,y.jsx)(u.A,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:a,alt:"",className:s.toLocaleLowerCase(),onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)(s)}}),s||""]}),width:400,height:560,centered:!0,maskClosable:!1,visible:e.show,closable:!0,onCancel:()=>{this.props.lend.hideDAWPop(),this.props.system.clearRejectError(),window.gtag("event","H5_supply_modal_close",{event_category:"H5",event_label:"supply_modal_close"})},footer:null,className:"j-modal j-daw-modal",getContainer:()=>document.querySelector(".j-wrapper"),children:(0,y.jsxs)(Ze.A,{className:"j-supply",defaultActiveKey:e.activeKey,activeKey:e.activeKey,centered:!0,type:"card",onChange:this.changeTab,children:[(0,y.jsx)(ls,{tab:o.Ay.get("v2.modal_deposit"),children:this.distribute(1)},"1"),(0,y.jsx)(ls,{tab:o.Ay.get("v2.modal_withdraw"),children:this.distribute(2)},"2")]})})}})||Xt)||Xt)||Xt);var ns;const{Option:rs}=ss.A,{TabPane:ds}=Ze.A,{jtrxAddress:cs}=r.Ay;(0,l.WQ)("network")(ns=(0,l.WQ)("lend")(ns=(0,l.WQ)("system")(ns=(0,l.PA)(ns=class extends a.Component{constructor(){var e;super(),e=this,this.componentDidMount=()=>{this.startInterval();const{totalBorrowUsdForUSDD:e}=this.props.lend;this.setState({totalBorrowUsdAfter:e,totalRepayUsdAfter:e})},this.getCash=async()=>{try{const{borrowModalInfo:e,userList:t,marketList:s}=this.props.lend,{jtokenAddress:a}=e;if(a){const{balance:e=0,success:t}=await(0,Je.sl)(a);t&&(this.state.poolCash=(0,g.gH)(e))}}catch(e){console.log(e)}},this.startInterval=async()=>{this.timerInterval||(await this.getCash(),this.timerInterval=setInterval((async()=>{await this.getCash()}),3e3))},this.selectMax=e=>{let t=1;t=1==e?.9:.8,this.setState({maxValue:e}),this.clickSafeMax(t)},this.clickSafeMax=e=>{const{borrowModalInfo:t,userList:s,marketList:a}=this.props.lend,{jtokenAddress:o}=t,i=s[o]||a[o];try{var l,n;const{borrowLimit:t,totalBorrowUsdForUSDD:o,trxPrice:d}=this.props.lend,{precision:c,collateralFactor:p,assetPrice:m,collateralDecimal:h,jtokenAddress:u,account_entered:v,deposited:w,deposited_usd:j}=i;let x=t;const y=(null===(l=s[cs])||void 0===l?void 0:l.assetPrice)||(null===(n=a[cs])||void 0===n?void 0:n.assetPrice);0===v&&(x=u===r.Ay.usddJtoken||u===r.Ay.usddoldJtoken?(0,g.gH)(x).plus((0,g.gH)(w).times(p).div(r.Ay.tokenDefaultPrecision)):(0,g.gH)(x).plus((0,g.gH)(j).times(p).div(r.Ay.tokenDefaultPrecision)));const A=(0,g.gH)(x).times(e);let b=(0,g.gH)(0);b=u===r.Ay.usddJtoken||u===r.Ay.usddoldJtoken?(0,g.gH)(A).minus(o):A.minus(o).times(r.Ay.tokenDefaultPrecision).div(m).times((0,g.gH)(y).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).div(d).times(r.Ay.defaultPrecision).div(c),b=b.lt(0)?0:b._toFixed(h,1),this.setState({borrowValue:b,totalBorrowUsdAfter:A},(()=>{this.onChangeBorrow(b)}))}catch(d){console.log("clickSafeMax: ",d)}},this.onChangeBorrow=async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.state.maxValue;try{var a,i;const{borrowModalInfo:l,userList:n,marketList:d,totalBorrowUsdForUSDD:c,borrowLimit:p,totalBorrowValueInTrx:m,totalCollateralValueInTrx:h}=e.props.lend,{jtokenAddress:u}=l,v=n[u]||d[u],{valid:w,str:j}=(0,g.PY)(t,v.collateralDecimal),{collateralDecimal:x,borrowPaused:y}=v,A=(0,g.Rh)(d[u]),b=(null===(a=n[cs])||void 0===a?void 0:a.assetPrice)||(null===(i=d[cs])||void 0===i?void 0:i.assetPrice);if(w){const t=""===j?c:e.getTotalBorrowUsdAfter(j);e.setState({borrowValue:j,totalBorrowUsdAfter:t});let a=e.state.errInfo1.status,i=e.state.errInfo1.btnText;const l=(0,g.gH)(j);let n=p;0===v.account_entered&&(n=v.jtokenAddress===r.Ay.usddJtoken||v.jtokenAddress===r.Ay.usddoldJtoken?(0,g.gH)(n).plus((0,g.gH)(v.deposited).times(v.collateralFactor).div(r.Ay.tokenDefaultPrecision)):(0,g.gH)(n).plus((0,g.gH)(v.deposited_usd).times(v.collateralFactor).div(r.Ay.tokenDefaultPrecision)));const d=(0,g.gH)(m).plus((0,g.gH)(j).times(v.assetPrice).times((0,g.gH)(10).pow(v.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,g.gH)(b).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision)).div(h).times(100);l.isNaN()||l.eq(0)?(a=!1,i=""):(0,g.gH)(d).gte(100)?(0,g.gH)(h).eq(0)?(a=!1,i=o.Ay.get("v2.tip27")):(a=!1,i=o.Ay.get("withdraw.Insufficient_mortgage")):(0,g.gH)(l).gt(A)?(a=!1,i=o.Ay.get("lend_lack")):1==s?(a=!0,i=o.Ay.get("v2.tip20")):(a=!0,i=""),e.setState({errInfo1:{status:a,btnText:i}})}}catch(l){console.log("onChangeBorrow ",l)}},this.getUsd=(e,t,s,a)=>{var o,i;let{precision:l,assetPrice:n,collateralFactor:d}=s;d=(0,g.gH)(s.collateralFactor).div(r.Ay.tokenDefaultPrecision);const{userList:c,marketList:p}=this.props.lend,m=(null===(o=c[cs])||void 0===o?void 0:o.assetPrice)||(null===(i=p[cs])||void 0===i?void 0:i.assetPrice);return s.jtokenAddress===r.Ay.usddJtoken||s.jtokenAddress===r.Ay.usddoldJtoken?(0,g.gH)(e):(0,g.gH)(e).times(l).times(n).times(t).div((0,g.gH)(m).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision).div(r.Ay.tokenDefaultPrecision).div(r.Ay.defaultPrecision)},this.getTotalBorrowUsdAfter=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1?arguments[1]:void 0;try{const{borrowModalInfo:a,userList:o,marketList:i,totalBorrowUsdForUSDD:l,trxPrice:n}=e.props.lend,{jtokenAddress:r}=a,d=o[r]||i[r];let c=e.getUsd(t,n,d,s);return s?(0,g.gH)(l).minus(c):(0,g.gH)(l).plus(c)}catch(a){console.log("getTotalBorrowUsdAfter ",a)}},this.onChangeRepay=function(t){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{const{borrowModalInfo:a,userList:i,marketList:l,totalBorrowUsdForUSDD:n,balanceInfo:r}=e.props.lend,{jtokenAddress:d}=a,c=i[d]||l[d],{precision:p,collateralSymbol:m="",borrowBalanceNew:h=0,collateralDecimal:u}=c,{valid:v,str:w}=(0,g.PY)(t,c.collateralDecimal);if(v){const a=e.state.isClear,i=""===w?n:e.getTotalBorrowUsdAfter(w,!0);e.setState({isClear:!s&&a,repayValue:w}),0!=t&&e.setState({totalRepayUsdAfter:i});const l=(0,g.gH)(h).div(p),{balance:c}=r[d]||{},u=(0,g.gH)(w);let v=e.state.errInfo2.status,j=e.state.errInfo2.btnText;(0,g.gH)(l).lte(0)?(v=!1,j=o.Ay.get("repay.no_debt")):u.isNaN()||u.eq(0)?(v=!1,j=""):u.gt(l)?(v=!1,j=o.Ay.get("repay.exceeded_amount_borrowed")):(0,g.y5)(u,c,p)?(v=!1,j=o.Ay.get("repay.Insufficient_wallet_balance")):(v=!0,j=""),v&&!e.state.trxFee&&"TRX"===m&&e.getRepayBorrowFee(w),e.setState({errInfo2:{status:v,btnText:j}})}}catch(a){console.log("onChangeRepay ",a)}},this.toBorrow=async()=>{window.gtag("event","H5_borrow_modal_borrow_button",{event_category:"H5",event_label:"borrow_modal_borrow_button"}),this.props.system.clearRejectError();const{borrowValue:e}=this.state,{jtokenAddress:t}=this.props.lend.borrowModalInfo,{marketList:s}=this.props.lend,a=s[t];if(!this.props.lend.collateralValid(a.collateralSymbol))return;const o={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:e,token:a.collateralSymbol},transType:"borrow"};this.setState({approving:!0});const i=new g.gH(e).times(a.precision)._toHex(),l=a.jtokenAddress;let n=[{type:"uint256",value:i}];const r={feeLimit:await this.props.system.getFeeLimitCommon(l,"borrow(uint256)",n)};await this.props.system.borrow(a,i,o,r)&&(window.gtag("event","H5_borrow_modal_borrow_success",{event_category:"H5",event_label:"borrow_modal_borrow_success"}),setTimeout((()=>{this.props.lend.getTokenBalanceInfo()}),5e3)),this.setState({approving:!1})},this.maxRender=e=>(0,y.jsx)("span",{className:"pointer",onClick:()=>{this.selectMax(2,e)},children:o.Ay.get("v2.max_safe")}),this.renderBorrow=()=>{var e,t,s,a;const{totalBorrowUsd:i,borrowLimit:l,borrowModalInfo:n,userList:d,marketList:c,totalBorrowUsdForUSDD:p,risk:m,totalBorrowValueInTrx:h,totalCollateralValueInTrx:u,userDataSource:w,userDepositDataSource:j}=this.props.lend,{totalBorrowUsdAfter:x,borrowValue:A,errInfo1:{status:b,btnText:k},maxValue:N,approving:f,lang:_}=this.state,{jtokenAddress:C}=n,D=d[C]||c[C],{precision:H,collateralSymbol:T="",borrowBalanceNew:L}=((0,g.Rh)(c[C]),D),P=L?L.div(H):(0,g.gH)(0),V=(null===(e=d[cs])||void 0===e?void 0:e.assetPrice)||(null===(t=c[cs])||void 0===t?void 0:t.assetPrice);let I=l;0===D.account_entered&&(I=D.jtokenAddress===r.Ay.usddJtoken||D.jtokenAddress===r.Ay.usddoldJtoken?(0,g.gH)(I).plus((0,g.gH)(D.deposited).times(D.collateralFactor).div(r.Ay.tokenDefaultPrecision)):(0,g.gH)(I).plus((0,g.gH)(D.deposited_usd).times(D.collateralFactor).div(r.Ay.tokenDefaultPrecision)));const M=(0,g.gH)(m).times(100),R=(0,g.gH)(h).plus((0,g.gH)(A).times(D.assetPrice).times((0,g.gH)(10).pow(D.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,g.gH)(V).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision)).div(u).times(100),B=(0,g.gH)(A).gt(0)&&(!(0,g.gH)(p).eq(0)||!(0,g.gH)(x).eq(0)),F=(0,g.gH)(A).gt(0)&&(!(0,g.gH)(M).eq(0)||!(0,g.gH)(R).eq(0)),{transModalInfo:U}=this.props.system,{declined:W,transType:E}=U;let Q=0;A&&(0,g.gH)(A).gte(0)&&(Q=this.getTotalBorrowUsdAfter(A,!1));let Z=-1;w&&w.length>0&&w.map((e=>{e.collateralSymbol===D.collateralSymbol&&(Z=e.account_entered,e.account_entered)}));let O=!1,J=0,Y={};return j&&j.length>0&&j.map((e=>{if(1!==e.account_entered){O=!0;let t=e.jtokenAddress===r.Ay.usddJtoken||e.jtokenAddress===r.Ay.usddoldJtoken?e.deposited:e.deposited_usd;(0,g.gH)(t).gt(J)&&(J=t,Y=e)}})),(0,y.jsxs)("div",{className:"mt16 mt10-m",children:[(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"safe-input",children:[(0,y.jsx)(Oe.A,{className:"j-input "+(k?"j-error-input":""),style:{minWidth:100},onChange:e=>{this.onChangeBorrow((0,g.DS)(e.target.value),-1),this.setState({maxValue:-1})},allowClear:!0,addonAfter:this.maxRender(D),value:(0,g.QA)(A),placeholder:o.Ay.get("v2.enter_borrow_amount"),disabled:!!f}),k&&(0,y.jsxs)("div",{className:"j-error-tip",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:k})]})]})}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.total_borrow")}),(0,y.jsx)("span",{className:"j-content ellipsis ml20",children:(0,g.gH)(A).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:(0,g.ZV)(p,2,{miniText:.01,needDolar:!0})}),B&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,g.ZV)(Q,2,{miniText:.01,needDolar:!0})]})]}):(0,g.ZV)(p,2,{miniText:.01,needDolar:!0})})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.risk_value")}),(0,y.jsx)("span",{className:"j-content",children:(0,g.gH)(A).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{children:(0,g.ZV)(M,2)}),F&&(0,g.gH)(A).gt(0)&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,y.jsx)("span",{children:(0,g.jT)(R,2)})]})]}):(0,g.ZV)(M,2)})]}),(0,y.jsx)("div",{className:"modal-progress",children:(0,g.cW)(M,R)})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.borrow_apy")}),(0,y.jsx)("span",{className:"j-content",children:(0,g.yn)(D.lendApy,{cutZero:!1,useFull:!1})})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.borrowed",{symbol:T})}),(0,y.jsx)("span",{className:"j-content  balance-change ellipsis",children:(0,g.gH)(A).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.gH)(P).isNaN()?0:(0,g.ZV)(P,3,{miniText:"0.001",round:!1})}),(0,y.jsx)("span",{className:"arrow-right"}),(0,g.ZV)((0,g.gH)(P).isNaN()?A:(0,g.gH)(P).plus(A),3,{miniText:.001})]}):(0,y.jsx)(y.Fragment,{children:(0,g.gH)(P).isNaN()?0:(0,g.ZV)(P,3,{miniText:"0.001",round:!1})})})]})]}),(0,y.jsxs)("div",{className:"mt-50",children:[(0,g.gH)(A).gt(0)&&((0,g.gH)(u).eq(0)||(0,g.gH)(R).gt(100))?(0,y.jsxs)("div",{className:"borrow-tip borrow-important-tip",children:[(0,y.jsx)("span",{className:"en-US"===_?"en":""}),(0,y.jsx)("span",{children:o.Ay.get("v2.tip23")})]}):1!==Z?(0,y.jsxs)("div",{className:"borrow-tip borrow-important-tip",children:[(0,y.jsx)("span",{className:"en-US"===_?"en":""}),(0,y.jsx)("span",{children:o.Ay.get("v2.tip22")})]}):"",f?(0,y.jsxs)("button",{className:"j-large-btn j-borrow mt-0 j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):null!==D&&void 0!==D&&D.borrowPaused?(0,y.jsx)(v.A,{title:r.Ay.closeTokens.includes(null===D||void 0===D?void 0:D.collateralSymbol)?o.Ay.getHTML("v2.close_borrow_tip_"+(null===D||void 0===D||null===(s=D.collateralSymbol)||void 0===s?void 0:s.toLocaleLowerCase()),{token:null===D||void 0===D||null===(a=D.collateralSymbol)||void 0===a?void 0:a.toLocaleUpperCase()}):o.Ay.getHTML("s7.borrow_temporarily_disabled",{value:null===D||void 0===D?void 0:D.collateralSymbol}),placement:"top",arrowPointAtCenter:!0,trigger:["click","hover"],overlayClassName:"j-tooltip-dropdown",children:(0,y.jsx)(S.A,{className:"j-large-btn j-borrow mt-0 disabled",children:o.Ay.get("v2.modal_borrow")})}):(0,y.jsx)(S.A,{className:"j-large-btn j-borrow mt-0",type:"primary",disabled:!b,onClick:()=>this.toBorrow(),children:o.Ay.get("v2.modal_borrow")}),W&&"borrow"===E&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})]})},this.collateralOn=async e=>{var t;this.props.lend.hideBorrowModal();const{marketList:s}=this.props.lend;this.props.lend.collateralValid(null===(t=s[null===e||void 0===e?void 0:e.jtokenAddress])||void 0===t?void 0:t.collateralSymbol)&&this.props.lend.setData({visible:!0,type:1,jtokenAddress:null===e||void 0===e?void 0:e.jtokenAddress},"mortgageModalInfo")},this.clickMax=(e,t)=>{const s=e._toFixed(t,1);this.setState({isClear:!0,repayValue:s},(()=>{this.onChangeRepay(s)}))},this.approveContent=e=>{const{balanceInfo:t,assetList:s,theme:a}=this.props.lend,{lang:i,approving:l}=this.state,{totalApy:n}=(0,g.R_)(e,s),{precision:r,borrowBalanceNew:d}=e;d?d.div(r):(0,g.gH)(0);e.transType="approve";const{transModalInfo:c}=this.props.system,{declined:p,transType:m}=c;return(0,y.jsxs)("div",{className:"approve-content",children:[(0,y.jsx)("div",{className:"img",children:(0,y.jsx)("div",{className:"approve-icon"})}),(0,y.jsx)("div",{className:"approve-tip",children:o.Ay.getHTML("deposit.explanation1",{value:e.collateralSymbol})}),(0,y.jsxs)("div",{className:"j-modal-ele approve-apy",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("index.markets_borrowapy")}),(0,y.jsx)("span",{className:"j-content",children:(0,g.yn)(e.lendApy,{cutZero:!1,useFull:!1})})]}),l?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)(S.A,{className:"j-large-btn j-repay",onClick:async()=>{this.props.system.clearRejectError(),window.gtag("event","H5_borrow_approve",{event_category:"H5",event_label:"borrow_approve"}),this.setState({approving:!0});const t=e.collateralAddress;let s=[{type:"address",value:e.jtokenAddress},{type:"uint256",value:Je.V9}];const a={feeLimit:await this.props.system.getFeeLimitCommon(t,"approve(address,uint256)",s)};await this.props.system.approveToken(e,!1,a)&&(window.gtag("event","H5_borrow_approve_success",{event_category:"H5",event_label:"borrow_approve_success"}),this.props.lend.getTokenBalanceInfo(),this.props.detailInfo&&(this.props.lend.getUserData(),this.props.lend.getUserDataFromMarkets(),this.props.lend.getMarketData())),this.setState({approving:!1})},children:o.Ay.get("deposit.approve",{value:e.collateralSymbol})}),p&&"approve"===m&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})},this.setSafeFee=()=>{const{balanceInfo:e}=this.props.lend,{userList:t,marketList:s}=this.props.lend,{jtokenAddress:a}=this.props.lend.borrowModalInfo,o=t[a]||s[a],{precision:i,collateralDecimal:l}=o;let n=(0,g.gH)(e[a].balance).div(i),r=(0,g.gH)(n).minus(this.state.trxFee)._toFixed(l,1);this.setState({repayValue:r},(()=>{this.onChangeRepay(r,!0)}))},this.renderRepay=()=>{var e,t;const{totalBorrowUsdAfter:s,repayValue:a,totalRepayUsdAfter:i,errInfo2:{status:l,btnText:n},isClear:d,lang:c,approving:p}=this.state,{borrowLimit:m,totalBorrowUsd:h,balanceInfo:u,userLendDataSource:v,totalBorrowUsdForUSDD:w,risk:j,totalBorrowValueInTrx:x,totalCollateralValueInTrx:A,theme:b}=this.props.lend,{userList:k,marketList:N}=this.props.lend,{jtokenAddress:f}=this.props.lend.borrowModalInfo,_=k[f]||N[f],{precision:C,collateralSymbol:D="",borrowBalanceNew:H,collateralDecimal:T,lendApy:L}=_;let P=H?H.div(C):(0,g.gH)(0);const V=(null===(e=k[cs])||void 0===e?void 0:e.assetPrice)||(null===(t=N[cs])||void 0===t?void 0:t.assetPrice);if((0,g.gH)(P).eq(0))return(0,y.jsxs)("div",{className:"no-repay",children:[(0,y.jsx)("span",{className:"no-repay-icon"}),(0,y.jsx)("div",{children:o.Ay.get("repay.no_debt")}),(0,y.jsx)(S.A,{className:"j-large-btn j-repay",type:"primary",disabled:!0,children:o.Ay.get("repay.repay")})]});let I=u[f]&&u[f].balance&&u[f].balance.div(C),M=P;(0,g.gH)(I).lt(0)&&(I=(0,g.gH)(0)),(0,g.gH)(I).lte(P)&&(M=I);const R=(0,g.gH)(j).times(100),B=v&&1===v.length&&d,F=B&&0!=a?0:(0,g.gH)(x).minus((0,g.gH)(a).times(_.assetPrice).times((0,g.gH)(10).pow(_.collateralDecimal)).div(r.Ay.defaultPrecision).div((0,g.gH)(V).gte(r.Ay.oraclePricePrecision)?r.Ay.oraclePricePrecision:r.Ay.tokenDefaultPrecision)).div(A).times(100),U=""!=a&&0!=a&&(!(0,g.gH)(w).eq(0)||!(0,g.gH)(M).eq(0)),W=""!=a&&0!=a&&(!(0,g.gH)(R).eq(0)||!(0,g.gH)(F).eq(0));let E=(0,g.gH)(u[f].balance).div(C);const{transModalInfo:Q}=this.props.system,{declined:Z,transType:O}=Q;let J=0;return a&&(0,g.gH)(a).gte(0)&&(J=this.getTotalBorrowUsdAfter(a,!0)),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"mt10",children:[(0,y.jsxs)("div",{className:"j-wallet j-wallet-v2",children:[(0,y.jsx)("span",{className:"nowrap",children:o.Ay.get("deposit.wallet_balance")}),(0,g.fw)(_,u,3,!0)]}),(0,y.jsxs)("div",{className:"safe-input",children:[(0,y.jsx)(Oe.A,{className:"j-input "+(n?"j-error-input":""),prefix:d&&(0,g.gH)(I).gt(P)?(0,y.jsx)("span",{children:"~"}):(0,y.jsx)("span",{}),size:"small",allowClear:!0,onChange:e=>this.onChangeRepay((0,g.DS)(e.target.value),!0),addonAfter:(0,y.jsx)("span",{className:"pointer",onClick:()=>{this.clickMax(M,T),window.gtag("event","H5_repay_maxsafe",{event_category:"H5",event_label:"repay_maxsafe"})},children:o.Ay.get("deposit.max")}),value:(0,g.QA)(a),placeholder:o.Ay.get("repay.enter_amount"),disabled:!!p}),n&&(0,y.jsxs)("div",{className:"j-error-tip",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:n})]}),l&&(0,g.gH)(E).lte(this.state.trxFee)?(0,y.jsxs)("div",{className:"j-safe-tip",children:[(0,y.jsx)("span",{className:"j-safe-img"}),(0,y.jsx)("div",{className:"j-safe-text",children:o.Ay.getHTML("safe_tip",{value:this.state.trxFee})})]}):l&&(0,g.gH)((0,g.gH)(E).minus(this.state.trxFee)).lt(a)?(0,y.jsxs)("div",{className:"j-safe-tip",children:[(0,y.jsx)("span",{className:"j-safe-img"}),(0,y.jsxs)("div",{className:"j-safe-text",children:[o.Ay.getHTML("safe_tip",{value:this.state.trxFee}),(0,y.jsx)("span",{className:"safe-fee",onClick:e=>this.setSafeFee(),children:o.Ay.get("safe_fee")})]})]}):""]})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("repay.borrowed_amount")}),(0,y.jsx)("span",{className:"j-content ellipsis ml20",children:(0,g.gH)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(w,2,{miniText:.01,needDolar:!0})}),U&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),B?0:(0,g.ZV)(J,2,{miniText:.01,needDolar:!0})]})]}):(0,g.ZV)(w,2,{miniText:.01,needDolar:!0})})]}),(0,y.jsxs)("div",{children:[(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.risk_value")}),(0,y.jsx)("span",{className:"j-content",children:(0,g.gH)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.ZV)(R,2)}),W&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"arrow-right"}),(0,g.jT)(F,2)]})]}):(0,g.ZV)(R,2)})]}),(0,y.jsx)("div",{className:"modal-progress",children:(0,g.cW)(R,F)})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.borrow_apy")}),(0,y.jsxs)("span",{className:"j-content",children:[(0,g.ZV)((0,g.gH)(L),2,{per:!0,miniText:"0.01"}),"%"]})]}),(0,y.jsxs)("div",{className:"j-modal-ele",children:[(0,y.jsx)("span",{className:"j-title",children:o.Ay.get("v2.borrowed",{symbol:D})}),(0,y.jsx)("span",{className:"j-content balance-change ellipsis ml20",children:(0,g.gH)(a).gt(0)?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("span",{className:"pre",children:(0,g.gH)(P).isNaN()?0:(0,g.ZV)(P,3,{miniText:"0.001",round:!1})}),(0,y.jsx)("span",{className:"arrow-right"}),d&&(0,g.gH)(E).gt(P)?0:(0,g.ZV)((0,g.gH)(P).minus(a),3,{miniText:.001})]}):(0,y.jsx)(y.Fragment,{children:(0,g.gH)(P).isNaN()?0:(0,g.ZV)(P,3,{miniText:"0.001",round:!1})})})]}),(0,y.jsxs)("div",{children:[p?(0,y.jsxs)("button",{className:"j-large-btn j-supply j-signing",disabled:!0,children:[o.Ay.get("v2.sign_in_wallet"),(0,y.jsx)("span",{className:"siging-icon"})]}):(0,y.jsx)(S.A,{className:"j-large-btn j-repay",type:"primary",disabled:!l,onClick:()=>this.repayBorrow(),children:o.Ay.get("v2.modal_repay")}),Z&&"repay"===O&&(0,y.jsxs)("div",{className:"j-error-tip wallet-reject",children:[(0,y.jsx)("span",{className:"j-error-img"}),(0,y.jsx)("div",{children:o.Ay.get("v2.reject_in_wallet")})]})]})]})]})},this.repayBorrow=async()=>{window.gtag("event","H5_borrow_modal_repay_button",{event_category:"H5",event_label:"borrow_modal_repay_button"}),this.props.system.clearRejectError();const{marketList:e,userList:t,balanceInfo:s}=this.props.lend,{jtokenAddress:a}=this.props.lend.borrowModalInfo,{repayValue:o,isClear:i}=this.state,l=t[a]||e[a],{borrowratePerblock:n,precision:d,collateralDecimal:c,collateralSymbol:p,borrowBalanceNew:m}=l;let h=m?m.div(d):(0,g.gH)(0),u=s[a]&&s[a].balance.div(d);"TRX"===p&&(u=(0,g.gH)(u).minus(50),(0,g.gH)(u).lt(0)&&(u=(0,g.gH)(0)));const v={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:o,token:l.collateralSymbol},transType:"repay"};let w=0,j=0;i&&(0,g.gH)(u).gt(h)?(w=Je.V9,l.collateralAddress===r.Ay.zeroAddr&&(j=(0,g.gH)((0,g.gH)(r.Ay.tokenDefaultPrecision).plus((0,g.gH)(n).times(20)).times(o).div(r.Ay.tokenDefaultPrecision)._toFixed(c,1)).times(d)._toHex())):w=(0,g.gH)(o).times(d)._toHex(),this.setState({approving:!0});const x=l.jtokenAddress;let y=[{type:"uint256",value:w}];const A={feeLimit:await this.props.system.getFeeLimitCommon(x,"repayBorrow(uint256)",y)};await this.props.system.repayBorrow(l,w,v,j,i&&(0,g.gH)(u).gt(h),A)&&(window.gtag("event","H5_borrow_modal_repay_success",{event_category:"H5",event_label:"borrow_modal_repay_success"}),setTimeout((()=>{this.props.lend.getTokenBalanceInfo(),this.props.detailInfo&&(this.props.lend.getUserData(),this.props.lend.getUserDataFromMarkets(),this.props.lend.getMarketData())}),5e3)),this.setState({approving:!1})},this.getRepayBorrowFee=async e=>{const{marketList:t,userList:s,balanceInfo:a,energyFee:o,getEnergyFee:i}=this.props.lend,{jtokenAddress:l}=this.props.lend.borrowModalInfo,{isClear:n}=this.state,d=s[l]||t[l],{borrowratePerblock:c,precision:p,collateralDecimal:m,collateralSymbol:h,borrowBalanceNew:u}=d;let v=u?u.div(p):(0,g.gH)(0),w=a[l]&&a[l].balance.div(p);"TRX"===h&&(w=(0,g.gH)(w).minus(50),(0,g.gH)(w).lt(0)&&(w=(0,g.gH)(0)));const j={title:"v2.transaction_confirm",title2:"deposit.transactionsent",title3:"v2.transaction_confirm_fail",title4:"deposit.confirm_transaction",obj:{value:e,token:d.collateralSymbol}};let x=0,y=0;n&&(0,g.gH)(w).gt(v)?(x=Je.V9,d.collateralAddress===r.Ay.zeroAddr&&(y=(0,g.gH)((0,g.gH)(r.Ay.tokenDefaultPrecision).plus((0,g.gH)(c).times(20)).times(e).div(r.Ay.tokenDefaultPrecision)._toFixed(m,1)).times(p)._toHex())):x=(0,g.gH)(e).times(p)._toHex();const A=await this.props.system.repayBorrowValue(d,j,y);let b=o||await i();const k=(0,g.gH)((0,g.gH)(A).times(b).div(1e6)._toFixed(0,1)).plus(2).toNumber();this.setState({trxFee:k})},this.changeTab=e=>{this.props.system.clearRejectError();const{jtokenAddress:t}=this.props.lend.borrowModalInfo;this.props.lend.setData({borrowModalInfo:{type:e,visible:!0,jtokenAddress:t}}),1!==Number(e)?this.onChangeBorrow("",!0):this.onChangeRepay("",!0)},this.renderContent=e=>{1===e?window.gtag("event","H5_borrow_modal_borrow_tab",{event_category:"H5",event_label:"borrow_modal_borrow_tab"}):2===e&&window.gtag("event","H5_borrow_modal_repay_tab",{event_category:"PC_V1.5",event_label:"borrow_modal_repay_tab"});const{borrowModalInfo:t,balanceInfo:s={},marketList:a,userList:o}=this.props.lend,{jtokenAddress:i}=t,l=o[i]||a[i],{collateralAddress:n}=l,d=s[i]&&(0,g.gH)(s[i].allowance).gt(0)||!1;return 1===e?this.renderBorrow():l&&i&&s[i]?n===r.Ay.zeroAddr||d?1===e?this.renderBorrow():this.renderRepay():this.approveContent(l):(0,y.jsx)("div",{className:"loading-box",children:(0,y.jsx)(as.A,{size:"large"})})},this.timerInterval=null,this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,borrowValue:"",repayValue:"",approving:!1,errInfo1:{btnText:"",status:!1},errInfo2:{btnText:"",status:!1},isClear:!1,poolCash:null,totalBorrowUsdAfter:"",totalRepayUsdAfter:"",totalRepayAfter:"",trxFee:"",maxValue:-1,approving:!1}}componentWillUnmount(){clearInterval(this.timerInterval),this.timerInterval=null}componentDidUpdate(e,t){if(!(0,g.gH)(e.lend.borrowLimit).eq(this.props.lend.borrowLimit)){if(1===Number(this.props.lend.borrowModalInfo.type))return this.onChangeBorrow(this.state.borrowValue);if(2===Number(this.props.lend.borrowModalInfo.type))return this.onChangeRepay(this.state.repayValue)}}render(){const{borrowModalInfo:e,marketList:t,userList:s,theme:a}=this.props.lend,{jtokenAddress:i,type:l,visible:n}=e,r=s[i]||t[i],{collateralSymbol:d,logoUrl:c}=r||{};return(0,y.jsx)(u.A,{title:(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("img",{src:c,alt:"",className:d.toLocaleLowerCase(),onError:e=>{e.target.onerror=null,e.target.src=(0,x.E7)(d)}}),d||""]}),width:"calc(100% - 40px)",height:560,maskClosable:!1,visible:n,centered:!0,closable:!0,onCancel:()=>{this.props.lend.hideBorrowModal(),this.props.system.clearRejectError(),window.gtag("event","H5_borrow_modal_close",{event_category:"PC_V1.5",event_label:"borrow_modal_close"})},footer:null,className:`j-modal j-borrow-modal ${a}`,getContainer:()=>document.querySelector(".j-wrapper"),children:!!r&&(0,y.jsxs)(Ze.A,{className:"j-borrow",defaultActiveKey:l,activeKey:l,centered:!0,type:"card",onChange:this.changeTab,children:[(0,y.jsx)(ds,{tab:o.Ay.get("v2.modal_borrow"),children:this.renderContent(1)},"1"),(0,y.jsx)(ds,{tab:o.Ay.get("v2.modal_repay"),children:this.renderContent(2)},"2")]})})}})||ns)||ns)||ns);var ps,ms=s(66981),hs=s(40437);s(46555),s(95893);let gs=(0,l.WQ)("network")(ps=(0,l.WQ)("lend")(ps=(0,l.WQ)("system")(ps=(0,l.WQ)("pool")(ps=(0,l.PA)(ps=class extends a.Component{constructor(e){super(e),this.componentDidMount=async()=>{document.title="JustLend DAO | JustLend DAO is the first official lending platform on TRON where users can borrow, lend, deposit assets\n    and earn interests.",setTimeout((()=>{window.scrollTo(0,0),document.body.scrollTop=0,document.documentElement.scrollTop=0}),2e3),this.props.lend.setVariablesInterval(),this.props.pool.setVariablesInterval(),await this.props.network.getNowTime(),this.props.network.getCountTime();let e=await(0,Xe.Rv)({perPageCount:3,lang:"en-US"});this.setState({announcementList:e[0],didGetAnnouncements:!0})},this.getUserData=async()=>{this.props.lend.getRecomendToken(),await this.props.lend.getMultiReward(),await this.props.lend.getMintInfo(),await this.props.lend.getUserData(),await this.props.lend.getUserDataFromMarkets(),await this.props.lend.getTokenBalanceInfo(),await this.props.lend.getEnergyFee(),this.props.network.isConnected&&(this.props.lend.getRiojBalance(),this.props.lend.getContinueDisabledStatus())},this.getMarketData=async()=>{this.props.lend.getRiojCheck(),this.props.lend.getMintPaused(),this.props.lend.getPaused(),this.props.lend.getAmountLimit(),await this.props.lend.getMintInfo(),await this.props.lend.getMarketData(),await this.props.lend.getDashboardData(),await this.props.pool.getPoolData(),await this.props.pool.getTronbullish()},this.state={lang:window.localStorage.getItem("lang")||o.Ay.options.currentLocale,mobile:(0,i.A)(window.navigator).any,announcementList:{},didGetAnnouncements:!1}}componentWillUnmount(){this.props.lend.clearVariablesInterval(),this.props.pool.clearVariablesInterval()}render(){var e;const{DAWPop:t,borrowModalInfo:s,theme:a,userDepositDataSource:i,marketDataSource:l,totalCollateralShow:m}=this.props.lend,{mobile:h,announcementList:g,didGetAnnouncements:u,activeKey:v}=this.state,{isConnected:w,initConnection:j}=this.props.network;let x=!l||!i||!g;return(h||!w&&j)&&(x=!1),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"j-wrapper "+a+(h?" j-wrapper-m":"")+(r.Ay.winterThemeVisible?" snow-show":""),children:[r.Ay.winterThemeVisible&&(0,y.jsx)(ts.A,{fromPage:"home"}),(0,y.jsx)(d.A,{instantActions:this.getMarketData,mountedActions:this.getUserData}),(0,y.jsx)(c.A,{pageName:"home"}),h?(0,y.jsx)(zt,{}):(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)("div",{className:"j-container j-home",children:[(0,y.jsxs)("div",{className:"j-subhead",children:[x?(0,y.jsx)(n.A,{className:"tall-skeleton",title:!1,paragraph:{rows:1,width:"100px"},active:!0}):(0,y.jsx)("div",{className:"j-title",children:o.Ay.get("v2.lend_title")}),(0,y.jsxs)("div",{className:"info",children:[x?(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"200px"},active:!0}):(0,y.jsx)("div",{className:"desc",children:o.Ay.get("strx.stake_home_desc")}),x?(0,y.jsxs)("div",{className:"j-announce-skeleton",children:[(0,y.jsx)("span",{className:"announce-icon"}),(0,y.jsx)(n.A,{title:!1,paragraph:{rows:1,width:"100%"},active:!0})]}):Object.keys(g).length>0&&(0,y.jsxs)("div",{className:"j-announce",children:[(0,y.jsx)("span",{className:"announce-icon"}),(0,y.jsxs)("a",{className:"announce-content",href:`${null===g||void 0===g?void 0:g.html_url}`,target:"announce",rel:"noreferrer",children:[g.title,"\uff08",null===g||void 0===g||null===(e=g.created_at)||void 0===e?void 0:e.substr(0,10),"\uff09"]}),(0,y.jsx)("span",{className:"announce-arrow-icon"})]})]})]}),(0,y.jsxs)("div",{className:"j-infos",children:[(0,y.jsx)(He,{isLoading:x}),(0,y.jsx)(nt,{isLoading:x})]}),(0,y.jsx)(kt,{isLoading:x})]}),(0,y.jsx)(p.A,{})]})]}),t.show&&(0,y.jsx)($t.A,{}),s.visible&&(0,y.jsx)(es.A,{}),(0,y.jsx)(hs.A,{}),m&&(0,y.jsx)(ms.A,{})]})}})||ps)||ps)||ps)||ps)||ps;const us=gs;var vs;const ws=(0,l.WQ)("network")(vs=(0,l.PA)(vs=class extends a.Component{constructor(e){super(e),this.componentDidMount=async()=>{this.props.network.setData({routeName:"home"})}}render(){return(0,y.jsx)(us,{})}})||vs)||vs},73185:(e,t,s)=>{s.d(t,{A:()=>a});s(76998);const a=s.p+"static/media/modal-close.0d98c4ac7cdae154a83275ce568ae770.svg"},79467:(e,t,s)=>{s.d(t,{A:()=>a});s(76998);const a=s.p+"static/media/white-close.20ac85ccaf58ba4694de056df04e78c8.svg"},80646:()=>{}}]);